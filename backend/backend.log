{"timestamp": "2025-08-24T06:46:44.242728Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Serving Flask app 'app'
 * Debug mode: on
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.4.151:8080
[33mPress CTRL+C to quit[0m
 * Restarting with stat
{"timestamp": "2025-08-24T06:46:44.998293Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
127.0.0.1 - - [23/Aug/2025 23:46:46] "[33mGET /manifest.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [23/Aug/2025 23:46:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [23/Aug/2025 23:46:47] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
127.0.0.1 - - [23/Aug/2025 23:46:47] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
{"timestamp": "2025-08-24T06:46:51.150770Z", "level": "INFO", "message": "Stitching story 9706fd72-3a92-4423-96d9-8a81edc80d9c", "module": "app", "function": "stitch_story", "line": 115}
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
/Users/bbassett/simple/backend/services/cloud_service.py:188: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  query = query.where(field, operator, value)
{"timestamp": "2025-08-24T06:46:53.944350Z", "level": "ERROR", "message": "Error stitching story: got an unexpected keyword argument 'verbose'", "module": "app", "function": "stitch_story", "line": 122}
127.0.0.1 - - [23/Aug/2025 23:46:53] "[35m[1mPOST /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c/stitch HTTP/1.1[0m" 500 -
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/mp-00dxs4o2'}
  warnings.warn(
{"timestamp": "2025-08-24T06:49:58.379654Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Serving Flask app 'app'
 * Debug mode: on
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.4.151:8080
[33mPress CTRL+C to quit[0m
 * Restarting with stat
{"timestamp": "2025-08-24T06:49:59.178602Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
127.0.0.1 - - [23/Aug/2025 23:50:01] "[33mGET /manifest.json HTTP/1.1[0m" 404 -
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [23/Aug/2025 23:50:01] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
127.0.0.1 - - [23/Aug/2025 23:50:01] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/mp-gznllu85'}
  warnings.warn(
{"timestamp": "2025-08-24T15:45:56.934180Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Serving Flask app 'app'
 * Debug mode: on
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.4.151:8080
[33mPress CTRL+C to quit[0m
 * Restarting with stat
{"timestamp": "2025-08-24T15:45:57.752279Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
127.0.0.1 - - [24/Aug/2025 08:45:59] "[33mGET /manifest.json HTTP/1.1[0m" 404 -
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [24/Aug/2025 08:46:00] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:46:00] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
{"timestamp": "2025-08-24T15:48:30.518149Z", "level": "INFO", "message": "Stitching story 9706fd72-3a92-4423-96d9-8a81edc80d9c", "module": "app", "function": "stitch_story", "line": 115}
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
/Users/bbassett/simple/backend/services/cloud_service.py:188: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  query = query.where(field, operator, value)
{"timestamp": "2025-08-24T15:48:33.459766Z", "level": "ERROR", "message": "Error stitching story: got an unexpected keyword argument 'verbose'", "module": "app", "function": "stitch_story", "line": 122}
127.0.0.1 - - [24/Aug/2025 08:48:33] "[35m[1mPOST /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c/stitch HTTP/1.1[0m" 500 -
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/mp-_ba1mph1'}
  warnings.warn(
{"timestamp": "2025-08-24T15:50:06.532445Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Serving Flask app 'app'
 * Debug mode: on
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.4.151:8080
[33mPress CTRL+C to quit[0m
 * Restarting with stat
{"timestamp": "2025-08-24T15:50:07.346031Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
127.0.0.1 - - [24/Aug/2025 08:50:09] "[33mGET /manifest.json HTTP/1.1[0m" 404 -
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [24/Aug/2025 08:50:09] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:50:10] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
{"timestamp": "2025-08-24T15:50:26.957466Z", "level": "INFO", "message": "Stitching story 9706fd72-3a92-4423-96d9-8a81edc80d9c", "module": "app", "function": "stitch_story", "line": 115}
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
/Users/bbassett/simple/backend/services/cloud_service.py:188: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  query = query.where(field, operator, value)
{"timestamp": "2025-08-24T15:50:28.533863Z", "level": "ERROR", "message": "Error stitching story: got an unexpected keyword argument 'verbose'", "module": "app", "function": "stitch_story", "line": 122}
127.0.0.1 - - [24/Aug/2025 08:50:28] "[35m[1mPOST /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c/stitch HTTP/1.1[0m" 500 -
127.0.0.1 - - [24/Aug/2025 08:51:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
 * Detected change in '/Users/bbassett/simple/backend/services/video_service.py', reloading
 * Restarting with stat
{"timestamp": "2025-08-24T15:51:31.046777Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/mp-h39ia95m'}
  warnings.warn(
{"timestamp": "2025-08-24T15:52:21.766035Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Serving Flask app 'app'
 * Debug mode: on
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://192.168.4.151:8080
[33mPress CTRL+C to quit[0m
 * Restarting with stat
{"timestamp": "2025-08-24T15:52:22.627073Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
127.0.0.1 - - [24/Aug/2025 08:52:24] "[33mGET /manifest.json HTTP/1.1[0m" 404 -
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [24/Aug/2025 08:52:25] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:52:25] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
{"timestamp": "2025-08-24T15:52:36.511204Z", "level": "INFO", "message": "Stitching story 9706fd72-3a92-4423-96d9-8a81edc80d9c", "module": "app", "function": "stitch_story", "line": 115}
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
/Users/bbassett/simple/backend/services/cloud_service.py:188: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  query = query.where(field, operator, value)
MoviePy - Building video /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_e8wefe8i/stitched_final.mp4.
MoviePy - Writing audio in /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_e8wefe8i/temp-audio.m4a
chunk:   0%|          | 0/530 [00:00<?, ?it/s, now=None]chunk:  31%|███       | 163/530 [00:00<00:00, 1600.86it/s, now=None]chunk:  61%|██████    | 324/530 [00:00<00:00, 1572.83it/s, now=None]                                                                    MoviePy - Done.
MoviePy - Writing video /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_e8wefe8i/stitched_final.mp4

frame_index:   0%|          | 0/576 [00:00<?, ?it/s, now=None]frame_index:   1%|          | 6/576 [00:00<00:09, 57.97it/s, now=None]frame_index:   2%|▏         | 12/576 [00:00<00:10, 52.16it/s, now=None]frame_index:   3%|▎         | 18/576 [00:00<00:11, 50.65it/s, now=None]frame_index:   4%|▍         | 24/576 [00:00<00:11, 49.32it/s, now=None]frame_index:   5%|▌         | 29/576 [00:00<00:11, 48.22it/s, now=None]frame_index:   6%|▌         | 34/576 [00:00<00:11, 46.99it/s, now=None]frame_index:   7%|▋         | 39/576 [00:00<00:11, 46.74it/s, now=None]frame_index:   8%|▊         | 44/576 [00:00<00:11, 47.16it/s, now=None]frame_index:   9%|▊         | 49/576 [00:01<00:11, 47.04it/s, now=None]frame_index:   9%|▉         | 54/576 [00:01<00:11, 46.91it/s, now=None]frame_index:  10%|█         | 59/576 [00:01<00:11, 46.54it/s, now=None]frame_index:  11%|█         | 64/576 [00:01<00:10, 47.11it/s, now=None]frame_index:  12%|█▏        | 69/576 [00:01<00:10, 47.50it/s, now=None]frame_index:  13%|█▎        | 74/576 [00:01<00:10, 47.58it/s, now=None]frame_index:  14%|█▎        | 79/576 [00:01<00:10, 46.75it/s, now=None]frame_index:  15%|█▍        | 84/576 [00:01<00:10, 46.88it/s, now=None]frame_index:  15%|█▌        | 89/576 [00:01<00:10, 46.54it/s, now=None]frame_index:  16%|█▋        | 94/576 [00:01<00:10, 46.79it/s, now=None]frame_index:  17%|█▋        | 99/576 [00:02<00:10, 46.77it/s, now=None]frame_index:  18%|█▊        | 104/576 [00:02<00:10, 46.41it/s, now=None]frame_index:  19%|█▉        | 109/576 [00:02<00:09, 46.95it/s, now=None]frame_index:  20%|█▉        | 114/576 [00:02<00:09, 47.63it/s, now=None]frame_index:  21%|██        | 119/576 [00:02<00:09, 47.27it/s, now=None]frame_index:  22%|██▏       | 124/576 [00:02<00:09, 47.56it/s, now=None]frame_index:  22%|██▏       | 129/576 [00:02<00:09, 47.87it/s, now=None]frame_index:  23%|██▎       | 134/576 [00:02<00:09, 46.90it/s, now=None]frame_index:  24%|██▍       | 139/576 [00:02<00:09, 47.01it/s, now=None]frame_index:  25%|██▌       | 144/576 [00:03<00:09, 47.18it/s, now=None]frame_index:  26%|██▌       | 149/576 [00:03<00:09, 47.18it/s, now=None]frame_index:  27%|██▋       | 154/576 [00:03<00:08, 47.21it/s, now=None]frame_index:  28%|██▊       | 159/576 [00:03<00:08, 47.06it/s, now=None]frame_index:  28%|██▊       | 164/576 [00:03<00:08, 47.20it/s, now=None]frame_index:  29%|██▉       | 169/576 [00:03<00:08, 46.50it/s, now=None]frame_index:  30%|███       | 174/576 [00:03<00:08, 47.50it/s, now=None]frame_index:  31%|███       | 179/576 [00:03<00:08, 46.91it/s, now=None]frame_index:  32%|███▏      | 184/576 [00:03<00:08, 46.69it/s, now=None]frame_index:  33%|███▎      | 189/576 [00:03<00:08, 47.00it/s, now=None]frame_index:  34%|███▎      | 194/576 [00:04<00:08, 46.96it/s, now=None]frame_index:  35%|███▍      | 199/576 [00:04<00:07, 47.15it/s, now=None]frame_index:  36%|███▌      | 205/576 [00:04<00:07, 47.91it/s, now=None]frame_index:  36%|███▋      | 210/576 [00:04<00:07, 47.83it/s, now=None]frame_index:  37%|███▋      | 215/576 [00:04<00:07, 47.70it/s, now=None]frame_index:  38%|███▊      | 220/576 [00:04<00:07, 46.31it/s, now=None]frame_index:  39%|███▉      | 225/576 [00:04<00:07, 45.42it/s, now=None]frame_index:  40%|███▉      | 230/576 [00:04<00:07, 44.82it/s, now=None]frame_index:  41%|████      | 235/576 [00:04<00:07, 45.61it/s, now=None]frame_index:  42%|████▏     | 240/576 [00:05<00:07, 46.38it/s, now=None]frame_index:  43%|████▎     | 245/576 [00:05<00:07, 46.52it/s, now=None]frame_index:  43%|████▎     | 250/576 [00:05<00:06, 46.88it/s, now=None]frame_index:  44%|████▍     | 255/576 [00:05<00:06, 47.00it/s, now=None]frame_index:  45%|████▌     | 260/576 [00:05<00:06, 47.40it/s, now=None]frame_index:  46%|████▌     | 265/576 [00:05<00:06, 47.10it/s, now=None]frame_index:  47%|████▋     | 270/576 [00:05<00:06, 47.07it/s, now=None]frame_index:  48%|████▊     | 275/576 [00:05<00:06, 46.68it/s, now=None]frame_index:  49%|████▊     | 280/576 [00:05<00:06, 45.98it/s, now=None]frame_index:  49%|████▉     | 285/576 [00:06<00:06, 45.50it/s, now=None]frame_index:  50%|█████     | 290/576 [00:06<00:06, 46.19it/s, now=None]frame_index:  51%|█████     | 295/576 [00:06<00:06, 46.64it/s, now=None]frame_index:  52%|█████▏    | 300/576 [00:06<00:05, 46.88it/s, now=None]frame_index:  53%|█████▎    | 305/576 [00:06<00:05, 47.17it/s, now=None]frame_index:  54%|█████▍    | 310/576 [00:06<00:05, 47.53it/s, now=None]frame_index:  55%|█████▍    | 315/576 [00:06<00:05, 47.27it/s, now=None]frame_index:  56%|█████▌    | 320/576 [00:06<00:05, 46.48it/s, now=None]frame_index:  56%|█████▋    | 325/576 [00:06<00:05, 46.43it/s, now=None]frame_index:  57%|█████▋    | 330/576 [00:07<00:05, 45.96it/s, now=None]frame_index:  58%|█████▊    | 335/576 [00:07<00:05, 46.03it/s, now=None]frame_index:  59%|█████▉    | 340/576 [00:07<00:05, 46.23it/s, now=None]frame_index:  60%|█████▉    | 345/576 [00:07<00:05, 43.44it/s, now=None]frame_index:  61%|██████    | 350/576 [00:07<00:05, 44.60it/s, now=None]frame_index:  62%|██████▏   | 355/576 [00:07<00:04, 44.37it/s, now=None]frame_index:  62%|██████▎   | 360/576 [00:07<00:04, 44.57it/s, now=None]frame_index:  63%|██████▎   | 365/576 [00:07<00:04, 45.12it/s, now=None]frame_index:  64%|██████▍   | 370/576 [00:07<00:04, 45.71it/s, now=None]frame_index:  65%|██████▌   | 375/576 [00:08<00:04, 45.09it/s, now=None]frame_index:  66%|██████▌   | 380/576 [00:08<00:04, 45.32it/s, now=None]frame_index:  67%|██████▋   | 385/576 [00:08<00:04, 44.88it/s, now=None]frame_index:  68%|██████▊   | 390/576 [00:08<00:04, 45.36it/s, now=None]frame_index:  69%|██████▊   | 395/576 [00:08<00:03, 45.62it/s, now=None]frame_index:  69%|██████▉   | 400/576 [00:08<00:03, 46.43it/s, now=None]frame_index:  70%|███████   | 405/576 [00:08<00:03, 46.57it/s, now=None]frame_index:  71%|███████   | 410/576 [00:08<00:03, 47.06it/s, now=None]frame_index:  72%|███████▏  | 415/576 [00:08<00:03, 47.49it/s, now=None]frame_index:  73%|███████▎  | 420/576 [00:08<00:03, 47.49it/s, now=None]frame_index:  74%|███████▍  | 425/576 [00:09<00:03, 47.19it/s, now=None]frame_index:  75%|███████▍  | 430/576 [00:09<00:03, 47.23it/s, now=None]frame_index:  76%|███████▌  | 435/576 [00:09<00:02, 47.23it/s, now=None]frame_index:  76%|███████▋  | 440/576 [00:09<00:02, 46.50it/s, now=None]frame_index:  77%|███████▋  | 445/576 [00:09<00:02, 46.73it/s, now=None]frame_index:  78%|███████▊  | 450/576 [00:09<00:02, 45.65it/s, now=None]frame_index:  79%|███████▉  | 455/576 [00:09<00:02, 44.75it/s, now=None]frame_index:  80%|███████▉  | 460/576 [00:09<00:02, 44.29it/s, now=None]frame_index:  81%|████████  | 465/576 [00:09<00:02, 44.36it/s, now=None]frame_index:  82%|████████▏ | 470/576 [00:10<00:02, 45.03it/s, now=None]frame_index:  82%|████████▏ | 475/576 [00:10<00:02, 45.07it/s, now=None]frame_index:  83%|████████▎ | 480/576 [00:10<00:02, 44.68it/s, now=None]frame_index:  84%|████████▍ | 485/576 [00:10<00:01, 45.54it/s, now=None]frame_index:  85%|████████▌ | 490/576 [00:10<00:01, 45.49it/s, now=None]frame_index:  86%|████████▌ | 495/576 [00:10<00:01, 45.86it/s, now=None]frame_index:  87%|████████▋ | 500/576 [00:10<00:01, 45.36it/s, now=None]frame_index:  88%|████████▊ | 505/576 [00:10<00:01, 45.64it/s, now=None]frame_index:  89%|████████▊ | 510/576 [00:10<00:01, 45.78it/s, now=None]frame_index:  89%|████████▉ | 515/576 [00:11<00:01, 46.03it/s, now=None]frame_index:  90%|█████████ | 520/576 [00:11<00:01, 44.92it/s, now=None]frame_index:  91%|█████████ | 525/576 [00:11<00:01, 44.79it/s, now=None]frame_index:  92%|█████████▏| 530/576 [00:11<00:01, 45.32it/s, now=None]frame_index:  93%|█████████▎| 535/576 [00:11<00:00, 45.72it/s, now=None]frame_index:  94%|█████████▍| 540/576 [00:11<00:00, 46.47it/s, now=None]frame_index:  95%|█████████▍| 545/576 [00:11<00:00, 46.79it/s, now=None]frame_index:  95%|█████████▌| 550/576 [00:11<00:00, 47.23it/s, now=None]frame_index:  96%|█████████▋| 555/576 [00:11<00:00, 46.98it/s, now=None]frame_index:  97%|█████████▋| 560/576 [00:12<00:00, 47.42it/s, now=None]frame_index:  98%|█████████▊| 565/576 [00:12<00:00, 47.58it/s, now=None]frame_index:  99%|█████████▉| 570/576 [00:12<00:00, 47.76it/s, now=None]frame_index: 100%|█████████▉| 575/576 [00:12<00:00, 47.61it/s, now=None]                                                                        MoviePy - Done !
MoviePy - video ready /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_e8wefe8i/stitched_final.mp4
127.0.0.1 - - [24/Aug/2025 08:52:52] "POST /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c/stitch HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:52:52] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:52:54] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
127.0.0.1 - - [24/Aug/2025 08:53:25] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:53:26] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:55:45] "OPTIONS /api/stories HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:55:45] "[35m[1mPOST /api/stories HTTP/1.1[0m" 201 -
{"timestamp": "2025-08-24T15:55:45.730196Z", "level": "INFO", "message": "Generating video for story c420252e-3d20-4959-9ec9-05db1a1d4661 with prompt: You are creating an animated series. This scene is the opening scene where the camera zooms in to see a grade school kid sitting on a couch looking board, in the family guy style of animation.", "module": "app", "function": "generate_video_segment", "line": 95}
127.0.0.1 - - [24/Aug/2025 08:55:56] "[35m[1mPOST /api/stories/c420252e-3d20-4959-9ec9-05db1a1d4661/generate HTTP/1.1[0m" 201 -
127.0.0.1 - - [24/Aug/2025 08:55:56] "GET /api/stories/c420252e-3d20-4959-9ec9-05db1a1d4661 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:55:56] "GET /api/stories/c420252e-3d20-4959-9ec9-05db1a1d4661 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:56:11] "GET /api/generation-status/84cc3dd5-ef31-44a2-b2f7-4d18d35724e9 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:57:02] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:57:02] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:57:25] "OPTIONS /api/stories HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:57:25] "[35m[1mPOST /api/stories HTTP/1.1[0m" 201 -
{"timestamp": "2025-08-24T15:57:25.509108Z", "level": "INFO", "message": "Generating video for story e305b4f0-d4ee-43eb-86b5-d42008c8f1d0 with prompt: You are creating an animated series. This scene is the opening scene where the camera zooms in to see a grade school kid sitting on a couch looking bored.", "module": "app", "function": "generate_video_segment", "line": 95}
127.0.0.1 - - [24/Aug/2025 08:57:36] "[35m[1mPOST /api/stories/e305b4f0-d4ee-43eb-86b5-d42008c8f1d0/generate HTTP/1.1[0m" 201 -
127.0.0.1 - - [24/Aug/2025 08:57:36] "GET /api/stories/e305b4f0-d4ee-43eb-86b5-d42008c8f1d0 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:57:37] "GET /api/stories/e305b4f0-d4ee-43eb-86b5-d42008c8f1d0 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:57:52] "GET /api/generation-status/2b849eb0-9f0f-4868-9609-280781cc29a1 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:39] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:40] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:40] "GET /api/stories/c420252e-3d20-4959-9ec9-05db1a1d4661 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:41] "GET /api/stories/c420252e-3d20-4959-9ec9-05db1a1d4661 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:44] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:45] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:48] "GET /api/stories/0f24ffa6-e8f3-4e0a-823a-16cdb22a19fe HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:48] "GET /api/stories/0f24ffa6-e8f3-4e0a-823a-16cdb22a19fe HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:52] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:52] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:53] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:53] "GET /api/stories/9706fd72-3a92-4423-96d9-8a81edc80d9c HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:56] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:58:57] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:59:57] "OPTIONS /api/stories HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 08:59:57] "[35m[1mPOST /api/stories HTTP/1.1[0m" 201 -
{"timestamp": "2025-08-24T15:59:57.668084Z", "level": "INFO", "message": "Generating video for story a91fba88-3736-4130-8e3a-5f9d61dd0a5a with prompt: You are creating an animated series. This scene is the opening scene where the camera zooms in to see brothers sitting on a couch looking bored.", "module": "app", "function": "generate_video_segment", "line": 95}
127.0.0.1 - - [24/Aug/2025 09:00:13] "[35m[1mPOST /api/stories/a91fba88-3736-4130-8e3a-5f9d61dd0a5a/generate HTTP/1.1[0m" 201 -
127.0.0.1 - - [24/Aug/2025 09:00:13] "GET /api/stories/a91fba88-3736-4130-8e3a-5f9d61dd0a5a HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:00:13] "GET /api/stories/a91fba88-3736-4130-8e3a-5f9d61dd0a5a HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:00:29] "GET /api/generation-status/323f18cf-5039-49e7-ac35-92721d9c974d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:00:43] "GET /api/generation-status/323f18cf-5039-49e7-ac35-92721d9c974d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:00:58] "GET /api/generation-status/323f18cf-5039-49e7-ac35-92721d9c974d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:01:14] "GET /api/generation-status/323f18cf-5039-49e7-ac35-92721d9c974d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:01:29] "GET /api/generation-status/323f18cf-5039-49e7-ac35-92721d9c974d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:03:11] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:03:12] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:03:16] "GET /api/stories/a91fba88-3736-4130-8e3a-5f9d61dd0a5a HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:03:16] "GET /api/stories/a91fba88-3736-4130-8e3a-5f9d61dd0a5a HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:03:25] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:03:26] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
 * Detected change in '/Users/bbassett/simple/backend/services/video_service.py', reloading
 * Restarting with stat
{"timestamp": "2025-08-24T16:05:01.724567Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
127.0.0.1 - - [24/Aug/2025 09:05:07] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
127.0.0.1 - - [24/Aug/2025 09:05:07] "[33mGET /manifest.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [24/Aug/2025 09:05:43] "OPTIONS /api/stories HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:05:43] "[35m[1mPOST /api/stories HTTP/1.1[0m" 201 -
{"timestamp": "2025-08-24T16:05:43.580252Z", "level": "INFO", "message": "Generating video for story 6bacd1c2-626f-418f-9cc2-86e099e27fe0 with prompt: the opening scene to an animate series with friends sitting on a couch, in the style of family guy animation.", "module": "app", "function": "generate_video_segment", "line": 95}
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [24/Aug/2025 09:05:52] "[35m[1mPOST /api/stories/6bacd1c2-626f-418f-9cc2-86e099e27fe0/generate HTTP/1.1[0m" 201 -
127.0.0.1 - - [24/Aug/2025 09:05:53] "GET /api/stories/6bacd1c2-626f-418f-9cc2-86e099e27fe0 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:05:53] "GET /api/stories/6bacd1c2-626f-418f-9cc2-86e099e27fe0 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:06:08] "GET /api/generation-status/0813cade-0e49-4c9c-bb67-b7177df4b2ed HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:06:32] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:06:34] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:07:15] "OPTIONS /api/stories HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:07:15] "[35m[1mPOST /api/stories HTTP/1.1[0m" 201 -
{"timestamp": "2025-08-24T16:07:15.521004Z", "level": "INFO", "message": "Generating video for story 325a2965-464c-44bc-ae7b-58659f97b521 with prompt: An opening scene for a vibrant 2D animated series, rendered in iconic flat, bold line art and exaggerated character design, of friends sitting on a couch looking bored.", "module": "app", "function": "generate_video_segment", "line": 95}
127.0.0.1 - - [24/Aug/2025 09:07:25] "[35m[1mPOST /api/stories/325a2965-464c-44bc-ae7b-58659f97b521/generate HTTP/1.1[0m" 201 -
127.0.0.1 - - [24/Aug/2025 09:07:26] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:07:26] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:07:41] "GET /api/generation-status/6be453b3-1eaa-45fc-a077-2918657b19c3 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:07:56] "GET /api/generation-status/6be453b3-1eaa-45fc-a077-2918657b19c3 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:08:11] "GET /api/generation-status/6be453b3-1eaa-45fc-a077-2918657b19c3 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:08:27] "GET /api/generation-status/6be453b3-1eaa-45fc-a077-2918657b19c3 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:08:27] "GET /api/stories/6bacd1c2-626f-418f-9cc2-86e099e27fe0 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:09:39] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:09:40] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:09:44] "GET /api/stories/0f24ffa6-e8f3-4e0a-823a-16cdb22a19fe HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:09:44] "GET /api/stories/0f24ffa6-e8f3-4e0a-823a-16cdb22a19fe HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:09:46] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:09:47] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:09:47] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:09:47] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:09:53] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
127.0.0.1 - - [24/Aug/2025 09:10:05] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:10:06] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:10:06] "GET /api/stories/6bacd1c2-626f-418f-9cc2-86e099e27fe0 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:10:06] "GET /api/stories/6bacd1c2-626f-418f-9cc2-86e099e27fe0 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:10:11] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:10:12] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:10:12] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:10:12] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
{"timestamp": "2025-08-24T16:11:43.612762Z", "level": "INFO", "message": "Generating video for story 325a2965-464c-44bc-ae7b-58659f97b521 with prompt: the group of friends begin having a conversation about them being bored and not knowing what they want to do for the day.", "module": "app", "function": "generate_video_segment", "line": 95}
127.0.0.1 - - [24/Aug/2025 09:11:57] "[35m[1mPOST /api/stories/325a2965-464c-44bc-ae7b-58659f97b521/generate HTTP/1.1[0m" 201 -
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [24/Aug/2025 09:11:57] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:12:13] "GET /api/generation-status/00cacd8a-a2ac-4983-b8e2-1f5ec9dd4bed HTTP/1.1" 200 -
 * Detected change in '/Users/bbassett/simple/backend/services/video_service.py', reloading
 * Restarting with stat
{"timestamp": "2025-08-24T16:12:17.443689Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
 * Detected change in '/Users/bbassett/simple/backend/services/video_service.py', reloading
 * Restarting with stat
{"timestamp": "2025-08-24T16:12:30.987931Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
 * Detected change in '/Users/bbassett/simple/backend/services/video_service.py', reloading
 * Restarting with stat
{"timestamp": "2025-08-24T16:12:51.933342Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [24/Aug/2025 09:12:57] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:12:58] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:00] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:00] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:10] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:11] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:11] "GET /api/stories/6bacd1c2-626f-418f-9cc2-86e099e27fe0 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:12] "GET /api/stories/6bacd1c2-626f-418f-9cc2-86e099e27fe0 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:15] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:16] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:19] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:13:19] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:01] "[33mGET /manifest.json HTTP/1.1[0m" 404 -
127.0.0.1 - - [24/Aug/2025 09:14:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
127.0.0.1 - - [24/Aug/2025 09:14:01] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:01] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:12] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:13] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:14] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:14] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:18] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:19] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:23] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:14:23] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:15:21] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:15:21] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:15:38] "GET /api/generation-status/00cacd8a-a2ac-4983-b8e2-1f5ec9dd4bed HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:16:21] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:16:22] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:16:24] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:16:25] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:16:27] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
{"timestamp": "2025-08-24T16:17:14.064918Z", "level": "INFO", "message": "Generating video for story 325a2965-464c-44bc-ae7b-58659f97b521 with prompt: the friends talk and decide they'll go to the corner market for munchies.", "module": "app", "function": "generate_video_segment", "line": 95}
127.0.0.1 - - [24/Aug/2025 09:17:25] "[35m[1mPOST /api/stories/325a2965-464c-44bc-ae7b-58659f97b521/generate HTTP/1.1[0m" 201 -
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [24/Aug/2025 09:17:26] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:17:41] "GET /api/generation-status/97072271-fc9e-41b7-84d4-0c05f74cb73d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:17:56] "GET /api/generation-status/97072271-fc9e-41b7-84d4-0c05f74cb73d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:18:11] "GET /api/generation-status/97072271-fc9e-41b7-84d4-0c05f74cb73d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:18:26] "GET /api/generation-status/97072271-fc9e-41b7-84d4-0c05f74cb73d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:18:42] "GET /api/generation-status/97072271-fc9e-41b7-84d4-0c05f74cb73d HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:18:42] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
{"timestamp": "2025-08-24T16:19:10.463584Z", "level": "INFO", "message": "Stitching story 325a2965-464c-44bc-ae7b-58659f97b521", "module": "app", "function": "stitch_story", "line": 115}
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
/Users/bbassett/simple/backend/services/cloud_service.py:188: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  query = query.where(field, operator, value)
MoviePy - Building video /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_nfeck8is/stitched_final.mp4.
MoviePy - Writing audio in /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_nfeck8is/temp-audio.m4a
chunk:   0%|          | 0/530 [00:00<?, ?it/s, now=None]chunk:  50%|████▉     | 263/530 [00:00<00:00, 2611.82it/s, now=None]chunk:  99%|█████████▉| 525/530 [00:00<00:00, 1833.73it/s, now=None]                                                                    MoviePy - Done.
MoviePy - Writing video /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_nfeck8is/stitched_final.mp4

frame_index:   0%|          | 0/576 [00:00<?, ?it/s, now=None]frame_index:   1%|          | 6/576 [00:00<00:11, 50.67it/s, now=None]frame_index:   2%|▏         | 12/576 [00:00<00:12, 44.72it/s, now=None]frame_index:   3%|▎         | 17/576 [00:00<00:12, 44.63it/s, now=None]frame_index:   4%|▍         | 22/576 [00:00<00:12, 45.84it/s, now=None]frame_index:   5%|▍         | 27/576 [00:00<00:11, 45.89it/s, now=None]frame_index:   6%|▌         | 32/576 [00:00<00:11, 45.78it/s, now=None]frame_index:   6%|▋         | 37/576 [00:00<00:11, 45.39it/s, now=None]frame_index:   7%|▋         | 42/576 [00:00<00:11, 45.40it/s, now=None]frame_index:   8%|▊         | 47/576 [00:01<00:11, 45.52it/s, now=None]frame_index:   9%|▉         | 52/576 [00:01<00:11, 46.05it/s, now=None]frame_index:  10%|▉         | 57/576 [00:01<00:11, 46.24it/s, now=None]frame_index:  11%|█         | 62/576 [00:01<00:11, 45.75it/s, now=None]frame_index:  12%|█▏        | 67/576 [00:01<00:11, 45.70it/s, now=None]frame_index:  12%|█▎        | 72/576 [00:01<00:11, 45.12it/s, now=None]frame_index:  13%|█▎        | 77/576 [00:01<00:11, 45.09it/s, now=None]frame_index:  14%|█▍        | 82/576 [00:01<00:10, 45.25it/s, now=None]frame_index:  15%|█▌        | 87/576 [00:01<00:11, 44.42it/s, now=None]frame_index:  16%|█▌        | 92/576 [00:02<00:11, 43.77it/s, now=None]frame_index:  17%|█▋        | 97/576 [00:02<00:10, 44.25it/s, now=None]frame_index:  18%|█▊        | 102/576 [00:02<00:10, 44.76it/s, now=None]frame_index:  19%|█▊        | 107/576 [00:02<00:10, 44.63it/s, now=None]frame_index:  19%|█▉        | 112/576 [00:02<00:10, 44.38it/s, now=None]frame_index:  20%|██        | 117/576 [00:02<00:10, 43.25it/s, now=None]frame_index:  21%|██        | 122/576 [00:02<00:10, 43.04it/s, now=None]frame_index:  22%|██▏       | 127/576 [00:02<00:10, 42.65it/s, now=None]frame_index:  23%|██▎       | 132/576 [00:02<00:10, 42.80it/s, now=None]frame_index:  24%|██▍       | 137/576 [00:03<00:10, 43.37it/s, now=None]frame_index:  25%|██▍       | 142/576 [00:03<00:10, 43.23it/s, now=None]frame_index:  26%|██▌       | 147/576 [00:03<00:09, 43.40it/s, now=None]frame_index:  26%|██▋       | 152/576 [00:03<00:10, 42.02it/s, now=None]frame_index:  27%|██▋       | 157/576 [00:03<00:09, 43.00it/s, now=None]frame_index:  28%|██▊       | 162/576 [00:03<00:09, 43.11it/s, now=None]frame_index:  29%|██▉       | 167/576 [00:03<00:09, 43.44it/s, now=None]frame_index:  30%|██▉       | 172/576 [00:03<00:09, 43.53it/s, now=None]frame_index:  31%|███       | 177/576 [00:03<00:09, 43.30it/s, now=None]frame_index:  32%|███▏      | 182/576 [00:04<00:09, 43.37it/s, now=None]frame_index:  32%|███▏      | 187/576 [00:04<00:08, 43.36it/s, now=None]frame_index:  33%|███▎      | 192/576 [00:04<00:08, 43.64it/s, now=None]frame_index:  34%|███▍      | 197/576 [00:04<00:08, 44.13it/s, now=None]frame_index:  35%|███▌      | 202/576 [00:04<00:08, 43.51it/s, now=None]frame_index:  36%|███▌      | 207/576 [00:04<00:08, 44.51it/s, now=None]frame_index:  37%|███▋      | 212/576 [00:04<00:08, 44.81it/s, now=None]frame_index:  38%|███▊      | 217/576 [00:04<00:08, 44.21it/s, now=None]frame_index:  39%|███▊      | 222/576 [00:05<00:07, 44.33it/s, now=None]frame_index:  39%|███▉      | 227/576 [00:05<00:07, 45.22it/s, now=None]frame_index:  40%|████      | 232/576 [00:05<00:07, 45.34it/s, now=None]frame_index:  41%|████      | 237/576 [00:05<00:07, 44.82it/s, now=None]frame_index:  42%|████▏     | 242/576 [00:05<00:07, 45.29it/s, now=None]frame_index:  43%|████▎     | 247/576 [00:05<00:07, 44.65it/s, now=None]frame_index:  44%|████▍     | 252/576 [00:05<00:07, 44.66it/s, now=None]frame_index:  45%|████▍     | 257/576 [00:05<00:07, 44.86it/s, now=None]frame_index:  45%|████▌     | 262/576 [00:05<00:07, 44.70it/s, now=None]frame_index:  46%|████▋     | 267/576 [00:06<00:06, 45.31it/s, now=None]frame_index:  47%|████▋     | 272/576 [00:06<00:06, 45.09it/s, now=None]frame_index:  48%|████▊     | 277/576 [00:06<00:06, 45.01it/s, now=None]frame_index:  49%|████▉     | 282/576 [00:06<00:06, 44.47it/s, now=None]frame_index:  50%|████▉     | 287/576 [00:06<00:06, 42.74it/s, now=None]frame_index:  51%|█████     | 292/576 [00:06<00:06, 43.78it/s, now=None]frame_index:  52%|█████▏    | 297/576 [00:06<00:06, 43.50it/s, now=None]frame_index:  52%|█████▏    | 302/576 [00:06<00:06, 43.65it/s, now=None]frame_index:  53%|█████▎    | 307/576 [00:06<00:06, 44.23it/s, now=None]frame_index:  54%|█████▍    | 312/576 [00:07<00:05, 44.50it/s, now=None]frame_index:  55%|█████▌    | 317/576 [00:07<00:05, 44.18it/s, now=None]frame_index:  56%|█████▌    | 322/576 [00:07<00:05, 45.41it/s, now=None]frame_index:  57%|█████▋    | 327/576 [00:07<00:05, 45.13it/s, now=None]frame_index:  58%|█████▊    | 332/576 [00:07<00:05, 45.04it/s, now=None]frame_index:  59%|█████▊    | 337/576 [00:07<00:05, 43.88it/s, now=None]frame_index:  59%|█████▉    | 342/576 [00:07<00:05, 42.39it/s, now=None]frame_index:  60%|██████    | 347/576 [00:07<00:05, 41.08it/s, now=None]frame_index:  61%|██████    | 352/576 [00:07<00:05, 42.16it/s, now=None]frame_index:  62%|██████▏   | 357/576 [00:08<00:05, 42.80it/s, now=None]frame_index:  63%|██████▎   | 362/576 [00:08<00:04, 43.48it/s, now=None]frame_index:  64%|██████▎   | 367/576 [00:08<00:04, 43.97it/s, now=None]frame_index:  65%|██████▍   | 372/576 [00:08<00:04, 44.55it/s, now=None]frame_index:  65%|██████▌   | 377/576 [00:08<00:04, 44.12it/s, now=None]frame_index:  66%|██████▋   | 382/576 [00:08<00:04, 43.88it/s, now=None]frame_index:  67%|██████▋   | 387/576 [00:08<00:04, 43.49it/s, now=None]frame_index:  68%|██████▊   | 392/576 [00:08<00:04, 43.94it/s, now=None]frame_index:  69%|██████▉   | 397/576 [00:08<00:04, 44.55it/s, now=None]frame_index:  70%|██████▉   | 402/576 [00:09<00:03, 45.07it/s, now=None]frame_index:  71%|███████   | 407/576 [00:09<00:03, 45.35it/s, now=None]frame_index:  72%|███████▏  | 412/576 [00:09<00:03, 44.97it/s, now=None]frame_index:  72%|███████▏  | 417/576 [00:09<00:03, 45.13it/s, now=None]frame_index:  73%|███████▎  | 422/576 [00:09<00:03, 45.27it/s, now=None]frame_index:  74%|███████▍  | 427/576 [00:09<00:03, 45.28it/s, now=None]frame_index:  75%|███████▌  | 432/576 [00:09<00:03, 45.03it/s, now=None]frame_index:  76%|███████▌  | 437/576 [00:09<00:03, 44.64it/s, now=None]frame_index:  77%|███████▋  | 442/576 [00:09<00:02, 44.72it/s, now=None]frame_index:  78%|███████▊  | 447/576 [00:10<00:02, 44.71it/s, now=None]frame_index:  78%|███████▊  | 452/576 [00:10<00:02, 44.98it/s, now=None]frame_index:  79%|███████▉  | 457/576 [00:10<00:02, 45.44it/s, now=None]frame_index:  80%|████████  | 462/576 [00:10<00:02, 45.66it/s, now=None]frame_index:  81%|████████  | 467/576 [00:10<00:02, 45.64it/s, now=None]frame_index:  82%|████████▏ | 472/576 [00:10<00:02, 45.25it/s, now=None]frame_index:  83%|████████▎ | 477/576 [00:10<00:02, 44.04it/s, now=None]frame_index:  84%|████████▎ | 482/576 [00:10<00:02, 43.73it/s, now=None]frame_index:  85%|████████▍ | 487/576 [00:10<00:02, 43.74it/s, now=None]frame_index:  85%|████████▌ | 492/576 [00:11<00:01, 43.82it/s, now=None]frame_index:  86%|████████▋ | 497/576 [00:11<00:01, 44.31it/s, now=None]frame_index:  87%|████████▋ | 502/576 [00:11<00:01, 44.09it/s, now=None]frame_index:  88%|████████▊ | 507/576 [00:11<00:01, 43.73it/s, now=None]frame_index:  89%|████████▉ | 512/576 [00:11<00:01, 44.08it/s, now=None]frame_index:  90%|████████▉ | 517/576 [00:11<00:01, 44.01it/s, now=None]frame_index:  91%|█████████ | 522/576 [00:11<00:01, 44.22it/s, now=None]frame_index:  91%|█████████▏| 527/576 [00:11<00:01, 44.26it/s, now=None]frame_index:  92%|█████████▏| 532/576 [00:12<00:01, 43.24it/s, now=None]frame_index:  93%|█████████▎| 537/576 [00:12<00:00, 43.55it/s, now=None]frame_index:  94%|█████████▍| 542/576 [00:12<00:00, 43.72it/s, now=None]frame_index:  95%|█████████▍| 547/576 [00:12<00:00, 44.10it/s, now=None]frame_index:  96%|█████████▌| 552/576 [00:12<00:00, 44.06it/s, now=None]frame_index:  97%|█████████▋| 557/576 [00:12<00:00, 44.19it/s, now=None]frame_index:  98%|█████████▊| 562/576 [00:12<00:00, 43.54it/s, now=None]frame_index:  98%|█████████▊| 567/576 [00:12<00:00, 42.46it/s, now=None]frame_index:  99%|█████████▉| 572/576 [00:12<00:00, 42.81it/s, now=None]                                                                        MoviePy - Done !
MoviePy - video ready /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_nfeck8is/stitched_final.mp4
127.0.0.1 - - [24/Aug/2025 09:19:28] "POST /api/stories/325a2965-464c-44bc-ae7b-58659f97b521/stitch HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:19:28] "GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1" 200 -
 * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading
 * Restarting with stat
{"timestamp": "2025-08-24T16:19:46.622414Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
 * Detected change in '/Users/bbassett/simple/backend/services/story_service.py', reloading
 * Restarting with stat
{"timestamp": "2025-08-24T16:19:56.997616Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
 * Detected change in '/Users/bbassett/simple/backend/app.py', reloading
 * Restarting with stat
{"timestamp": "2025-08-24T16:20:09.471808Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 55}
 * Debugger is active!
 * Debugger PIN: 145-862-669
/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.
  return query.where(field_path, op_string, value)
127.0.0.1 - - [24/Aug/2025 09:20:22] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
127.0.0.1 - - [24/Aug/2025 09:20:23] "GET /api/stories?user_id=anonymous HTTP/1.1" 200 -
 * Detected change in '/Users/bbassett/simple/backend/utils/logger.py', reloading
 * Restarting with stat
{"timestamp": "2025-08-24T16:20:27.108009Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:20:27.108068Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:20:27.363623Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T16:20:27.396730Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:20:27.409596Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:20:27.438132Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T16:20:27.864332Z", "level": "INFO", "message": "Queried 17 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:27.942470Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.121924Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.208677Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.388236Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.481184Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.642472Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.698377Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.766280Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.823358Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.877268Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:28.936937Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:29.000010Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:29.056326Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:29.110474Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:29.173528Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:29.233749Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:29.294748Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T16:20:29.294846Z", "level": "INFO", "message": "Retrieved 17 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T16:20:29.295316Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 09:20:29] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:20:29.534265Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/video_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
 * Restarting with stat
{"timestamp": "2025-08-24T16:20:32.191763Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:20:32.191822Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:20:32.461418Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T16:20:32.487839Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:20:32.495899Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:21:05.837626Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/video_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
 * Restarting with stat
{"timestamp": "2025-08-24T16:21:06.515370Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:21:06.515431Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:21:06.760245Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T16:21:06.796195Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:21:06.805924Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:21:44.375098Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
 * Restarting with stat
{"timestamp": "2025-08-24T16:21:45.199874Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:21:45.199932Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:21:45.449666Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T16:21:45.484624Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:21:45.492249Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:22:19.048863Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/video_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
 * Restarting with stat
{"timestamp": "2025-08-24T16:22:19.807405Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:22:19.807459Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:22:20.080187Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T16:22:20.125014Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:22:20.136575Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:22:40.244156Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 09:22:40] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:22:40.244704Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 09:22:40] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:23:05.477966Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 09:23:05] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:26:05.349861Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
 * Restarting with stat
{"timestamp": "2025-08-24T16:26:06.124195Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:26:06.124266Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:26:06.445161Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T16:26:06.477444Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:26:06.486340Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:57:48.019319Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:57:48.019375Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:57:48.322558Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
 * Serving Flask app 'app'
 * Debug mode: on
{"timestamp": "2025-08-24T16:57:48.352380Z", "level": "INFO", "message": "\u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m\n * Running on all addresses (0.0.0.0)\n * Running on http://127.0.0.1:8080\n * Running on http://192.168.4.151:8080", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:57:48.352445Z", "level": "INFO", "message": "\u001b[33mPress CTRL+C to quit\u001b[0m", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:57:48.352957Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:57:48.828061Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:57:48.828140Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T16:57:49.065851Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T16:57:49.092351Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:57:49.113451Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T16:57:52.640841Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 09:57:52] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:00:51.651439Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:00:51.774097Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:00:52.445787Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:00:52.445869Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:00:52.696672Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:00:52.732016Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:00:52.742115Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:01:14.681955Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:01:14.782848Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:01:15.392169Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:01:15.392232Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:01:15.699405Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:01:15.735665Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:01:15.748394Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:01:50.967240Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:01:50] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:02:23.066276Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:02:23] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:09:56.194960Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:09:56] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:09:56.198744Z", "level": "ERROR", "message": "Failed to assist scene prompt: Models.generate_content() got an unexpected keyword argument 'generation_config'", "module": "cloud_service", "function": "assist_scene_prompt", "line": 408}
{"timestamp": "2025-08-24T17:09:56.198929Z", "level": "ERROR", "message": "Error with prompt assistance: Models.generate_content() got an unexpected keyword argument 'generation_config'", "module": "app", "function": "assist_prompt", "line": 169}
{"timestamp": "2025-08-24T17:09:56.198965Z", "level": "ERROR", "message": "Error with prompt assistance: Models.generate_content() got an unexpected keyword argument 'generation_config'", "module": "app", "function": "assist_prompt", "line": 169}
{"timestamp": "2025-08-24T17:09:56.199330Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:09:56] \"\u001b[35m\u001b[1mPOST /api/stories/new-story/prompt-assist HTTP/1.1\u001b[0m\" 500 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:30.241040Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:10:30] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:30.242521Z", "level": "ERROR", "message": "Failed to assist dialogue: Models.generate_content() got an unexpected keyword argument 'generation_config'", "module": "cloud_service", "function": "assist_dialogue", "line": 451}
{"timestamp": "2025-08-24T17:10:30.242628Z", "level": "ERROR", "message": "Error with prompt assistance: Models.generate_content() got an unexpected keyword argument 'generation_config'", "module": "app", "function": "assist_prompt", "line": 169}
{"timestamp": "2025-08-24T17:10:30.242655Z", "level": "ERROR", "message": "Error with prompt assistance: Models.generate_content() got an unexpected keyword argument 'generation_config'", "module": "app", "function": "assist_prompt", "line": 169}
{"timestamp": "2025-08-24T17:10:30.242833Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:10:30] \"\u001b[35m\u001b[1mPOST /api/stories/new-story/prompt-assist HTTP/1.1\u001b[0m\" 500 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:40.593997Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:40.701666Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:41.415148Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:10:41.415217Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:10:41.692798Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:10:41.722549Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:41.731919Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:44.801693Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:10:44] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:44.803942Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:10:44.912931Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:44.941315Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1183b4ad0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:44.941473Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10e1796d0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:44.960095Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x118315a90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:44.960246Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:44.960517Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:44.960578Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:44.960667Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:44.960698Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:47.149152Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:10:47 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:47.149638Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:10:47.149761Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:47.151473Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:47.151529Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:47.151565Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:10:47.153405Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:10:47.153460Z", "level": "ERROR", "message": "Failed to assist dialogue: 'NoneType' object has no attribute 'strip'", "module": "cloud_service", "function": "assist_dialogue", "line": 451}
{"timestamp": "2025-08-24T17:10:47.153496Z", "level": "ERROR", "message": "Error with prompt assistance: 'NoneType' object has no attribute 'strip'", "module": "app", "function": "assist_prompt", "line": 169}
{"timestamp": "2025-08-24T17:10:47.153512Z", "level": "ERROR", "message": "Error with prompt assistance: 'NoneType' object has no attribute 'strip'", "module": "app", "function": "assist_prompt", "line": 169}
{"timestamp": "2025-08-24T17:10:47.153754Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:10:47] \"\u001b[35m\u001b[1mPOST /api/stories/new-story/prompt-assist HTTP/1.1\u001b[0m\" 500 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:49.142182Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:49.240705Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:49.806345Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:10:49.806401Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:10:50.054532Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:10:50.084877Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:10:50.098511Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:01.434154Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:11:01] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:01.437689Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:11:01.547945Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:01.559817Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1250e8ad0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:01.559982Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x12127d6d0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:01.576929Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12503da90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:01.577088Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:01.577297Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:01.577338Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:01.577424Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:01.577453Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:03.341479Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:11:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:03.342939Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:11:03.343358Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:03.344334Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:03.344571Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:03.344671Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:03.345996Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:11:03.346246Z", "level": "ERROR", "message": "Failed to assist scene prompt: 'NoneType' object has no attribute 'strip'", "module": "cloud_service", "function": "assist_scene_prompt", "line": 408}
{"timestamp": "2025-08-24T17:11:03.346338Z", "level": "ERROR", "message": "Error with prompt assistance: 'NoneType' object has no attribute 'strip'", "module": "app", "function": "assist_prompt", "line": 169}
{"timestamp": "2025-08-24T17:11:03.346383Z", "level": "ERROR", "message": "Error with prompt assistance: 'NoneType' object has no attribute 'strip'", "module": "app", "function": "assist_prompt", "line": 169}
{"timestamp": "2025-08-24T17:11:03.347105Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:11:03] \"\u001b[35m\u001b[1mPOST /api/stories/new-story/prompt-assist HTTP/1.1\u001b[0m\" 500 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:37.239851Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:11:37] \"OPTIONS /api/stories HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:37.242182Z", "level": "INFO", "message": "Creating new story: test", "module": "story_service", "function": "create_story", "line": 25}
{"timestamp": "2025-08-24T17:11:37.818920Z", "level": "INFO", "message": "Document saved to Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "save_document", "line": 173}
{"timestamp": "2025-08-24T17:11:37.819124Z", "level": "INFO", "message": "Story created with ID: b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "story_service", "function": "create_story", "line": 41}
{"timestamp": "2025-08-24T17:11:37.819510Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:11:37] \"\u001b[35m\u001b[1mPOST /api/stories HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:37.825388Z", "level": "INFO", "message": "Generating video for story b379ca63-2f22-44e8-b286-62f93f6189c1 with prompt: an opening scene to a cartoon", "module": "app", "function": "generate_video_segment", "line": 199}
{"timestamp": "2025-08-24T17:11:37.825550Z", "level": "INFO", "message": "Generating video for story b379ca63-2f22-44e8-b286-62f93f6189c1 with prompt: an opening scene to a cartoon", "module": "app", "function": "generate_video_segment", "line": 199}
{"timestamp": "2025-08-24T17:11:37.825649Z", "level": "INFO", "message": "Generating video segment 962d2aab-2bc2-4cb8-bc82-e43f87df62f6 for story b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "video_service", "function": "generate_video_segment", "line": 39}
{"timestamp": "2025-08-24T17:11:37.902685Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:11:37.904446Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T17:11:38.103437Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:38.103573Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Story b379ca63-2f22-44e8-b286-62f93f6189c1, Sequence #1", "module": "video_service", "function": "generate_video_segment", "line": 53}
{"timestamp": "2025-08-24T17:11:38.103602Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: use_previous_frame=False", "module": "video_service", "function": "generate_video_segment", "line": 54}
{"timestamp": "2025-08-24T17:11:38.103621Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Found 0 existing segments", "module": "video_service", "function": "generate_video_segment", "line": 55}
{"timestamp": "2025-08-24T17:11:38.103657Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:11:38.104447Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.104641Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.104682Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.113919Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x12503fed0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.113993Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x12127d6d0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.131570Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1250d1220>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.131700Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.131860Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.131891Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.131946Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:38.131970Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.315295Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:11:46 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.316120Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:11:46.316447Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.317034Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.317196Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.317293Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.318336Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:11:46.318583Z", "level": "INFO", "message": "Prompt enhanced successfully", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 370}
{"timestamp": "2025-08-24T17:11:46.318781Z", "level": "INFO", "message": "\ud83c\udfac PROMPT: Final enhanced prompt: 'A vibrant, classic 2D animated opening sequence. The camera begins with a slow, majestic crane shot, ascending slightly to reveal a whimsical, stylized town sprawling below, bathed in soft, golden hour light. Exaggerated, slightly crooked buildings with inviting, smiling windows line cobblestone streets. Fluffy, dream-like clouds drift lazily across a brilliant cerulean sky. As the camera smoothly descends and transitions into a sweeping track, it glides past oversized, playfully designed trees whose leaves gently rustle with an unseen breeze. Subtle, cheerful plumes of smoke curl from cartoonishly tall chimneys, adding to the lively atmosphere. The animation is fluid, bouncy, and highly saturated, with a clear focus on charming detail and a palpable sense of impending adventure. The camera gracefully continues its cinematic dolly movement, subtly pushing in towards a bustling, sun-drenched town square, anticipating the introduction of its colorful inhabitants.'", "module": "video_service", "function": "generate_video_segment", "line": 121}
{"timestamp": "2025-08-24T17:11:46.399014Z", "level": "INFO", "message": "Document saved to Firestore: segments/962d2aab-2bc2-4cb8-bc82-e43f87df62f6", "module": "cloud_service", "function": "save_document", "line": 173}
{"timestamp": "2025-08-24T17:11:46.399339Z", "level": "INFO", "message": "Starting video generation with model: veo-3.0-fast-generate-001", "module": "cloud_service", "function": "generate_videos", "line": 250}
{"timestamp": "2025-08-24T17:11:46.400052Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.400347Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.400393Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.400502Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.400541Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.803902Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:11:46 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.804183Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:predictLongRunning \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:11:46.804259Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.806364Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.806828Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.806901Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:11:46.807353Z", "level": "INFO", "message": "Video generation operation started: projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001/operations/beff5281-558f-41ca-b8de-a0a1b58edc93", "module": "cloud_service", "function": "generate_videos", "line": 259}
{"timestamp": "2025-08-24T17:11:46.885411Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/962d2aab-2bc2-4cb8-bc82-e43f87df62f6", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:11:47.091861Z", "level": "INFO", "message": "Document saved to Firestore: operations/b1cd0a93-bff4-460d-85c7-26f9544a0aeb", "module": "cloud_service", "function": "save_document", "line": 173}
{"timestamp": "2025-08-24T17:11:47.092542Z", "level": "INFO", "message": "Video generation started for segment 962d2aab-2bc2-4cb8-bc82-e43f87df62f6", "module": "video_service", "function": "_start_video_generation", "line": 204}
{"timestamp": "2025-08-24T17:11:47.093404Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:11:47] \"\u001b[35m\u001b[1mPOST /api/stories/b379ca63-2f22-44e8-b286-62f93f6189c1/generate HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:47.198331Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:11:47.309440Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:47.309655Z", "level": "INFO", "message": "Retrieved story b379ca63-2f22-44e8-b286-62f93f6189c1 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:11:47.310239Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:11:47] \"GET /api/stories/b379ca63-2f22-44e8-b286-62f93f6189c1 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:47.391258Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:11:47.466861Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:47.467078Z", "level": "INFO", "message": "Retrieved story b379ca63-2f22-44e8-b286-62f93f6189c1 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:11:47.467893Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:11:47] \"GET /api/stories/b379ca63-2f22-44e8-b286-62f93f6189c1 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:54.764367Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:54.829487Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:54.903690Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:54.978426Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:55.082177Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:57.208544Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:57.772748Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:11:57.772821Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:11:58.028079Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:11:58.051089Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:58.060443Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:11:58.101011Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T17:11:58.542224Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:58.613074Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:58.808419Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:58.878829Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.075520Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.144756Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.343139Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.410282Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.474965Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.535951Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.592421Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.660244Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.722981Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.780691Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.836355Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.902565Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:11:59.967002Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:12:00.022960Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:12:00.081368Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:12:00.081531Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:12:00.082557Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:12:00] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:02.171327Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/b1cd0a93-bff4-460d-85c7-26f9544a0aeb", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:12:02.701087Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:12:02] \"GET /api/generation-status/b1cd0a93-bff4-460d-85c7-26f9544a0aeb HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:07.401583Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:12:07] \"OPTIONS /api/stories/e305b4f0-d4ee-43eb-86b5-d42008c8f1d0 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:07.460451Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:12:07.495937Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:09.619825Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:10.179098Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:12:10.179171Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:12:10.432588Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:12:10.471975Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:10.483184Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:17.541046Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/b1cd0a93-bff4-460d-85c7-26f9544a0aeb", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:12:18.114227Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:12:18] \"GET /api/generation-status/b1cd0a93-bff4-460d-85c7-26f9544a0aeb HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:29.024597Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:12:29] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:44.100738Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:12:44] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:12:44.102318Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:12:44.203834Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:44.214615Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1072b9be0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:44.214747Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x106b7d6d0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:44.231967Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1072179d0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:44.232089Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:44.232298Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:44.232338Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:44.232422Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:44.232451Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:45.599798Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:12:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:45.601160Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:12:45.601419Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:45.601863Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:45.601990Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:45.602056Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:12:45.603123Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:12:45.603672Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:12:45] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:13:37.227625Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:13:37] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:13:37.229906Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:13:37.231751Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.232310Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.232437Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.243983Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1072aca50>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.244150Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x106b7d6d0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.260380Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1072a0510>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.260562Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.260745Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.260777Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.260842Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:37.260882Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:38.687407Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:13:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:38.687601Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:13:38.687675Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:38.687876Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:38.687915Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:38.687942Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:13:38.688287Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:13:38.688522Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:13:38] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:20.328206Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:14:20] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:20.330675Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:14:20.331579Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.331901Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.332016Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.344629Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1072a29e0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.344820Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x106b7d6d0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.363795Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1072d5d90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.363909Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.364026Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.364050Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.364101Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:20.364123Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:22.621704Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:14:22 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:22.621901Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:14:22.621960Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:22.622393Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:22.622434Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:22.622475Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:14:22.622902Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:14:22.623226Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:14:22] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:38.261852Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:40.374403Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:41.061045Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:14:41.061109Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:14:41.369667Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:14:41.405958Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:41.419550Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:51.881349Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:51.986817Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:52.642959Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:14:52.643022Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:14:52.949807Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:14:52.978289Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:14:52.986750Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:15:08.303048Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:15:08] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:15:08.305536Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:15:08.402959Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:08.414982Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x114aa8d70>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:08.415094Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x113b7d640> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:08.432457Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x114a15a90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:08.432650Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:08.432932Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:08.433090Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:08.433363Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:08.433429Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:09.808257Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:15:09 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:09.808820Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:15:09.808950Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:09.809269Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:09.809324Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:09.809361Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:09.809993Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:15:09.810301Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:15:09] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:15:22.741925Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:15:22] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:15:22.742840Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:15:22] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:15:39.111397Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:15:39] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:15:39.113963Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:15:39.115526Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.115857Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.115983Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.126733Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x114a179d0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.126860Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x113b7d640> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.142512Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x114ab55b0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.142670Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.142802Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.142833Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.142892Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:39.142920Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:40.554919Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:15:40 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:40.555814Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:15:40.556236Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:40.556931Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:40.557199Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:40.557307Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:15:40.558956Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:15:40.559618Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:15:40] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:16:39.773719Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:16:39.865572Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:16:40.536639Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:16:40.536684Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:16:40.851652Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:16:40.878440Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:16:40.888718Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:16:51.411846Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:16:51.504629Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:16:52.027864Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:16:52.027936Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:16:52.265933Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:16:52.302701Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:16:52.317744Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:17:49.595647Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:17:49] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:17:49.598347Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:17:49.711504Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:49.744613Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a5d4d70>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:49.744771Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109eed5b0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:49.762300Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a515a90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:49.762492Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:49.762729Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:49.762772Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:49.762872Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:49.762908Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:51.004692Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:17:51 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:51.006266Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:17:51.006518Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:51.007032Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:51.007146Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:51.007209Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:51.008267Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:17:51.008977Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:17:51] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:17:52.306273Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:17:52.307550Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:52.307938Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:52.308034Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:52.308183Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:52.308243Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:53.557113Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:17:53 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:53.557549Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:17:53.557697Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:53.558932Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:53.559124Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:53.559242Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:17:53.560485Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:17:53.562020Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:17:53] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:17:58.983769Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:17:58] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:17:58.984236Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:17:58] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:18:16.335602Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:18:16] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:18:16.337534Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:18:16.338057Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.338233Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.338269Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.349244Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a5bc550>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.349361Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109eed5b0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.367063Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a599ba0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.367236Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.367571Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.367659Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.367761Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:16.367799Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:17.679548Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:18:17 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:17.679776Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:18:17.679843Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:17.680139Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:17.680203Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:17.680254Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:17.680662Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:18:17.680857Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:18:17] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:18:20.321824Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:18:20.323131Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:20.323664Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:20.323810Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:20.324107Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:20.324209Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:21.637043Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:18:21 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:21.637691Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:18:21.637944Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:21.638707Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:21.638873Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:21.639004Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:18:21.639860Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:18:21.640903Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:18:21] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:13.106147Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T17:19:13.570710Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:13.671859Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:13.846540Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:13.939531Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.122718Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.203677Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.392452Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.508897Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.572014Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.630112Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.687058Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.742551Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.799811Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.874968Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.929949Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:14.986061Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.067713Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.125017Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.180699Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.180830Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:19:15.181213Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:15] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:15.257321Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.313326Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.370150Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.428129Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.482389Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.544671Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.597360Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.656508Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.712711Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.767726Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.824826Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.880903Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.938778Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:15.996563Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:16.054606Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:16.111432Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:16.175564Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:16.231730Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:16.288918Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:16.289113Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:19:16.289662Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:16] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:19.315870Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:19.378525Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:19.378677Z", "level": "INFO", "message": "Retrieved story b379ca63-2f22-44e8-b286-62f93f6189c1 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:19:19.378948Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:19] \"GET /api/stories/b379ca63-2f22-44e8-b286-62f93f6189c1 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:19.458530Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:19.515328Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:19.515462Z", "level": "INFO", "message": "Retrieved story b379ca63-2f22-44e8-b286-62f93f6189c1 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:19:19.515758Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:19] \"GET /api/stories/b379ca63-2f22-44e8-b286-62f93f6189c1 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:25.026566Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.083963Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.139006Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.200466Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.255893Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.308113Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.362918Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.418919Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.475466Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.534313Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.590368Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.648451Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.704043Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.759895Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.815523Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.924517Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:25.988436Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.050314Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.107696Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.107953Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:19:26.108718Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:26] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:26.174937Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.232904Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.290763Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.350148Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.408387Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.462313Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.520940Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.576090Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.636650Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.697897Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.751613Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.808041Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.866330Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.934871Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:26.989832Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:27.045455Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:27.108278Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:27.165112Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:27.220787Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:27.220918Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:19:27.221204Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:27] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:27.904157Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/325a2965-464c-44bc-ae7b-58659f97b521", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:27.994838Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:27.995054Z", "level": "INFO", "message": "Retrieved story 325a2965-464c-44bc-ae7b-58659f97b521 with 3 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:19:27.995943Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:27] \"GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:28.057213Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/325a2965-464c-44bc-ae7b-58659f97b521", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:28.118193Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:28.118324Z", "level": "INFO", "message": "Retrieved story 325a2965-464c-44bc-ae7b-58659f97b521 with 3 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:19:28.118575Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:28] \"GET /api/stories/325a2965-464c-44bc-ae7b-58659f97b521 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:29.776906Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:29.834736Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:29.889188Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:29.951762Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.054499Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.107826Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.159871Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.219684Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.275910Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.333347Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.389255Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.445174Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.501786Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.560680Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.614317Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.668729Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.732535Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.789715Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.845259Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.845381Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:19:30.845641Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:30] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:30.909401Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:30.967690Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.026922Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.085999Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.140424Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.194650Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.247665Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.303982Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.360942Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.420538Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.478885Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.549797Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.605294Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.659725Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.715456Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.772800Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.843428Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.897808Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.952728Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:31.952915Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:19:31.953224Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:31] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:32.716018Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:32.774615Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:32.774767Z", "level": "INFO", "message": "Retrieved story b379ca63-2f22-44e8-b286-62f93f6189c1 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:19:32.775052Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:32] \"GET /api/stories/b379ca63-2f22-44e8-b286-62f93f6189c1 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:32.831115Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:32.888079Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:32.888196Z", "level": "INFO", "message": "Retrieved story b379ca63-2f22-44e8-b286-62f93f6189c1 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:19:32.888400Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:32] \"GET /api/stories/b379ca63-2f22-44e8-b286-62f93f6189c1 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:34.437306Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/b1cd0a93-bff4-460d-85c7-26f9544a0aeb", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:35.287946Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/962d2aab-2bc2-4cb8-bc82-e43f87df62f6", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:35.288060Z", "level": "INFO", "message": "Document updated in Firestore: segments/962d2aab-2bc2-4cb8-bc82-e43f87df62f6", "module": "cloud_service", "function": "update_document", "line": 216}
{"timestamp": "2025-08-24T17:19:35.288251Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:35] \"GET /api/generation-status/b1cd0a93-bff4-460d-85c7-26f9544a0aeb HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:35.553380Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:37.680468Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:38.351188Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:19:38.351258Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:19:38.602947Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:19:38.632710Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:38.644152Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:40.554327Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T17:19:41.019645Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:41.092263Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:41.290982Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:41.356134Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:41.559973Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:41.624876Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:41.825171Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:41.892193Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:41.949695Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.009570Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.074924Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.129468Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.186264Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.240651Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.300172Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.357055Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.427642Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.519086Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.575256Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.575402Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:19:42.576298Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:42] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:42.639143Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.699798Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.754243Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.821047Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.877760Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.930722Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:42.983241Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.039778Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.093989Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.153183Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.210855Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.267472Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.326236Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.388054Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.443666Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.497976Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.503855Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:43.559437Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.559630Z", "level": "INFO", "message": "Retrieved story b379ca63-2f22-44e8-b286-62f93f6189c1 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:19:43.560050Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:43] \"GET /api/stories/b379ca63-2f22-44e8-b286-62f93f6189c1 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:43.563070Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.618450Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b379ca63-2f22-44e8-b286-62f93f6189c1", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:19:43.619746Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.684855Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.685488Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:19:43.685857Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:19:43.686392Z", "level": "INFO", "message": "Retrieved story b379ca63-2f22-44e8-b286-62f93f6189c1 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T17:19:43.686594Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:43] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:43.686713Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:43] \"GET /api/stories/b379ca63-2f22-44e8-b286-62f93f6189c1 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:45.966646Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:19:45] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:51.244569Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:53.352599Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:53.904309Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:19:53.904392Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:19:54.156305Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:19:54.184063Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:19:54.195899Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:21:09.038143Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T17:21:09.342816Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:09.483525Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:09.645843Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:09.759311Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:09.911478Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.010133Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.179457Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.234793Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.316241Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.389255Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.443029Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.497814Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.555681Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.619869Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.678469Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.794143Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.855119Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.912779Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.969786Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:10.969891Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:21:10.970473Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:21:10] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:21:11.032607Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.092038Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.146854Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.207449Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.267029Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.320431Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.376764Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.431399Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.486795Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.553116Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.609732Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.668523Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.730143Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.784766Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.845069Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.908897Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:11.973424Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:12.031929Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:12.088495Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:21:12.088722Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:21:12.089347Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:21:12] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:27.363769Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:27.438523Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:27.515088Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:27.585633Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:27.721068Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:27.816827Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:27.904208Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:27.972841Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.034608Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.099628Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.153998Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.223436Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.279879Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.333832Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.390684Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.452274Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.520371Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.575147Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.627905Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.628064Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:22:28.628389Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:22:28] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:28.692995Z", "level": "INFO", "message": "Queried 18 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.748201Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.803162Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.865168Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.932862Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:28.995037Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.049407Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.104211Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.164421Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.227609Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.283764Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.344131Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.401376Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.459067Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.519475Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.573610Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.637339Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.699153Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.810231Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:29.810414Z", "level": "INFO", "message": "Retrieved 18 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T17:22:29.810917Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:22:29] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:35.449639Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:37.566207Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:38.221941Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:22:38.222004Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:22:38.493875Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:22:38.522738Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:38.530986Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:40.549988Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:22:40] \"OPTIONS /api/stories/e305b4f0-d4ee-43eb-86b5-d42008c8f1d0 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:40.554163Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T17:22:41.004646Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 240}
{"timestamp": "2025-08-24T17:22:41.235164Z", "level": "INFO", "message": "Document deleted from Firestore: segments/8e785636-68b1-48a0-8be1-c38550c0b4da", "module": "cloud_service", "function": "delete_document", "line": 185}
{"timestamp": "2025-08-24T17:22:41.438086Z", "level": "INFO", "message": "Document deleted from Firestore: operations/2b849eb0-9f0f-4868-9609-280781cc29a1", "module": "cloud_service", "function": "delete_document", "line": 185}
{"timestamp": "2025-08-24T17:22:41.500790Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/e305b4f0-d4ee-43eb-86b5-d42008c8f1d0", "module": "cloud_service", "function": "get_document", "line": 199}
{"timestamp": "2025-08-24T17:22:41.501152Z", "level": "ERROR", "message": "Error deleting story: 'NoneType' object has no attribute 'startswith'", "module": "story_service", "function": "delete_story", "line": 164}
{"timestamp": "2025-08-24T17:22:41.501253Z", "level": "ERROR", "message": "Error deleting story: 'NoneType' object has no attribute 'startswith'", "module": "app", "function": "delete_story", "line": 76}
{"timestamp": "2025-08-24T17:22:41.501291Z", "level": "ERROR", "message": "Error deleting story: 'NoneType' object has no attribute 'startswith'", "module": "app", "function": "delete_story", "line": 76}
{"timestamp": "2025-08-24T17:22:41.502070Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:22:41] \"\u001b[35m\u001b[1mDELETE /api/stories/e305b4f0-d4ee-43eb-86b5-d42008c8f1d0 HTTP/1.1\u001b[0m\" 500 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:45.923527Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:48.064923Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:48.591076Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:22:48.591139Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:22:48.844118Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:22:48.881603Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:48.895764Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:22:48.966086Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:22:48] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:23:11.017192Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:23:11] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:23:11.019878Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:23:11.147716Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:11.159087Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x104cb16a0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:11.159269Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x104a29640> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:11.176965Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x104c2a850>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:11.177165Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:11.177391Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:11.177429Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:11.177518Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:11.177552Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.541766Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:23:12 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.543165Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:23:12.543541Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.544127Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.544353Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.544465Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.545779Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:23:12.546085Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:23:12.547410Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.547928Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.548093Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.548573Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:12.548709Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:14.305038Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:23:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:14.305360Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:23:14.305457Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:14.305701Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:14.305759Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:14.305801Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:14.306208Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:23:14.306270Z", "level": "WARNING", "message": "Gemini returned empty enhancement; using deterministic enrichment", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 382}
{"timestamp": "2025-08-24T17:23:14.306589Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:23:14] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:23:37.048911Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:23:37] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:23:37.051348Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:23:37.052867Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.053549Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.053690Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.065553Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x104d08690>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.065675Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x104a29640> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.084560Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x104d10e90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.085133Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.085637Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.086151Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.086255Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:37.086289Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.154464Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:23:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.154680Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:23:38.154755Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.154990Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.155043Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.155073Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.155376Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:23:38.155436Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:23:38.155938Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.156129Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.156174Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.156242Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:38.156267Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:39.799912Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:23:39 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:39.800399Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:23:39.800631Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:39.801186Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:39.801330Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:39.801429Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:23:39.803024Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:23:39.803195Z", "level": "WARNING", "message": "Gemini returned empty enhancement; using deterministic enrichment", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 382}
{"timestamp": "2025-08-24T17:23:39.804382Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:23:39] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:31:00.779939Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:31:00.883205Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:31:01.581630Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:31:01.581707Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:31:01.854295Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:31:01.898465Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:31:01.910670Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:31:28.164284Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:31:28.272568Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:31:28.928874Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:31:28.928930Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:31:29.167001Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:31:29.196717Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:31:29.211423Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:33:29.669261Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:33:29.765313Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:33:30.317360Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:33:30.317442Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T17:33:30.571878Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T17:33:30.594016Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:33:30.608499Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:34:42.502918Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:34:42] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T17:34:42.505571Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:34:42.623373Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:42.653613Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a8c0ec0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:42.653796Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10a1816d0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:42.671648Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a815bd0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:42.671781Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:42.671967Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:42.672005Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:42.672086Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:42.672116Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.919042Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:34:43 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.920059Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:34:43.920282Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.921373Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.921555Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.921620Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.922483Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:34:43.922688Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:34:43.924405Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.924965Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.925047Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.925279Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:43.925391Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.521744Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:34:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.522497Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:34:45.522767Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.523412Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.523529Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.523611Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.524451Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:34:45.524611Z", "level": "WARNING", "message": "Gemini returned empty enhancement; using deterministic enrichment", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 382}
{"timestamp": "2025-08-24T17:34:45.524871Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T17:34:45.525821Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.526219Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.526302Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.526457Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:45.526507Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:47.366984Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 17:34:47 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:47.368306Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T17:34:47.368788Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:47.369399Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:47.369586Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:47.369674Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T17:34:47.370610Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T17:34:47.372136Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 10:34:47] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:31:22.339257Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:31:22.463900Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:31:23.253759Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:31:23.253830Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:31:23.631303Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:31:23.670024Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:31:23.681806Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:34:34.099584Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:34:34.214058Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:34:34.930424Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:34:34.930480Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:34:35.176873Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:34:35.208512Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:34:35.216357Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:35:01.402774Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:35:01.521764Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:35:02.155163Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:35:02.155262Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:35:02.419624Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:35:02.450425Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:35:02.463341Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/mp-jv0eri53'}
  warnings.warn(
{"timestamp": "2025-08-24T18:35:21.893399Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:35:21.893455Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:35:22.149102Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
 * Serving Flask app 'app'
 * Debug mode: on
{"timestamp": "2025-08-24T18:35:22.181804Z", "level": "INFO", "message": "\u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m\n * Running on all addresses (0.0.0.0)\n * Running on http://127.0.0.1:8080\n * Running on http://192.168.4.151:8080", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:35:22.181875Z", "level": "INFO", "message": "\u001b[33mPress CTRL+C to quit\u001b[0m", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:35:22.182300Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:35:22.690446Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:35:22.690540Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:35:23.206387Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:35:23.229294Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:35:23.240093Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:35:26.326816Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 11:35:26] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/mp-c24m6pxb'}
  warnings.warn(
{"timestamp": "2025-08-24T18:36:21.625695Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:36:21.625767Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:36:21.919587Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
 * Serving Flask app 'app'
 * Debug mode: on
{"timestamp": "2025-08-24T18:36:21.953913Z", "level": "INFO", "message": "\u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m\n * Running on all addresses (0.0.0.0)\n * Running on http://127.0.0.1:8080\n * Running on http://192.168.4.151:8080", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:36:21.953983Z", "level": "INFO", "message": "\u001b[33mPress CTRL+C to quit\u001b[0m", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:36:21.955026Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:36:22.477575Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:36:22.477641Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:36:22.716071Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:36:22.740402Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:36:22.747894Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:36:25.517234Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 11:36:25] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:36:32.160982Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:36:32.255960Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:36:32.810339Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:36:32.810416Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:36:33.064045Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:36:33.091151Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:36:33.104840Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:37:51.696574Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:37:51.792746Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:37:52.324926Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:37:52.324993Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:37:52.605844Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:37:52.641749Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:37:52.655201Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:38:14.212657Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 11:38:14] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:38:14.215734Z", "level": "ERROR", "message": "Gemini API error in unified prompt: module 'google.genai' has no attribute 'GenerateContentConfig'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 572}
{"timestamp": "2025-08-24T18:38:14.215989Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 11:38:14] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:39:13.304695Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:39:13.408644Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:39:14.095905Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:39:14.095975Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:39:14.419183Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:39:14.449557Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:39:14.471209Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:39:38.567235Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:39:38.670729Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:39:39.211293Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:39:39.211354Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:39:39.444992Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:39:39.468690Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:39:39.477008Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:33.314821Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:33.415148Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:34.100997Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:41:34.101065Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:41:34.459848Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:41:34.493837Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:34.504647Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:37.700638Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:37.799392Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:38.294406Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:41:38.294497Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:41:38.559215Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:41:38.589143Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:38.604745Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:43.852293Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:43.952076Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:44.508861Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:41:44.508921Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:41:44.770587Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:41:44.805548Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:41:44.818744Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:02.549768Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:02.656651Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:03.404238Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:03.404314Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:03.659472Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:42:03.694295Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:03.702894Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:07.962990Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:08.064606Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:08.613134Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:08.613226Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:08.862719Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:42:08.884803Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:08.894273Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:14.139405Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:14.248471Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:14.804041Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:14.804121Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:15.058877Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:42:15.081001Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:15.091680Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:19.296789Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:19.395140Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:19.928566Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:19.928641Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:20.184180Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:42:20.215315Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:20.230417Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:24.461405Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:24.562757Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:25.104866Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:25.104931Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:25.387890Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:42:25.415717Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:25.425151Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:39.051424Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:39.157223Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:39.716713Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:39.716793Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:42:39.960611Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:42:39.985930Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:42:39.996279Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:45:14.554369Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:45:14.647520Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:45:15.334308Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:45:15.334382Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:45:15.708138Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:45:15.735866Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:45:15.745836Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/mp-5x24v6ur'}
  warnings.warn(
{"timestamp": "2025-08-24T18:45:50.377498Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:45:50.377570Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:45:50.623050Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
 * Serving Flask app 'app'
 * Debug mode: on
{"timestamp": "2025-08-24T18:45:50.650306Z", "level": "INFO", "message": "\u001b[31m\u001b[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\u001b[0m\n * Running on all addresses (0.0.0.0)\n * Running on http://127.0.0.1:8080\n * Running on http://192.168.4.151:8080", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:45:50.650383Z", "level": "INFO", "message": "\u001b[33mPress CTRL+C to quit\u001b[0m", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:45:50.651151Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:45:51.156878Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:45:51.156947Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:45:51.402622Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:45:51.428281Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:45:51.435178Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:45:53.536215Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 11:45:53] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:00.989359Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:01.105826Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:01.826622Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:49:01.826723Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:49:02.107982Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:49:02.138496Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:02.149662Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:35.457646Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:35.558873Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:36.133684Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:49:36.133754Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:49:36.380120Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:49:36.416414Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:36.435557Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:42.742086Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:42.845370Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:43.369910Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:49:43.369976Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:49:43.610103Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:49:43.633495Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:49:43.645587Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:51:03.493921Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:51:03.594678Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:51:04.229815Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:51:04.229884Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:51:04.475808Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:51:04.514288Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:51:04.536022Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:20.121876Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:20.231312Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:20.932690Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:20.932756Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:21.211704Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:56:21.247008Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:21.264599Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:27.564607Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:27.664282Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:28.191171Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:28.191259Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:28.469912Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:56:28.494647Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:28.506060Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:32.727338Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:32.830523Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:33.343820Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:33.343904Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:33.589812Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:56:33.625154Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:33.635726Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:38.888448Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:38.999398Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:39.522919Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:39.522995Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:39.838626Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:56:39.867083Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:39.879422Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:48.257657Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:48.357293Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:48.903436Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:48.903539Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:49.154960Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:56:49.187016Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:49.198237Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:54.442759Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:54.545223Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:55.087238Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:55.087318Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:56:55.335104Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:56:55.357455Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:56:55.371631Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:57:13.165776Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:57:13.259646Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:57:13.788139Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:57:13.788241Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T18:57:14.074411Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T18:57:14.135683Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T18:57:14.143364Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:08:16.317702Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:08:16.431895Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:08:17.191227Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:08:17.191291Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:08:17.495630Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T19:08:17.529353Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:08:17.538985Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:08:50.057415Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:08:50.156930Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:08:50.707074Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:08:50.707138Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:08:50.971845Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 43}
{"timestamp": "2025-08-24T19:08:51.001153Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:08:51.011813Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:09:01.505722Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:09:01.610458Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:09:02.274475Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:09:02.274566Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:09:02.552050Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:09:02.574873Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:09:02.583225Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:09:22.425161Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:09:22.525902Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:09:23.168079Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:09:23.168140Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:09:23.439886Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:09:23.470307Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:09:23.479277Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:12:31.654287Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:12:31.749288Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:12:32.424104Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:12:32.424169Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:12:32.770399Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:12:32.803315Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:12:32.812492Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:12:54.885336Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:12:54.982172Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:12:55.542413Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:12:55.542516Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:12:55.800877Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:12:55.826172Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:12:55.838315Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:18:34.869873Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:18:34] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:18:47.610218Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:18:47.702873Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:18:48.317203Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:18:48.317273Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:18:48.610216Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:18:48.640669Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:18:48.649659Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:18:56.104313Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:18:56] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:20:19.522138Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:20:19] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:20:19.522812Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:20:19] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:22:10.896386Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:22:10] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:22:10.897049Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:22:10] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:22:16.975508Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T19:22:17.462404Z", "level": "INFO", "message": "Retrieved 0 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:22:17.463166Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:22:17] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:22:19.130679Z", "level": "INFO", "message": "Retrieved 0 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:22:19.132719Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:22:19] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:24:19.925539Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:24:19] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:24:19.928067Z", "level": "ERROR", "message": "Gemini API error in unified prompt: Models.generate_content() got an unexpected keyword argument 'system_instruction'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 589}
{"timestamp": "2025-08-24T19:24:19.928588Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:24:19] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:24:20.023174Z", "level": "INFO", "message": "Retrieved 0 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:24:20.023485Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:24:20] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:24:20.238171Z", "level": "INFO", "message": "Retrieved 0 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:24:20.239227Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:24:20] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:24:26.748950Z", "level": "INFO", "message": "Retrieved 0 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:24:26.749228Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:24:26] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:24:26.939858Z", "level": "INFO", "message": "Retrieved 0 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:24:26.940216Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:24:26] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:26:00.954240Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:26:00] \"OPTIONS /api/stories HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:26:00.955965Z", "level": "INFO", "message": "Creating new story: test", "module": "story_service", "function": "create_story", "line": 25}
{"timestamp": "2025-08-24T19:26:01.118063Z", "level": "INFO", "message": "Document saved to Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T19:26:01.118246Z", "level": "INFO", "message": "Story created with ID: a10897f2-1c21-4490-9214-b948fb83eb38", "module": "story_service", "function": "create_story", "line": 41}
{"timestamp": "2025-08-24T19:26:01.120464Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:26:01] \"\u001b[35m\u001b[1mPOST /api/stories HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:26:01.125235Z", "level": "INFO", "message": "Generating video for story a10897f2-1c21-4490-9214-b948fb83eb38 with prompt: Opening shot, slow dolly\u2011in: @person  pets a dog.. Warm rim\u2011light, soft shadows, cinematic depth of field, subtle parallax. 2D cel\u2011shaded style, bold lines, rich color palette, gentle ambient audio.", "module": "app", "function": "generate_video_segment", "line": 216}
{"timestamp": "2025-08-24T19:26:01.125360Z", "level": "INFO", "message": "Generating video for story a10897f2-1c21-4490-9214-b948fb83eb38 with prompt: Opening shot, slow dolly\u2011in: @person  pets a dog.. Warm rim\u2011light, soft shadows, cinematic depth of field, subtle parallax. 2D cel\u2011shaded style, bold lines, rich color palette, gentle ambient audio.", "module": "app", "function": "generate_video_segment", "line": 216}
{"timestamp": "2025-08-24T19:26:01.125464Z", "level": "INFO", "message": "Generating video segment fa9e5b0b-dc70-4d2c-bd15-aa460dae669e for story a10897f2-1c21-4490-9214-b948fb83eb38", "module": "video_service", "function": "generate_video_segment", "line": 39}
{"timestamp": "2025-08-24T19:26:01.243303Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:26:01.334747Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:26:01.334920Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Story a10897f2-1c21-4490-9214-b948fb83eb38, Sequence #1", "module": "video_service", "function": "generate_video_segment", "line": 53}
{"timestamp": "2025-08-24T19:26:01.335019Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: use_previous_frame=False", "module": "video_service", "function": "generate_video_segment", "line": 54}
{"timestamp": "2025-08-24T19:26:01.335123Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Found 0 existing segments", "module": "video_service", "function": "generate_video_segment", "line": 55}
{"timestamp": "2025-08-24T19:26:01.335534Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:26:01.458263Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:01.519277Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108cce510>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:01.519523Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:01.541804Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108c1b250>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:01.542055Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:01.542304Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:01.542349Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:01.542449Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:01.542485Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.102987Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:26:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.104243Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:26:03.104466Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.104794Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.104861Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.104901Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.105893Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T19:26:03.106039Z", "level": "WARNING", "message": "Gemini returned empty enhancement; using deterministic enrichment", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 383}
{"timestamp": "2025-08-24T19:26:03.106097Z", "level": "INFO", "message": "\ud83c\udfac PROMPT: Final enhanced prompt: 'Opening shot, slow dolly\u2011in: Opening shot, slow dolly\u2011in: @person  pets a dog.. Warm rim\u2011light, soft shadows, cinematic depth of field, subtle parallax. 2D cel\u2011shaded style, bold lines, rich color palette, gentle ambient audio.. Warm rim\u2011light, soft shadows, cinematic depth of field, subtle parallax. 2D cel\u2011shaded style, bold lines, rich color palette, gentle ambient audio.'", "module": "video_service", "function": "generate_video_segment", "line": 121}
{"timestamp": "2025-08-24T19:26:03.198769Z", "level": "INFO", "message": "Document saved to Firestore: segments/fa9e5b0b-dc70-4d2c-bd15-aa460dae669e", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T19:26:03.198958Z", "level": "INFO", "message": "Starting video generation with model: veo-3.0-fast-generate-001", "module": "cloud_service", "function": "generate_videos", "line": 251}
{"timestamp": "2025-08-24T19:26:03.199413Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.199579Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.199620Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.199675Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.199696Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.604367Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:26:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.604956Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:predictLongRunning \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:26:03.605145Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.605481Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.605652Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.605744Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:03.606352Z", "level": "INFO", "message": "Video generation operation started: projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001/operations/11c7c8c6-08e0-4914-9866-534859a2cb5e", "module": "cloud_service", "function": "generate_videos", "line": 260}
{"timestamp": "2025-08-24T19:26:03.673131Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/fa9e5b0b-dc70-4d2c-bd15-aa460dae669e", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:26:03.750793Z", "level": "INFO", "message": "Document saved to Firestore: operations/759d199c-fd1e-4939-9ccd-7ef5665c349e", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T19:26:03.751036Z", "level": "INFO", "message": "Video generation started for segment fa9e5b0b-dc70-4d2c-bd15-aa460dae669e", "module": "video_service", "function": "_start_video_generation", "line": 204}
{"timestamp": "2025-08-24T19:26:03.751371Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:26:03] \"\u001b[35m\u001b[1mPOST /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38/generate HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:26:03.830664Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:26:03.939850Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:26:03.940041Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:26:03.940431Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:26:03] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:26:04.006078Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:26:04.068180Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:26:04.068388Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:26:04.068965Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:26:04] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:26:18.824044Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/759d199c-fd1e-4939-9ccd-7ef5665c349e", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:26:18.827963Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.829229Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.829395Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.841188Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108cb8e10>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.841540Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.859681Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x107f7be10>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.859978Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.860251Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.860302Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.860442Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:18.860507Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:19.241079Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:26:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:19.241658Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:26:19.241841Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:19.242166Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:19.242235Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:19.242282Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:19.242874Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:26:19] \"GET /api/generation-status/759d199c-fd1e-4939-9ccd-7ef5665c349e HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:26:33.817751Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/759d199c-fd1e-4939-9ccd-7ef5665c349e", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:26:33.818190Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.818412Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.818473Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.827591Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108ce9a70>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.827730Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.844711Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108ce69f0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.844829Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.844964Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.844995Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.845060Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:33.845086Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:34.204083Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:26:34 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:34.204887Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:26:34.205045Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:34.205280Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:34.205374Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:34.205428Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:34.206132Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:26:34] \"GET /api/generation-status/759d199c-fd1e-4939-9ccd-7ef5665c349e HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:26:48.816317Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/759d199c-fd1e-4939-9ccd-7ef5665c349e", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:26:48.817399Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.817769Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.817888Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.828183Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108c2ecf0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.828338Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.848426Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108c2ebe0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.848524Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.848661Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.848689Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.848749Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:48.848779Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:49.242582Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:26:49 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:49.242923Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:26:49.243079Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:49.243475Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:49.243574Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:49.243629Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:26:49.245845Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:26:49] \"GET /api/generation-status/759d199c-fd1e-4939-9ccd-7ef5665c349e HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:27:03.824274Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/759d199c-fd1e-4939-9ccd-7ef5665c349e", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:27:03.824921Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.825072Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.825110Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.834731Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108cf6350>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.834823Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.853349Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x108cf6850>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.853445Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.853559Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.853581Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.853630Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:03.853650Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:04.242498Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:27:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:04.242892Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:27:04.243034Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:04.243560Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:04.243675Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:04.243738Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:27:04.906245Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/fa9e5b0b-dc70-4d2c-bd15-aa460dae669e", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:27:04.906397Z", "level": "INFO", "message": "Document updated in Firestore: segments/fa9e5b0b-dc70-4d2c-bd15-aa460dae669e", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T19:27:04.906619Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:27:04] \"GET /api/generation-status/759d199c-fd1e-4939-9ccd-7ef5665c349e HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:27:53.663751Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:53.730649Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:53.818294Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:53.928715Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.009131Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.071732Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.130056Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.200305Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.267745Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.325931Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.383734Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.451616Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.521120Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.579655Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.645503Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.717160Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.787179Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.851300Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.906572Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.963240Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:54.963346Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:27:54.963653Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:27:54] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:27:55.073843Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.129555Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.188924Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.249931Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.308750Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.360807Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.414286Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.469486Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.523173Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.584754Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.639150Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.695626Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.754482Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.817936Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.876164Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.937939Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:55.999371Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:56.064547Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:56.121310Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:56.178495Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:56.178804Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:27:56.179504Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:27:56] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:27:56.479536Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:27:56.537490Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:56.537642Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:27:56.538149Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:27:56] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:27:56.594058Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:27:56.649552Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:27:56.649719Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:27:56.650110Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:27:56] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:27:58.824004Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:27:58] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:28:27.938750Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:27.994090Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.049064Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.142592Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.200579Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.253012Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.307191Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.363692Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.421657Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.494787Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.552242Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.609746Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.672034Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.740300Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.806353Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.861353Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.916138Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:28.978142Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.032802Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.092019Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.092107Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:28:29.092325Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:28:29] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:28:29.159975Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.217969Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.273801Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.398732Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.454491Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.504903Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.555680Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.611902Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.670671Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.732974Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.790593Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.846617Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.902866Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:29.962629Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:30.015484Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:30.071027Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:30.128600Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:30.192312Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:30.265562Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:30.322124Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:28:30.322428Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:28:30.323122Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:28:30] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:28:48.540668Z", "level": "INFO", "message": "Retrieved 0 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:28:48.542378Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:28:48] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:29:16.557900Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:29:16] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:29:16.559781Z", "level": "ERROR", "message": "Gemini API error in unified prompt: Models.generate_content() got an unexpected keyword argument 'system_instruction'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 589}
{"timestamp": "2025-08-24T19:29:16.559943Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:29:16] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:29:16.627396Z", "level": "INFO", "message": "Retrieved 0 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:29:16.627693Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:29:16] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:31:13.779944Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:31:13] \"OPTIONS /api/entity-library HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:31:13.883946Z", "level": "INFO", "message": "Saved entity to library: dog", "module": "cloud_service", "function": "save_entity_to_library", "line": 678}
{"timestamp": "2025-08-24T19:31:13.885415Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:31:13] \"\u001b[35m\u001b[1mPOST /api/entity-library HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:31:13.957963Z", "level": "INFO", "message": "Retrieved 1 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:31:13.958300Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:31:13] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:31:28.620556Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:31:28] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:31:28.622001Z", "level": "ERROR", "message": "Gemini API error in unified prompt: Models.generate_content() got an unexpected keyword argument 'system_instruction'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 589}
{"timestamp": "2025-08-24T19:31:28.622184Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:31:28] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:32:44.799222Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:32:44] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:32:44.800853Z", "level": "ERROR", "message": "Gemini API error in unified prompt: Models.generate_content() got an unexpected keyword argument 'system_instruction'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 589}
{"timestamp": "2025-08-24T19:32:44.801277Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:32:44] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:32:58.480193Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:32:58] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:32:58.481859Z", "level": "ERROR", "message": "Gemini API error in unified prompt: Models.generate_content() got an unexpected keyword argument 'system_instruction'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 589}
{"timestamp": "2025-08-24T19:32:58.482095Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:32:58] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:34:51.389552Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:51.472943Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:51.534469Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:51.620006Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:51.694461Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:51.762530Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:51.842762Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:51.920132Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:51.989512Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.059014Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.120118Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.187798Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.250960Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.308508Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.363399Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.426189Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.482006Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.544454Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.600713Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.654675Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.654793Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:34:52.655093Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:34:52] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:34:52.722158Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.791209Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.849513Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.911911Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:52.973067Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.025724Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.077281Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.136478Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.199167Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.275671Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.332462Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.389631Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.448519Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.509497Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.565093Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.618947Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.671879Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.741005Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.803580Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.836210Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:34:53.859326Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.859545Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:34:53.860021Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:34:53] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:34:53.903351Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:53.903479Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:34:53.903676Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:34:53] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:34:53.956367Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:34:54.013413Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:34:54.013582Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:34:54.014116Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:34:54] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:35:14.896458Z", "level": "INFO", "message": "Generating video for story a10897f2-1c21-4490-9214-b948fb83eb38 with prompt: the dog notices a squirrel and goes to explore it. ", "module": "app", "function": "generate_video_segment", "line": 216}
{"timestamp": "2025-08-24T19:35:14.896619Z", "level": "INFO", "message": "Generating video for story a10897f2-1c21-4490-9214-b948fb83eb38 with prompt: the dog notices a squirrel and goes to explore it. ", "module": "app", "function": "generate_video_segment", "line": 216}
{"timestamp": "2025-08-24T19:35:14.896743Z", "level": "INFO", "message": "Generating video segment d55bcec1-27bf-4bc0-8a16-346af7a21105 for story a10897f2-1c21-4490-9214-b948fb83eb38", "module": "video_service", "function": "generate_video_segment", "line": 39}
{"timestamp": "2025-08-24T19:35:14.984387Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:35:15.042313Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:35:15.042572Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Story a10897f2-1c21-4490-9214-b948fb83eb38, Sequence #2", "module": "video_service", "function": "generate_video_segment", "line": 53}
{"timestamp": "2025-08-24T19:35:15.042667Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: use_previous_frame=True", "module": "video_service", "function": "generate_video_segment", "line": 54}
{"timestamp": "2025-08-24T19:35:15.042724Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Found 1 existing segments", "module": "video_service", "function": "generate_video_segment", "line": 55}
{"timestamp": "2025-08-24T19:35:15.042779Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Found 1 previous segments", "module": "video_service", "function": "generate_video_segment", "line": 92}
{"timestamp": "2025-08-24T19:35:15.042827Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Using segment #1 as reference", "module": "video_service", "function": "generate_video_segment", "line": 93}
{"timestamp": "2025-08-24T19:35:15.042874Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Previous prompt was: 'Opening shot, slow dolly\u2011in: @person  pets a dog.. Warm rim\u2011light, soft shadows, cinematic depth of field, subtle parallax. 2D cel\u2011shaded style, bold lines, rich color palette, gentle ambient audio.'", "module": "video_service", "function": "generate_video_segment", "line": 94}
{"timestamp": "2025-08-24T19:35:15.042916Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Previous video URL: https://storage.googleapis.com/video-story-platform-storage/videos/fa9e5b0b-dc70-4d2c-bd15-aa460dae669e/6690780118690270591/sample_0.mp4", "module": "video_service", "function": "generate_video_segment", "line": 95}
{"timestamp": "2025-08-24T19:35:15.042961Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Attempting frame extraction from previous video...", "module": "video_service", "function": "generate_video_segment", "line": 98}
{"timestamp": "2025-08-24T19:35:15.043017Z", "level": "INFO", "message": "\ud83c\udfac FRAME EXTRACTION: Attempting to extract last frame from: https://storage.googleapis.com/video-story-platform-storage/videos/fa9e5b0b-dc70-4d2c-bd15-aa460dae669e/6690780118690270591/sample_0.mp4", "module": "video_service", "function": "_extract_last_frame_as_image", "line": 335}
{"timestamp": "2025-08-24T19:35:15.613559Z", "level": "INFO", "message": "\ud83c\udfac FRAME EXTRACTION: Downloading video from: https://storage.googleapis.com/video-story-platform-storage/videos/fa9e5b0b-dc70-4d2c-bd15-aa460dae669e/6690780118690270591/sample_0.mp4", "module": "video_service", "function": "_extract_last_frame_as_image", "line": 356}
{"timestamp": "2025-08-24T19:35:16.407837Z", "level": "INFO", "message": "\ud83c\udfac FRAME EXTRACTION: \u2705 Successfully extracted last frame as image", "module": "video_service", "function": "_extract_last_frame_as_image", "line": 393}
{"timestamp": "2025-08-24T19:35:16.410240Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: \u2705 Frame extraction successful - using image + contextualized prompt", "module": "video_service", "function": "generate_video_segment", "line": 103}
{"timestamp": "2025-08-24T19:35:16.410429Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:35:16.411146Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.411310Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.411346Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.440593Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ac5a7b0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.440658Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.461169Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ac5b020>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.461381Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.461563Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.461600Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.461662Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:16.461696Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:17.583659Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:35:17 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:17.583955Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:35:17.584055Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:17.584205Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:17.584250Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:17.584283Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:17.584813Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T19:35:17.584857Z", "level": "WARNING", "message": "Gemini returned empty enhancement; using deterministic enrichment", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 383}
{"timestamp": "2025-08-24T19:35:17.584894Z", "level": "INFO", "message": "\ud83c\udfac PROMPT: Final enhanced prompt: 'Opening shot, slow dolly\u2011in: This scene continues from the previous scene. Previous prompt: Opening shot, slow dolly\u2011in: @person  pets a dog.. Warm rim\u2011light, soft shadows, cinematic depth of field, subtle parallax. 2D cel\u2011shaded style, bold lines, rich color palette, gentle ambient audio.. the dog notices a squirrel and goes to explore it.. Warm rim\u2011light, soft shadows, cinematic depth of field, subtle parallax. 2D cel\u2011shaded style, bold lines, rich color palette, gentle ambient audio.'", "module": "video_service", "function": "generate_video_segment", "line": 121}
{"timestamp": "2025-08-24T19:35:17.665795Z", "level": "INFO", "message": "Document saved to Firestore: segments/d55bcec1-27bf-4bc0-8a16-346af7a21105", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T19:35:17.666035Z", "level": "INFO", "message": "Starting video generation with model: veo-3.0-generate-preview", "module": "cloud_service", "function": "generate_videos", "line": 251}
{"timestamp": "2025-08-24T19:35:17.671352Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:17.671543Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:17.671583Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:18.023168Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:18.023412Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:18.477477Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:35:18 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:18.478494Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:predictLongRunning \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:35:18.478761Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:18.480220Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:18.480383Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:18.480453Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:18.481805Z", "level": "INFO", "message": "Video generation operation started: projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview/operations/d524bf9d-545e-4639-8835-85c2ebbf45ec", "module": "cloud_service", "function": "generate_videos", "line": 260}
{"timestamp": "2025-08-24T19:35:18.537850Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/d55bcec1-27bf-4bc0-8a16-346af7a21105", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:35:18.616767Z", "level": "INFO", "message": "Document saved to Firestore: operations/14f221de-aa46-46b2-a88d-a620620bf41b", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T19:35:18.617010Z", "level": "INFO", "message": "Video generation started for segment d55bcec1-27bf-4bc0-8a16-346af7a21105", "module": "video_service", "function": "_start_video_generation", "line": 204}
{"timestamp": "2025-08-24T19:35:18.617714Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:35:18] \"\u001b[35m\u001b[1mPOST /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38/generate HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:35:18.684663Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:35:18.684943Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T19:35:18.742267Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:35:18.742698Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:35:18.743294Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:35:18] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:35:33.698170Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/14f221de-aa46-46b2-a88d-a620620bf41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:35:33.699194Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.699571Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.699785Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.710676Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11d65c4b0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.710953Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.730852Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11d65c910>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.731039Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.731250Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.731293Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.731364Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:33.731394Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:34.188802Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:35:34 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:34.189255Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:35:34.189371Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:34.193357Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:34.193497Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:34.193563Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:34.194395Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:35:34] \"GET /api/generation-status/14f221de-aa46-46b2-a88d-a620620bf41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:35:48.678192Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/14f221de-aa46-46b2-a88d-a620620bf41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:35:48.679624Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.680280Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.680462Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.692166Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11d646750>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.692564Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.711839Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10acef590>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.712053Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.712283Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.712334Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.712431Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:48.712473Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:49.082422Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:35:49 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:49.082725Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:35:49.082837Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:49.083062Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:49.083123Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:49.083177Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:35:49.083794Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:35:49] \"GET /api/generation-status/14f221de-aa46-46b2-a88d-a620620bf41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:03.690451Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/14f221de-aa46-46b2-a88d-a620620bf41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:36:03.690823Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.690982Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.691029Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.700765Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10acef410>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.700888Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.718160Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ad1dbd0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.718248Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.718383Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.718429Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.718585Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:03.718646Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:04.108838Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:36:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:04.109019Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:36:04.109139Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:04.109946Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:04.110006Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:04.110034Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:04.110339Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:04] \"GET /api/generation-status/14f221de-aa46-46b2-a88d-a620620bf41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:08.466774Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:08.555280Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:08.623575Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:08.708324Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:08.777648Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:08.844103Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:08.898776Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:08.960798Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.019914Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.080515Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.147260Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.209883Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.267376Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.329932Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.391506Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.450139Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.503051Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.569828Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.634818Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.693858Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.694178Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:36:09.694760Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:09] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:09.767912Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.825396Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.883498Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:09.943326Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.001994Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.056456Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.109537Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.164581Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.223960Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.279885Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.338493Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.398139Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.456210Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.520240Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.585185Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.649220Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.701844Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.766957Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.822736Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.878582Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:10.878817Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:36:10.879531Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:10] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:11.729395Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:36:11.795263Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:11.795429Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:36:11.795913Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:11] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:11.850867Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:36:11.911855Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:11.912098Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:36:11.912618Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:11] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:18.687292Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/14f221de-aa46-46b2-a88d-a620620bf41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:36:18.689061Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.689403Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.689545Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.700357Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10ad1f070>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.700611Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.721656Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10adf0d70>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.722230Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.722741Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.722846Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.723081Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:18.723147Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:19.108451Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:36:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:19.108814Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:36:19.108937Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:19.109506Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:19.109644Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:19.109700Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:19.110387Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:19] \"GET /api/generation-status/14f221de-aa46-46b2-a88d-a620620bf41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:21.051646Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.158015Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.213759Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.277914Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.334977Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.391085Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.446297Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.560480Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.689695Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.750524Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.878470Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.933742Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:21.991851Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.052723Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.213204Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.274822Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.402738Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.465311Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.523863Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.579908Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.580214Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:36:22.580882Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:22] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:22.738112Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.812025Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.930256Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:22.993649Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.059533Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.113551Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.260544Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.317049Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.451941Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.512400Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.634796Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.694465Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.835277Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.845086Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:36:23.977194Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.977787Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:23.978173Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:36:23.978795Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:23] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:24.043047Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:36:24.043710Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:24.102843Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:24.103010Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:36:24.103475Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:24] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:24.109464Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:24.162310Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:24.311737Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:24.371771Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:24.499913Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:24.500015Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:36:24.500276Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:24] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:33.746694Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/14f221de-aa46-46b2-a88d-a620620bf41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:36:33.748504Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.749206Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.749390Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.761639Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10adf3bb0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.761989Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x107c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.782349Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10adf5130>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.782556Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.782938Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.783210Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.783430Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:33.783500Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:34.270556Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:36:34 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:34.271389Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:36:34.271706Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:34.272995Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:34.273141Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:34.273215Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:36:34.945570Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/d55bcec1-27bf-4bc0-8a16-346af7a21105", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:36:34.945665Z", "level": "INFO", "message": "Document updated in Firestore: segments/d55bcec1-27bf-4bc0-8a16-346af7a21105", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T19:36:34.945856Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:34] \"GET /api/generation-status/14f221de-aa46-46b2-a88d-a620620bf41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:35.023495Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:36:35.086781Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:35.086864Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:36:35.087066Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:36:35] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:36:50.370600Z", "level": "INFO", "message": "Stitching story a10897f2-1c21-4490-9214-b948fb83eb38", "module": "app", "function": "stitch_story", "line": 236}
{"timestamp": "2025-08-24T19:36:50.370764Z", "level": "INFO", "message": "Stitching story a10897f2-1c21-4490-9214-b948fb83eb38", "module": "app", "function": "stitch_story", "line": 236}
{"timestamp": "2025-08-24T19:36:50.371023Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Starting stitching for story a10897f2-1c21-4490-9214-b948fb83eb38", "module": "video_service", "function": "stitch_story_videos", "line": 415}
{"timestamp": "2025-08-24T19:36:51.090956Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T19:36:51.091925Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/services/cloud_service.py:232: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  query = query.where(field, operator, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T19:36:51.167439Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:36:51.167767Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Found 2 completed segments", "module": "video_service", "function": "stitch_story_videos", "line": 435}
{"timestamp": "2025-08-24T19:36:51.168709Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Downloading segment #1 from https://storage.googleapis.com/video-story-platform-storage/videos/fa9e5b0b-dc70-4d2c-bd15-aa460dae669e/6690780118690270591/sample_0.mp4", "module": "video_service", "function": "stitch_story_videos", "line": 456}
{"timestamp": "2025-08-24T19:36:51.327361Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Downloading segment #2 from https://storage.googleapis.com/video-story-platform-storage/videos/d55bcec1-27bf-4bc0-8a16-346af7a21105/5423191231946872668/sample_0.mp4", "module": "video_service", "function": "stitch_story_videos", "line": 456}
{"timestamp": "2025-08-24T19:36:51.788342Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Loading clips into MoviePy", "module": "video_service", "function": "stitch_story_videos", "line": 473}
{"timestamp": "2025-08-24T19:36:52.094132Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Concatenating clips (compose mode)", "module": "video_service", "function": "stitch_story_videos", "line": 484}
{"timestamp": "2025-08-24T19:36:52.101858Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Writing final video to /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_if2xvrng/stitched_final.mp4", "module": "video_service", "function": "stitch_story_videos", "line": 494}
MoviePy - Building video /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_if2xvrng/stitched_final.mp4.
MoviePy - Writing audio in /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_if2xvrng/temp-audio.m4a
chunk:   0%|          | 0/353 [00:00<?, ?it/s, now=None]chunk:  43%|████▎     | 153/353 [00:00<00:00, 1512.62it/s, now=None]                                                                    MoviePy - Done.
MoviePy - Writing video /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_if2xvrng/stitched_final.mp4

frame_index:   0%|          | 0/384 [00:00<?, ?it/s, now=None]frame_index:   2%|▏         | 6/384 [00:00<00:06, 55.48it/s, now=None]frame_index:   3%|▎         | 12/384 [00:00<00:07, 48.74it/s, now=None]frame_index:   4%|▍         | 17/384 [00:00<00:07, 46.22it/s, now=None]frame_index:   6%|▌         | 22/384 [00:00<00:07, 46.35it/s, now=None]frame_index:   7%|▋         | 27/384 [00:00<00:07, 46.08it/s, now=None]frame_index:   8%|▊         | 32/384 [00:00<00:08, 39.15it/s, now=None]frame_index:  10%|▉         | 37/384 [00:00<00:08, 41.16it/s, now=None]frame_index:  11%|█         | 42/384 [00:00<00:08, 42.39it/s, now=None]frame_index:  12%|█▏        | 47/384 [00:01<00:07, 43.32it/s, now=None]frame_index:  14%|█▎        | 52/384 [00:01<00:07, 43.21it/s, now=None]frame_index:  15%|█▍        | 57/384 [00:01<00:07, 44.09it/s, now=None]frame_index:  16%|█▌        | 62/384 [00:01<00:07, 43.72it/s, now=None]frame_index:  17%|█▋        | 67/384 [00:01<00:07, 44.48it/s, now=None]frame_index:  19%|█▉        | 72/384 [00:01<00:06, 45.08it/s, now=None]frame_index:  20%|██        | 77/384 [00:01<00:06, 44.15it/s, now=None]frame_index:  21%|██▏       | 82/384 [00:01<00:06, 43.89it/s, now=None]frame_index:  23%|██▎       | 87/384 [00:01<00:06, 44.04it/s, now=None]frame_index:  24%|██▍       | 92/384 [00:02<00:06, 44.51it/s, now=None]frame_index:  25%|██▌       | 97/384 [00:02<00:06, 44.63it/s, now=None]frame_index:  27%|██▋       | 102/384 [00:02<00:06, 44.98it/s, now=None]frame_index:  28%|██▊       | 107/384 [00:02<00:06, 45.04it/s, now=None]frame_index:  29%|██▉       | 112/384 [00:02<00:06, 44.95it/s, now=None]frame_index:  30%|███       | 117/384 [00:02<00:06, 44.42it/s, now=None]frame_index:  32%|███▏      | 122/384 [00:02<00:05, 45.18it/s, now=None]frame_index:  33%|███▎      | 127/384 [00:02<00:05, 45.40it/s, now=None]frame_index:  34%|███▍      | 132/384 [00:02<00:05, 45.51it/s, now=None]frame_index:  36%|███▌      | 137/384 [00:03<00:05, 45.20it/s, now=None]frame_index:  37%|███▋      | 142/384 [00:03<00:05, 45.46it/s, now=None]frame_index:  38%|███▊      | 147/384 [00:03<00:05, 45.51it/s, now=None]frame_index:  40%|███▉      | 152/384 [00:03<00:05, 44.81it/s, now=None]frame_index:  41%|████      | 157/384 [00:03<00:05, 44.36it/s, now=None]frame_index:  42%|████▏     | 162/384 [00:03<00:04, 44.61it/s, now=None]frame_index:  43%|████▎     | 167/384 [00:03<00:04, 44.78it/s, now=None]frame_index:  45%|████▍     | 172/384 [00:03<00:04, 44.55it/s, now=None]frame_index:  46%|████▌     | 177/384 [00:03<00:04, 43.71it/s, now=None]frame_index:  47%|████▋     | 182/384 [00:04<00:04, 43.80it/s, now=None]frame_index:  49%|████▊     | 187/384 [00:04<00:04, 43.33it/s, now=None]frame_index:  50%|█████     | 192/384 [00:04<00:04, 42.41it/s, now=None]frame_index:  51%|█████▏    | 197/384 [00:04<00:04, 42.02it/s, now=None]frame_index:  53%|█████▎    | 202/384 [00:04<00:04, 42.50it/s, now=None]frame_index:  54%|█████▍    | 207/384 [00:04<00:04, 43.23it/s, now=None]frame_index:  55%|█████▌    | 212/384 [00:04<00:03, 44.13it/s, now=None]frame_index:  57%|█████▋    | 217/384 [00:04<00:03, 44.38it/s, now=None]frame_index:  58%|█████▊    | 222/384 [00:05<00:03, 44.96it/s, now=None]frame_index:  59%|█████▉    | 227/384 [00:05<00:03, 45.26it/s, now=None]frame_index:  60%|██████    | 232/384 [00:05<00:03, 45.14it/s, now=None]frame_index:  62%|██████▏   | 237/384 [00:05<00:03, 45.10it/s, now=None]frame_index:  63%|██████▎   | 242/384 [00:05<00:03, 45.39it/s, now=None]frame_index:  64%|██████▍   | 247/384 [00:05<00:02, 45.85it/s, now=None]frame_index:  66%|██████▌   | 252/384 [00:05<00:02, 45.50it/s, now=None]frame_index:  67%|██████▋   | 257/384 [00:05<00:02, 45.86it/s, now=None]frame_index:  68%|██████▊   | 262/384 [00:05<00:02, 46.09it/s, now=None]frame_index:  70%|██████▉   | 267/384 [00:05<00:02, 46.70it/s, now=None]frame_index:  71%|███████   | 272/384 [00:06<00:02, 46.51it/s, now=None]frame_index:  72%|███████▏  | 277/384 [00:06<00:02, 45.50it/s, now=None]frame_index:  73%|███████▎  | 282/384 [00:06<00:02, 45.37it/s, now=None]frame_index:  75%|███████▍  | 287/384 [00:06<00:02, 44.95it/s, now=None]frame_index:  76%|███████▌  | 292/384 [00:06<00:02, 45.21it/s, now=None]frame_index:  77%|███████▋  | 297/384 [00:06<00:01, 44.70it/s, now=None]frame_index:  79%|███████▊  | 302/384 [00:06<00:01, 44.97it/s, now=None]frame_index:  80%|███████▉  | 307/384 [00:06<00:01, 44.71it/s, now=None]frame_index:  81%|████████▏ | 312/384 [00:06<00:01, 44.74it/s, now=None]frame_index:  83%|████████▎ | 317/384 [00:07<00:01, 45.09it/s, now=None]frame_index:  84%|████████▍ | 322/384 [00:07<00:01, 45.06it/s, now=None]frame_index:  85%|████████▌ | 327/384 [00:07<00:01, 45.25it/s, now=None]frame_index:  86%|████████▋ | 332/384 [00:07<00:01, 45.00it/s, now=None]frame_index:  88%|████████▊ | 337/384 [00:07<00:01, 44.58it/s, now=None]frame_index:  89%|████████▉ | 342/384 [00:07<00:00, 44.92it/s, now=None]frame_index:  90%|█████████ | 347/384 [00:07<00:00, 43.14it/s, now=None]frame_index:  92%|█████████▏| 352/384 [00:07<00:00, 43.04it/s, now=None]frame_index:  93%|█████████▎| 357/384 [00:08<00:00, 43.66it/s, now=None]frame_index:  94%|█████████▍| 362/384 [00:08<00:00, 44.35it/s, now=None]frame_index:  96%|█████████▌| 367/384 [00:08<00:00, 44.54it/s, now=None]frame_index:  97%|█████████▋| 372/384 [00:08<00:00, 42.94it/s, now=None]frame_index:  98%|█████████▊| 377/384 [00:08<00:00, 43.85it/s, now=None]frame_index:  99%|█████████▉| 382/384 [00:08<00:00, 40.23it/s, now=None]                                                                        MoviePy - Done !
MoviePy - video ready /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_if2xvrng/stitched_final.mp4
{"timestamp": "2025-08-24T19:37:02.601166Z", "level": "INFO", "message": "File uploaded to GCS: stories/a10897f2-1c21-4490-9214-b948fb83eb38/final/stitched_20250824T193701.mp4", "module": "cloud_service", "function": "upload_file_to_gcs", "line": 114}
{"timestamp": "2025-08-24T19:37:02.601899Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Uploaded final video to https://storage.googleapis.com/video-story-platform-storage/stories/a10897f2-1c21-4490-9214-b948fb83eb38/final/stitched_20250824T193701.mp4", "module": "video_service", "function": "stitch_story_videos", "line": 514}
{"timestamp": "2025-08-24T19:37:02.737313Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:37:02.737755Z", "level": "INFO", "message": "Document updated in Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T19:37:02.755309Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:37:02] \"POST /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38/stitch HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:37:02.818629Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/a10897f2-1c21-4490-9214-b948fb83eb38", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T19:37:02.879251Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:02.879442Z", "level": "INFO", "message": "Retrieved story a10897f2-1c21-4490-9214-b948fb83eb38 with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T19:37:02.881241Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:37:02] \"GET /api/stories/a10897f2-1c21-4490-9214-b948fb83eb38 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:37:39.161550Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.237760Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.321588Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.382510Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.459355Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.524387Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.585410Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.665024Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.725199Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.785216Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.842736Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.898198Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:39.955055Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.018226Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.075475Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.133449Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.191917Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.264940Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.326373Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.383028Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.383138Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:37:40.383441Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:37:40] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:37:40.479208Z", "level": "INFO", "message": "Queried 19 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.550458Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.607193Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.669990Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.730635Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.783603Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.840647Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.895461Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:40.957015Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.017590Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.080016Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.139766Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.199718Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.282797Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.339409Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.397915Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.452866Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.517694Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.571902Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.634623Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T19:37:41.634843Z", "level": "INFO", "message": "Retrieved 19 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T19:37:41.635425Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:37:41] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:37:45.975160Z", "level": "INFO", "message": "Retrieved 1 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:37:45.975843Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:37:45] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:37:55.998882Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:37:55] \"OPTIONS /api/entity-library HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:37:56.075651Z", "level": "INFO", "message": "Saved entity to library: dog", "module": "cloud_service", "function": "save_entity_to_library", "line": 678}
{"timestamp": "2025-08-24T19:37:56.076048Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:37:56] \"\u001b[35m\u001b[1mPOST /api/entity-library HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:37:56.135321Z", "level": "INFO", "message": "Retrieved 1 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 698}
{"timestamp": "2025-08-24T19:37:56.135822Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:37:56] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:39:09.404743Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:39:09] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:39:09.406796Z", "level": "ERROR", "message": "Gemini API error in unified prompt: Models.generate_content() got an unexpected keyword argument 'system_instruction'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 589}
{"timestamp": "2025-08-24T19:39:09.407293Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:39:09] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:40:34.262458Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:40:36.413315Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:40:37.180728Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:40:37.180794Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:40:37.462434Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:40:37.502477Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:40:37.522056Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:41:37.531602Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:41:37.623100Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:41:38.264451Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:41:38.264531Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:41:38.544861Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:41:38.583694Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:41:38.595284Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:41:56.384150Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:41:56.487158Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:41:57.197330Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:41:57.197411Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:41:57.463098Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:41:57.505427Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:41:57.517656Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:46:45.780453Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:46:45] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:46:45.782531Z", "level": "ERROR", "message": "Gemini API error in unified prompt: Models.generate_content() got an unexpected keyword argument 'system_instruction'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 602}
{"timestamp": "2025-08-24T19:46:45.782811Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:46:45] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:46:47.328436Z", "level": "ERROR", "message": "Gemini API error in unified prompt: Models.generate_content() got an unexpected keyword argument 'system_instruction'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 602}
{"timestamp": "2025-08-24T19:46:47.329015Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:46:47] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:46:48.694208Z", "level": "ERROR", "message": "Gemini API error in unified prompt: Models.generate_content() got an unexpected keyword argument 'system_instruction'", "module": "cloud_service", "function": "assist_unified_prompt", "line": 602}
{"timestamp": "2025-08-24T19:46:48.694731Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:46:48] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:02.518578Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:02.628015Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:03.348813Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:47:03.348883Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:47:03.703193Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:47:03.733757Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:03.744320Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:34.194716Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:34.289561Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:34.935377Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:47:34.935459Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:47:35.185804Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:47:35.222925Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:35.236636Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:56.209741Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:56.302697Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:56.855465Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:47:56.855558Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:47:57.140595Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:47:57.163335Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:47:57.180085Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:03.264294Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:03] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:03.267101Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:03.364427Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.395848Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bbc4ec0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.396233Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109c55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.412817Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10bb1da90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.413238Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.413688Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.414018Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.414388Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.414731Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.518424Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.519318Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:03.519989Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.520793Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.521419Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.522033Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.522754Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:48:03.523379Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:03.525028Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.526499Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.527724Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.529023Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.530211Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.697495Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.698926Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:03.700207Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.701579Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.702811Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.704026Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:03.705609Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:03] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:04.996407Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:04.997413Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:04.997862Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:04.997969Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:04.998154Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:04.998215Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.092865Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:05 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.093278Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:05.093428Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.093672Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.093735Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.093794Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.093976Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:48:05.094078Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:05.094644Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.094948Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.094989Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.095057Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.095091Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.154646Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:05 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.155344Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:05.155545Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.156027Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.156196Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.156270Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:05.157103Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:05] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:06.331158Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:06.332402Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.332888Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.333007Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.333219Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.333303Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.423187Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:06 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.423536Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:06.423643Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.423905Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.423977Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.424020Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.424233Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:48:06.424365Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:06.425050Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.425325Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.425374Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.425462Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.425498Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.511439Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:06 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.511763Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:06.511996Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.512801Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.512967Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.513215Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:06.514493Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:06] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:07.697661Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:07.698340Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.698594Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.698634Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.698711Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.698744Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.786091Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:07 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.786310Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:07.786377Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.786603Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.786646Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.786673Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.786806Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:48:07.786874Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:07.787306Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.787462Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.787492Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.787558Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.787584Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.880737Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:07 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.880980Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:07.881059Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.881673Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.881733Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.881765Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:07.882077Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:07] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:10.082790Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:10] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:10.084904Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:10.086100Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.086717Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.086896Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.087154Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.087259Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.147401Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:10 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.147712Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:10.147805Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.148002Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.148048Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.148078Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.148208Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:48:10.148296Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:10.148873Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.149182Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.149277Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.149382Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.149419Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.233675Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:10 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.234001Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:10.234092Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.234310Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.234362Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.234397Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:10.234758Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:10] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:28.723582Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:28.820089Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:29.351824Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:48:29.351912Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:48:29.599098Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:48:29.634556Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:29.653575Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:32.967620Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:32] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:32.969625Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:33.079068Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.088932Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1121b8ec0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.089072Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x110b55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.107376Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11211da90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.107546Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.107700Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.107735Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.107801Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.107837Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.188444Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:33 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.188940Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:33.189039Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.189434Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.189521Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.189561Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.189838Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:48:33.189957Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:33.190620Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.190900Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.190951Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.191090Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.191169Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.374171Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:33 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.374856Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:33.375084Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.375845Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.376036Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.376128Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:33.377046Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:33] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:37.134573Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:37.136443Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.136864Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.136978Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.137191Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.137639Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.216219Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:37 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.216612Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:37.216770Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.217050Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.217121Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.217170Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.217365Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:48:37.217496Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:37.218082Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.218327Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.218372Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.218448Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.218580Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.335116Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:37 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.335901Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:37.336160Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.336809Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.336984Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.337052Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:37.338071Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:37] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:38.110093Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:38] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:38.112009Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:38.112675Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.112949Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.113007Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.113077Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.113106Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.201425Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.202140Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:38.202510Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.203205Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.203598Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.203746Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.204146Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:48:38.204529Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:48:38.205806Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.206435Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.206576Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.206839Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.206930Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.285566Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:48:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.286225Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:48:38.286880Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.287643Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.287863Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.288011Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:48:38.289011Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:38] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:43.312628Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:43] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:43.315394Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:43] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:48:49.258400Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T19:48:49.725403Z", "level": "INFO", "message": "Retrieved 1 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 720}
{"timestamp": "2025-08-24T19:48:49.726253Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:48:49] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:49:02.237847Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:49:02] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:49:02.240234Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:49:02.241807Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.242265Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.242424Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.256122Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11211cf50>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.257105Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x110b55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.277630Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1121b08a0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.277786Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.277957Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.277990Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.278058Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.278093Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.363927Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:49:02 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.364141Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:49:02.364211Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.364381Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.364427Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.364457Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.364593Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:49:02.364670Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:49:02.365050Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.365216Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.365248Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.365302Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.365328Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.534649Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:49:02 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.535012Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:49:02.535161Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.535599Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.535707Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.535762Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:02.536287Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:49:02] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:49:18.794761Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:49:18] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:49:18.796338Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:49:18.796920Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.797094Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.797133Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.806460Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1121b15b0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.806579Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x110b55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.825270Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1121c5d90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.825364Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.825483Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.825508Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.825557Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.825583Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.950381Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:49:18 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.950570Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:49:18.950628Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.951036Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.951095Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.951127Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.951238Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:49:18.951297Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:49:18.951853Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.952212Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.952282Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.952372Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:18.952396Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:19.083895Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:49:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:19.084042Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:49:19.084095Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:19.084241Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:19.084274Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:19.084300Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:49:19.084533Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:49:19] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:00.928212Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:51:00] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:00.930622Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:51:00.932655Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.933522Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.933647Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.945032Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11232caf0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.945194Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x110b55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.966152Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11232cc00>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.966308Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.966446Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.966472Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.966532Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:00.966554Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.064751Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:51:01 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.065281Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:51:01.065534Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.066104Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.066235Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.066343Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.066682Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'Publisher Model `projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions', 'status': 'NOT_FOUND'}}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:51:01.066822Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:51:01.067699Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.068031Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.068114Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.068275Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.068372Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.156599Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Type', b'application/json; charset=UTF-8'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:51:01 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.157186Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-1.5-flash:generateContent \"HTTP/1.1 404 Not Found\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:51:01.157399Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.157923Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.158171Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.158349Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:51:01.159268Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:51:01] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:39.927635Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:42.033949Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:42.741170Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:51:42.741241Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:51:43.016132Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:51:43.052436Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:43.067731Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:54.626900Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:54.703381Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:55.197874Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:51:55.197941Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:51:55.597338Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:51:55.623202Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:51:55.645716Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:54:37.339610Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:54:37.425978Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:54:38.022031Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:54:38.022092Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:54:38.269779Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:54:38.305365Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:54:38.318828Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:54:40.443451Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:54:40] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:54:40.445913Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:54:40.546174Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:40.579375Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1149a8ec0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:40.579588Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x113a55910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:40.597079Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11491da90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:40.597256Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:40.597457Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:40.597492Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:40.597577Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:40.597694Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.424083Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:54:41 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.424898Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:54:41.425884Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.426359Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.426504Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.426576Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.427380Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T19:54:41.427539Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 601}
{"timestamp": "2025-08-24T19:54:41.427683Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T19:54:41.428641Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.428957Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.429051Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.429211Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:41.429274Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:42.507750Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 19:54:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:42.508971Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T19:54:42.509295Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:42.510163Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:42.510353Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:42.510450Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T19:54:42.511560Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T19:54:42.512411Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 12:54:42] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:55:37.000330Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:55:37.108301Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:55:37.791687Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:55:37.791745Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:55:38.045683Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:55:38.079371Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:55:38.089464Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:56:03.249424Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:56:03.345922Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:56:04.024790Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:56:04.024870Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T19:56:04.274333Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T19:56:04.302914Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T19:56:04.311133Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:12:28.567188Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:12:28.683669Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:12:29.401895Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T20:12:29.401978Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T20:12:29.690768Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T20:12:29.731918Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:12:29.742096Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:12:31.524474Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 13:12:31] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:12:31.526111Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T20:12:31.622317Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:31.652210Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1137d8ec0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:31.652350Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x113155910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:31.675827Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11371da90>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:31.675981Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:31.676135Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:31.676165Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:31.676226Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:31.676254Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.644993Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 20:12:32 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.646096Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T20:12:32.646784Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.647489Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.647616Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.647674Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.649370Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T20:12:32.649540Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 602}
{"timestamp": "2025-08-24T20:12:32.649656Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T20:12:32.650599Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.650967Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.651069Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.651321Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:32.651391Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:33.627181Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 20:12:33 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:33.627582Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T20:12:33.627839Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:33.628300Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:33.628443Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:33.628520Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:12:33.629344Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T20:12:33.630010Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 13:12:33] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:13:14.202445Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 13:13:14] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:13:14.203497Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 13:13:14] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:13:20.330231Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T20:13:20.779310Z", "level": "INFO", "message": "Retrieved 1 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 722}
{"timestamp": "2025-08-24T20:13:20.779729Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 13:13:20] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:13:44.776140Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 13:13:44] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:13:44.779846Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T20:13:44.782211Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.783400Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.783656Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.793437Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11371efd0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.793728Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x113155910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.813607Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1137f0180>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.813730Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.813879Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.813907Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.813979Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:44.814002Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.696036Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 20:13:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.696885Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T20:13:45.697323Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.698073Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.698539Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.698704Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.700066Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T20:13:45.700320Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 602}
{"timestamp": "2025-08-24T20:13:45.700462Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T20:13:45.701776Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.702373Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.702498Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.703235Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:45.703401Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:46.933160Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 20:13:46 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:46.933884Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T20:13:46.934148Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:46.935125Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:46.935376Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:46.935596Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:46.936702Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T20:13:46.937435Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 13:13:46] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:13:49.312275Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T20:13:49.313578Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:49.314333Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:49.314582Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:49.314956Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:49.315101Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.438784Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 20:13:50 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.439768Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T20:13:50.440167Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.441385Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.441950Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.442774Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.443460Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T20:13:50.443608Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 602}
{"timestamp": "2025-08-24T20:13:50.443765Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T20:13:50.444747Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.445195Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.445284Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.445515Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:50.445583Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:51.427654Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 20:13:51 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:51.428554Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T20:13:51.428934Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:51.429405Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:51.429630Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:51.429789Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T20:13:51.430610Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T20:13:51.431090Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 13:13:51] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:15:33.650611Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:15:35.759876Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:15:36.439520Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T20:15:36.439598Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T20:15:36.706202Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T20:15:36.753844Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:15:36.779462Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:16:01.916597Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:16:02.015968Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:16:02.746167Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T20:16:02.746246Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T20:16:02.998541Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T20:16:03.032101Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T20:16:03.040685Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:16:10.550672Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:16:10] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:16:10.553267Z", "level": "INFO", "message": "{\"event\": \"assist_unified_prompt.payload\", \"seedIdea\": \"a person  talking\", \"entities\": [\"person\", \"person  talking\"], \"entityDetails\": {\"person\": \"a man\"}, \"visualType\": \"2D\", \"mood\": \"natural\", \"wantsDialogue\": false, \"characters\": []}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 558}
{"timestamp": "2025-08-24T22:16:10.553693Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:16:10.680323Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:10.709848Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a214ec0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:10.709996Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109855910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:10.731880Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x109f1dbd0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:10.732057Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:10.732233Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:10.732275Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:10.732351Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:10.732384Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.659556Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:16:11 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.660065Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:16:11.660272Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.660500Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.660557Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.660594Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.661277Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:16:11.661364Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 636}
{"timestamp": "2025-08-24T22:16:11.661434Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:16:11.662024Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.662227Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.662263Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.662331Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:11.662361Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:12.579218Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:16:12 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:12.579800Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:16:12.580118Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:12.581004Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:12.581250Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:12.581466Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:12.582616Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:16:12.583189Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:16:12] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:16:13.913861Z", "level": "INFO", "message": "{\"event\": \"assist_unified_prompt.payload\", \"seedIdea\": \"a person  talking\", \"entities\": [\"person\", \"person  talking\"], \"entityDetails\": {\"person\": \"a man\"}, \"visualType\": \"2D\", \"mood\": \"natural\", \"wantsDialogue\": false, \"characters\": []}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 558}
{"timestamp": "2025-08-24T22:16:13.914476Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:16:13.915986Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:13.916366Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:13.916534Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:13.916776Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:13.916923Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.899865Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:16:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.900133Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:16:14.900223Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.900787Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.900864Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.900905Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.901276Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:16:14.901334Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 636}
{"timestamp": "2025-08-24T22:16:14.901403Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:16:14.901937Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.902183Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.902236Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.902321Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:14.902353Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:15.808661Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:16:15 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:15.809461Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:16:15.809787Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:15.810832Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:15.811240Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:15.811385Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:16:15.812468Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:16:15.813432Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:16:15] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:16:22.142229Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:16:22] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:16:22.142668Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:16:22] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:16:29.311925Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T22:16:29.803708Z", "level": "INFO", "message": "Retrieved 1 entities from library for user default_user", "module": "cloud_service", "function": "get_user_entity_library", "line": 756}
{"timestamp": "2025-08-24T22:16:29.804392Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:16:29] \"GET /api/entity-library?user_id=default_user HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:17:01.339901Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:17:01] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:17:01.342144Z", "level": "INFO", "message": "{\"event\": \"assist_unified_prompt.payload\", \"seedIdea\": \"person  goes to the store\", \"entities\": [\"person\", \"person  goes to the store\"], \"entityDetails\": {\"person\": \"an old man\"}, \"visualType\": \"2D\", \"mood\": \"natural\", \"wantsDialogue\": false, \"characters\": []}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 558}
{"timestamp": "2025-08-24T22:17:01.342655Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:17:01.344092Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.344426Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.344528Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.355779Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x109f1f390>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.355972Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109855910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.373115Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x109ff6520>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.373342Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.373564Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.373593Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.373656Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:01.373782Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.233915Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:17:02 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.234987Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:17:02.235197Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.235754Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.235863Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.235946Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.236581Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:17:02.236710Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 636}
{"timestamp": "2025-08-24T22:17:02.236803Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:17:02.237652Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.237980Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.238047Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.238182Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:02.238254Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:03.180269Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:17:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:03.181196Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:17:03.181484Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:03.182194Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:03.182444Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:03.182586Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:03.183782Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:17:03.184735Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:17:03] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:17:05.272979Z", "level": "INFO", "message": "{\"event\": \"assist_unified_prompt.payload\", \"seedIdea\": \"person  goes to the store\", \"entities\": [\"person\", \"person  goes to the store\"], \"entityDetails\": {\"person\": \"an old man\"}, \"visualType\": \"2D\", \"mood\": \"natural\", \"wantsDialogue\": false, \"characters\": []}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 558}
{"timestamp": "2025-08-24T22:17:05.273219Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:17:05.275812Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:05.276391Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:05.276498Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:05.276694Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:05.276762Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.221774Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:17:06 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.222082Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:17:06.222169Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.223413Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.223467Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.223502Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.223872Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:17:06.223942Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 636}
{"timestamp": "2025-08-24T22:17:06.224001Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:17:06.224585Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.224862Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.224918Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.225005Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:06.225044Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:07.154242Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:17:07 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:07.154873Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:17:07.155101Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:07.156111Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:07.156322Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:07.156432Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:07.157217Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:17:07.157588Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:17:07] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:17:08.123849Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:17:08] \"OPTIONS /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:17:08.125981Z", "level": "INFO", "message": "{\"event\": \"assist_unified_prompt.payload\", \"seedIdea\": \"person  goes to the store\", \"entities\": [\"person\", \"person  goes to the store\"], \"entityDetails\": {\"person\": \"an old man\"}, \"visualType\": \"2D\", \"mood\": \"natural\", \"wantsDialogue\": false, \"characters\": []}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 558}
{"timestamp": "2025-08-24T22:17:08.126318Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:17:08.127880Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.128527Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.128634Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.128816Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.128867Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.895407Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:17:08 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.896122Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:17:08.896404Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.897033Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.897259Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.897361Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.898385Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:17:08.898545Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 636}
{"timestamp": "2025-08-24T22:17:08.898661Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:17:08.900050Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.900455Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.900550Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.900763Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:08.900845Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:09.940920Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:17:09 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:09.941375Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:17:09.941510Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:09.941968Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:09.942093Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:09.942145Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:09.942842Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:17:09.943407Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:17:09] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:17:12.958691Z", "level": "INFO", "message": "{\"event\": \"assist_unified_prompt.payload\", \"seedIdea\": \"person  goes to the store\", \"entities\": [\"person\", \"person  goes to the store\"], \"entityDetails\": {\"person\": \"an old man\"}, \"visualType\": \"2D\", \"mood\": \"natural\", \"wantsDialogue\": false, \"characters\": []}", "module": "cloud_service", "function": "assist_unified_prompt", "line": 558}
{"timestamp": "2025-08-24T22:17:12.958917Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:17:12.960084Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:12.960508Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:12.960663Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:12.960894Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:12.960968Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.886104Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:17:13 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.886666Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:17:13.886873Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.887827Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.888279Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.888567Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.889568Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:17:13.889776Z", "level": "ERROR", "message": "Gemini API error in unified prompt: 'NoneType' object is not iterable", "module": "cloud_service", "function": "assist_unified_prompt", "line": 636}
{"timestamp": "2025-08-24T22:17:13.889904Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:17:13.891079Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.891496Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.891583Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.891776Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:13.891843Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:14.942650Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:17:14 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:14.943045Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:17:14.943194Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:14.943737Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:14.943921Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:14.943997Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:17:14.944717Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:17:14.945143Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:17:14] \"POST /api/stories/new-story/prompt-assist HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:18:00.859749Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:18:00] \"OPTIONS /api/stories HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:18:00.861151Z", "level": "INFO", "message": "Creating new story: test", "module": "story_service", "function": "create_story", "line": 25}
{"timestamp": "2025-08-24T22:18:00.976666Z", "level": "INFO", "message": "Document saved to Firestore: stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:18:00.976733Z", "level": "INFO", "message": "Story created with ID: 69a81cee-513c-4be6-8661-7e2b6c3a52c2", "module": "story_service", "function": "create_story", "line": 41}
{"timestamp": "2025-08-24T22:18:00.976916Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:18:00] \"\u001b[35m\u001b[1mPOST /api/stories HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:18:00.980259Z", "level": "INFO", "message": "Generating video for story 69a81cee-513c-4be6-8661-7e2b6c3a52c2 with prompt: a man petting his dog. ", "module": "app", "function": "generate_video_segment", "line": 216}
{"timestamp": "2025-08-24T22:18:00.980333Z", "level": "INFO", "message": "Generating video for story 69a81cee-513c-4be6-8661-7e2b6c3a52c2 with prompt: a man petting his dog. ", "module": "app", "function": "generate_video_segment", "line": 216}
{"timestamp": "2025-08-24T22:18:00.980386Z", "level": "INFO", "message": "Generating video segment b576d7a1-ac18-4a8d-9b95-beed590693e8 for story 69a81cee-513c-4be6-8661-7e2b6c3a52c2", "module": "video_service", "function": "generate_video_segment", "line": 39}
{"timestamp": "2025-08-24T22:18:01.164107Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:18:01.257902Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:18:01.258025Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Story 69a81cee-513c-4be6-8661-7e2b6c3a52c2, Sequence #1", "module": "video_service", "function": "generate_video_segment", "line": 53}
{"timestamp": "2025-08-24T22:18:01.258055Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: use_previous_frame=False", "module": "video_service", "function": "generate_video_segment", "line": 54}
{"timestamp": "2025-08-24T22:18:01.258077Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Found 0 existing segments", "module": "video_service", "function": "generate_video_segment", "line": 55}
{"timestamp": "2025-08-24T22:18:01.258199Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:18:01.258680Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.258865Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.258910Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.273787Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x109ff6060>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.273894Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109855910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.292314Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x109fdf0b0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.292428Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.292567Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.292598Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.292659Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:01.292683Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.585181Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:18:02 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.588330Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:18:02.588874Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.589687Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.590643Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.590898Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.592167Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:18:02.592762Z", "level": "WARNING", "message": "Gemini returned empty enhancement; retrying once", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 389}
{"timestamp": "2025-08-24T22:18:02.593056Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:18:02.594507Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.595383Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.595494Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.595736Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:02.595968Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.877650Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:18:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.877991Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:18:03.878097Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.878358Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.878420Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.878461Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.878880Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:18:03.878954Z", "level": "INFO", "message": "\ud83c\udfac PROMPT: Final enhanced prompt: 'a man petting his dog.'", "module": "video_service", "function": "generate_video_segment", "line": 121}
{"timestamp": "2025-08-24T22:18:03.961132Z", "level": "INFO", "message": "Document saved to Firestore: segments/b576d7a1-ac18-4a8d-9b95-beed590693e8", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:18:03.961302Z", "level": "INFO", "message": "Starting video generation with model: veo-3.0-fast-generate-001", "module": "cloud_service", "function": "generate_videos", "line": 251}
{"timestamp": "2025-08-24T22:18:03.961773Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.962008Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.962040Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.962118Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:03.962143Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:04.321511Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:18:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:04.321886Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:predictLongRunning \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:18:04.322011Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:04.322275Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:04.322331Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:04.322377Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:04.322777Z", "level": "INFO", "message": "Video generation operation started: projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001/operations/5131d949-772f-40a2-baa1-5e1a17821703", "module": "cloud_service", "function": "generate_videos", "line": 260}
{"timestamp": "2025-08-24T22:18:04.383164Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/b576d7a1-ac18-4a8d-9b95-beed590693e8", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:18:04.601871Z", "level": "INFO", "message": "Document saved to Firestore: operations/1b63e3d7-21d5-4b6c-9047-4a34697fa114", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:18:04.602114Z", "level": "INFO", "message": "Video generation started for segment b576d7a1-ac18-4a8d-9b95-beed590693e8", "module": "video_service", "function": "_start_video_generation", "line": 204}
{"timestamp": "2025-08-24T22:18:04.602585Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:18:04] \"\u001b[35m\u001b[1mPOST /api/stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2/generate HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:18:04.694082Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:18:04.780394Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:18:04.780536Z", "level": "INFO", "message": "Retrieved story 69a81cee-513c-4be6-8661-7e2b6c3a52c2 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:18:04.780763Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:18:04] \"GET /api/stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:18:04.853249Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:18:04.933434Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:18:04.933588Z", "level": "INFO", "message": "Retrieved story 69a81cee-513c-4be6-8661-7e2b6c3a52c2 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:18:04.933884Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:18:04] \"GET /api/stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:18:19.674667Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/1b63e3d7-21d5-4b6c-9047-4a34697fa114", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:18:19.675585Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.675952Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.676088Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.686222Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x109f2e470>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.686658Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109855910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.704087Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x109f2ce20>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.704220Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.704421Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.704460Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.704522Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:19.704545Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:20.086669Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:18:20 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:20.091427Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:18:20.091716Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:20.092295Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:20.092435Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:20.092488Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:20.094147Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:18:20] \"GET /api/generation-status/1b63e3d7-21d5-4b6c-9047-4a34697fa114 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:18:34.703804Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/1b63e3d7-21d5-4b6c-9047-4a34697fa114", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:18:34.704619Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.705094Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.705173Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.714652Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a25cd50>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.714791Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109855910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.733044Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a25ce50>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.733188Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.733325Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.733357Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.733416Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:34.733446Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:35.060507Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:18:35 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:35.060854Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:18:35.060987Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:35.061454Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:35.061592Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:35.061754Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:35.062639Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:18:35] \"GET /api/generation-status/1b63e3d7-21d5-4b6c-9047-4a34697fa114 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:18:49.675125Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/1b63e3d7-21d5-4b6c-9047-4a34697fa114", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:18:49.675911Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.676410Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.676632Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.687915Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a252120>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.688206Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109855910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.707652Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a2519a0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.707848Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.708117Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.708207Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.708412Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.708835Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.857453Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:18:49 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.857667Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:18:49.857732Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.857880Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.857925Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.857952Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:18:49.858261Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:18:49] \"GET /api/generation-status/1b63e3d7-21d5-4b6c-9047-4a34697fa114 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:19:04.695579Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/1b63e3d7-21d5-4b6c-9047-4a34697fa114", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:19:04.696589Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.697081Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.697346Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.708969Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a223af0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.709180Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x109855910> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.726856Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a223bd0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.726994Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.727122Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.727252Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.727390Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:04.727435Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:05.056321Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:19:05 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:05.056727Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:19:05.056998Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:05.058855Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:05.059005Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:05.059059Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:19:05.763085Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/b576d7a1-ac18-4a8d-9b95-beed590693e8", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:19:05.763172Z", "level": "INFO", "message": "Document updated in Firestore: segments/b576d7a1-ac18-4a8d-9b95-beed590693e8", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T22:19:05.763440Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:19:05] \"GET /api/generation-status/1b63e3d7-21d5-4b6c-9047-4a34697fa114 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:19:09.043202Z", "level": "INFO", "message": "Queried 20 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.130591Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.211259Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.294887Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.360277Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.428529Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.496336Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.562754Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.622501Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.677553Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.746744Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.804261Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.922377Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:09.994721Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.051077Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.106822Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.160605Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.214139Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.280073Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.334933Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.396228Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.396336Z", "level": "INFO", "message": "Retrieved 20 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T22:19:10.396564Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:19:10] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:19:10.465778Z", "level": "INFO", "message": "Queried 20 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.525520Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.581829Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.640960Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.694526Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.752939Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.804088Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.855790Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.911767Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:10.967746Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.024583Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.080254Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.137494Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.192572Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.247444Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.301123Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.359478Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.416453Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.479765Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.535545Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.591803Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.591988Z", "level": "INFO", "message": "Retrieved 20 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T22:19:11.592446Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:19:11] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:19:11.714737Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:19:11.776968Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.777106Z", "level": "INFO", "message": "Retrieved story 69a81cee-513c-4be6-8661-7e2b6c3a52c2 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:19:11.777353Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:19:11] \"GET /api/stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:19:11.829551Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:19:11.886871Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:19:11.887067Z", "level": "INFO", "message": "Retrieved story 69a81cee-513c-4be6-8661-7e2b6c3a52c2 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:19:11.887450Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:19:11] \"GET /api/stories/69a81cee-513c-4be6-8661-7e2b6c3a52c2 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:19:13.843479Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:19:13] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:21:34.354532Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:21:36.454802Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:21:37.114766Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:21:37.114827Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:21:37.382949Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T22:21:37.413351Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:21:37.423731Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:23:09.844817Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:23:09.937840Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:23:10.611402Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:23:10.611470Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:23:10.958743Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T22:23:10.992967Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:23:11.015759Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:25:32.726039Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/app.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:25:32.824801Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:25:33.461219Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:25:33.461288Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:25:33.756723Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T22:25:33.791517Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:25:33.799327Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:01.463014Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:01] \"OPTIONS /api/stories HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:01.467459Z", "level": "INFO", "message": "Creating new story: test", "module": "story_service", "function": "create_story", "line": 25}
{"timestamp": "2025-08-24T22:26:01.932115Z", "level": "INFO", "message": "Document saved to Firestore: stories/38c77e29-9d0e-4be4-8785-347fd76687df", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:26:01.932187Z", "level": "INFO", "message": "Story created with ID: 38c77e29-9d0e-4be4-8785-347fd76687df", "module": "story_service", "function": "create_story", "line": 41}
{"timestamp": "2025-08-24T22:26:01.932458Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:01] \"\u001b[35m\u001b[1mPOST /api/stories HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:01.936006Z", "level": "INFO", "message": "Generating video for story 38c77e29-9d0e-4be4-8785-347fd76687df with prompt: a story about a boy and his dog.", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:26:01.936063Z", "level": "INFO", "message": "Generating video for story 38c77e29-9d0e-4be4-8785-347fd76687df with prompt: a story about a boy and his dog.", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:26:01.936114Z", "level": "INFO", "message": "Generating video segment 76ba9ff9-cfcd-4d60-ac02-be6adc477bb3 for story 38c77e29-9d0e-4be4-8785-347fd76687df", "module": "video_service", "function": "generate_video_segment", "line": 39}
{"timestamp": "2025-08-24T22:26:02.027513Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/38c77e29-9d0e-4be4-8785-347fd76687df", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:02.028155Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T22:26:02.206866Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:02.206944Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Story 38c77e29-9d0e-4be4-8785-347fd76687df, Sequence #1", "module": "video_service", "function": "generate_video_segment", "line": 53}
{"timestamp": "2025-08-24T22:26:02.206970Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: use_previous_frame=False", "module": "video_service", "function": "generate_video_segment", "line": 54}
{"timestamp": "2025-08-24T22:26:02.206991Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Found 0 existing segments", "module": "video_service", "function": "generate_video_segment", "line": 55}
{"timestamp": "2025-08-24T22:26:02.207143Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:26:02.300683Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:02.330654Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c4a17f0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:02.330770Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x11bb4d880> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:02.349702Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c417250>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:02.349851Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:02.350013Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:02.350045Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:02.350114Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:02.350149Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.737902Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:26:03 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.739178Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:26:03.739451Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.740024Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.740195Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.740409Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.741663Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:26:03.741817Z", "level": "WARNING", "message": "Gemini returned empty enhancement; retrying once", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 389}
{"timestamp": "2025-08-24T22:26:03.741949Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:26:03.742975Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.743350Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.743435Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.743625Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:03.743702Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:04.949222Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:26:04 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:04.949768Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:26:04.950503Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:04.951874Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:04.952107Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:04.952199Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:04.954090Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:26:04.954337Z", "level": "INFO", "message": "\ud83c\udfac PROMPT: Final enhanced prompt: 'a story about a boy and his dog.'", "module": "video_service", "function": "generate_video_segment", "line": 121}
{"timestamp": "2025-08-24T22:26:05.074428Z", "level": "INFO", "message": "Document saved to Firestore: segments/76ba9ff9-cfcd-4d60-ac02-be6adc477bb3", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:26:05.075047Z", "level": "INFO", "message": "Starting video generation with model: veo-3.0-fast-generate-001", "module": "cloud_service", "function": "generate_videos", "line": 251}
{"timestamp": "2025-08-24T22:26:05.076695Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.077336Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.077556Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.077965Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.078137Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.413697Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:26:05 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.414073Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:predictLongRunning \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:26:05.414208Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.414419Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.414486Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.414530Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:05.414917Z", "level": "INFO", "message": "Video generation operation started: projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001/operations/6095df51-794d-4b31-ab9a-a474c76c94e2", "module": "cloud_service", "function": "generate_videos", "line": 260}
{"timestamp": "2025-08-24T22:26:05.496213Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/76ba9ff9-cfcd-4d60-ac02-be6adc477bb3", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:05.692565Z", "level": "INFO", "message": "Document saved to Firestore: operations/64f116bd-7cd4-48bf-bad8-7303fb3bfb2a", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:26:05.692853Z", "level": "INFO", "message": "Video generation started for segment 76ba9ff9-cfcd-4d60-ac02-be6adc477bb3", "module": "video_service", "function": "_start_video_generation", "line": 204}
{"timestamp": "2025-08-24T22:26:05.693342Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:05] \"\u001b[35m\u001b[1mPOST /api/stories/38c77e29-9d0e-4be4-8785-347fd76687df/generate HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:05.783165Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/38c77e29-9d0e-4be4-8785-347fd76687df", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:05.886054Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:05.886242Z", "level": "INFO", "message": "Retrieved story 38c77e29-9d0e-4be4-8785-347fd76687df with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:26:05.886517Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:05] \"GET /api/stories/38c77e29-9d0e-4be4-8785-347fd76687df HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:05.969841Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/38c77e29-9d0e-4be4-8785-347fd76687df", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:06.031169Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:06.031405Z", "level": "INFO", "message": "Retrieved story 38c77e29-9d0e-4be4-8785-347fd76687df with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:26:06.031888Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:06] \"GET /api/stories/38c77e29-9d0e-4be4-8785-347fd76687df HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:20.779788Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/64f116bd-7cd4-48bf-bad8-7303fb3bfb2a", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:20.781416Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.782108Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.782398Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.794246Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c417890>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.794949Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x11bb4d880> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.813086Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c4ba520>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.813339Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.813620Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.813678Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.813806Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:20.813856Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:21.132932Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:26:21 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:21.133267Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:26:21.133369Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:21.133632Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:21.133696Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:21.133737Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:21.274528Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/76ba9ff9-cfcd-4d60-ac02-be6adc477bb3", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:21.274731Z", "level": "INFO", "message": "Document updated in Firestore: segments/76ba9ff9-cfcd-4d60-ac02-be6adc477bb3", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T22:26:21.275288Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:21] \"GET /api/generation-status/64f116bd-7cd4-48bf-bad8-7303fb3bfb2a HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:31.877412Z", "level": "INFO", "message": "Queried 21 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:31.974851Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.045369Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.139740Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.196035Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.260597Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.330741Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.395634Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.449864Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.509572Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.570153Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.631155Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.687964Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.744747Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.799152Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.857913Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.929874Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:32.985461Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.036556Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.099747Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.182717Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.237469Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.237598Z", "level": "INFO", "message": "Retrieved 21 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T22:26:33.237888Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:33] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:33.307284Z", "level": "INFO", "message": "Queried 21 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.367328Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.422080Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.483314Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.537886Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.595233Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.654229Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.719463Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.780802Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:33.945355Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.002520Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.066267Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.123656Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.184301Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.239461Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.304971Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.361765Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.419618Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.475326Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.542501Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.597344Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.654060Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:34.654188Z", "level": "INFO", "message": "Retrieved 21 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T22:26:34.654495Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:34] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:43.670232Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:43] \"OPTIONS /api/stories HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:43.673256Z", "level": "INFO", "message": "Creating new story: test", "module": "story_service", "function": "create_story", "line": 25}
{"timestamp": "2025-08-24T22:26:43.743963Z", "level": "INFO", "message": "Document saved to Firestore: stories/b658396d-d537-42f9-8bf2-6e4091338624", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:26:43.744057Z", "level": "INFO", "message": "Story created with ID: b658396d-d537-42f9-8bf2-6e4091338624", "module": "story_service", "function": "create_story", "line": 41}
{"timestamp": "2025-08-24T22:26:43.744271Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:43] \"\u001b[35m\u001b[1mPOST /api/stories HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:43.747727Z", "level": "INFO", "message": "Generating video for story b658396d-d537-42f9-8bf2-6e4091338624 with prompt: a dog and a man", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:26:43.747797Z", "level": "INFO", "message": "Generating video for story b658396d-d537-42f9-8bf2-6e4091338624 with prompt: a dog and a man", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:26:43.747852Z", "level": "INFO", "message": "Generating video segment e2d91c96-f559-4456-9dca-a09454ea1a33 for story b658396d-d537-42f9-8bf2-6e4091338624", "module": "video_service", "function": "generate_video_segment", "line": 39}
{"timestamp": "2025-08-24T22:26:43.800379Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b658396d-d537-42f9-8bf2-6e4091338624", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:43.868749Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:43.868839Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Story b658396d-d537-42f9-8bf2-6e4091338624, Sequence #1", "module": "video_service", "function": "generate_video_segment", "line": 53}
{"timestamp": "2025-08-24T22:26:43.868868Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: use_previous_frame=False", "module": "video_service", "function": "generate_video_segment", "line": 54}
{"timestamp": "2025-08-24T22:26:43.868889Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Found 0 existing segments", "module": "video_service", "function": "generate_video_segment", "line": 55}
{"timestamp": "2025-08-24T22:26:43.868945Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:26:43.869370Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.869517Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.869561Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.880369Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c4b8c30>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.881042Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x11bb4d880> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.898761Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c491fd0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.898886Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.899005Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.899032Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.899093Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:43.899121Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.154959Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:26:45 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.155173Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:26:45.155246Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.155413Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.155455Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.155485Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.155771Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:26:45.155809Z", "level": "WARNING", "message": "Gemini returned empty enhancement; retrying once", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 389}
{"timestamp": "2025-08-24T22:26:45.155850Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:26:45.156216Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.156345Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.156371Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.156440Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:45.156463Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.519974Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:26:46 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.520326Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:26:46.520429Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.520664Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.520723Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.520766Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.521191Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:26:46.521281Z", "level": "INFO", "message": "\ud83c\udfac PROMPT: Final enhanced prompt: 'a dog and a man'", "module": "video_service", "function": "generate_video_segment", "line": 121}
{"timestamp": "2025-08-24T22:26:46.592768Z", "level": "INFO", "message": "Document saved to Firestore: segments/e2d91c96-f559-4456-9dca-a09454ea1a33", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:26:46.592958Z", "level": "INFO", "message": "Starting video generation with model: veo-3.0-fast-generate-001", "module": "cloud_service", "function": "generate_videos", "line": 251}
{"timestamp": "2025-08-24T22:26:46.593472Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.593739Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.593786Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.593868Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.593901Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.975442Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:26:46 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.976224Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:predictLongRunning \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:26:46.976532Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.977222Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.977502Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.977642Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:26:46.978697Z", "level": "INFO", "message": "Video generation operation started: projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001/operations/e6d318b6-151a-44a8-bd01-8f7bb6463a5e", "module": "cloud_service", "function": "generate_videos", "line": 260}
{"timestamp": "2025-08-24T22:26:47.043494Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/e2d91c96-f559-4456-9dca-a09454ea1a33", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:47.126993Z", "level": "INFO", "message": "Document saved to Firestore: operations/a40903c8-48e2-4b64-b38b-9518358b7595", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:26:47.127778Z", "level": "INFO", "message": "Video generation started for segment e2d91c96-f559-4456-9dca-a09454ea1a33", "module": "video_service", "function": "_start_video_generation", "line": 204}
{"timestamp": "2025-08-24T22:26:47.128807Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:47] \"\u001b[35m\u001b[1mPOST /api/stories/b658396d-d537-42f9-8bf2-6e4091338624/generate HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:47.196760Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b658396d-d537-42f9-8bf2-6e4091338624", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:47.251653Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:47.251821Z", "level": "INFO", "message": "Retrieved story b658396d-d537-42f9-8bf2-6e4091338624 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:26:47.252154Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:47] \"GET /api/stories/b658396d-d537-42f9-8bf2-6e4091338624 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:26:47.308555Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/b658396d-d537-42f9-8bf2-6e4091338624", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:26:47.368407Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:26:47.368525Z", "level": "INFO", "message": "Retrieved story b658396d-d537-42f9-8bf2-6e4091338624 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:26:47.368728Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:26:47] \"GET /api/stories/b658396d-d537-42f9-8bf2-6e4091338624 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:27:02.196246Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/a40903c8-48e2-4b64-b38b-9518358b7595", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:27:02.196628Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.196770Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.196800Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.205619Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c4dfac0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.205754Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x11bb4d880> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.224318Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c4dfbd0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.224411Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.224531Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.224565Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.224623Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.224653Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.556327Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:27:02 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.556578Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:27:02.556676Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.557429Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.557496Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.557525Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:02.557866Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:27:02] \"GET /api/generation-status/a40903c8-48e2-4b64-b38b-9518358b7595 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:27:17.207689Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/a40903c8-48e2-4b64-b38b-9518358b7595", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:27:17.209482Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.209944Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.210033Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.221885Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c4ce950>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.222155Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x11bb4d880> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.239569Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c4cea50>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.239768Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.240116Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.240241Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.240943Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.241037Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.628083Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:27:17 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.628446Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:27:17.628857Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.629602Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.629996Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.630224Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:17.631142Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:27:17] \"GET /api/generation-status/a40903c8-48e2-4b64-b38b-9518358b7595 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:27:32.202574Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/a40903c8-48e2-4b64-b38b-9518358b7595", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:27:32.203173Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.203456Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.203544Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.214154Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c734230>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.214331Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x11bb4d880> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.233068Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11c734050>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.233213Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.233383Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.233427Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.233499Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.233532Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.621782Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:27:32 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.622664Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:27:32.623046Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.623536Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.623672Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:32.623726Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:27:33.089913Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/e2d91c96-f559-4456-9dca-a09454ea1a33", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:27:33.090496Z", "level": "INFO", "message": "Document updated in Firestore: segments/e2d91c96-f559-4456-9dca-a09454ea1a33", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T22:27:33.091042Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:27:33] \"GET /api/generation-status/a40903c8-48e2-4b64-b38b-9518358b7595 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:27:33.155961Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/38c77e29-9d0e-4be4-8785-347fd76687df", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:27:33.231726Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:27:33.231831Z", "level": "INFO", "message": "Retrieved story 38c77e29-9d0e-4be4-8785-347fd76687df with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:27:33.232082Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:27:33] \"GET /api/stories/38c77e29-9d0e-4be4-8785-347fd76687df HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:27:49.903184Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:27:52.022310Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:27:52.710496Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:27:52.710563Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:27:52.965239Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T22:27:53.009400Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:27:53.044453Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:28:03.527096Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:28:03.631681Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:28:04.127768Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:28:04.127840Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:28:04.372770Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T22:28:04.416740Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:28:04.431977Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:29:35.459989Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T22:29:35.920050Z", "level": "INFO", "message": "Queried 22 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.018524Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.184878Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.288757Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.446211Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.548864Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.716154Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.777752Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.848797Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.903322Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:36.958541Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.020246Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.076623Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.133976Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.195820Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.251830Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.321654Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.376995Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.450332Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.504253Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.565633Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.623074Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.715759Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.715936Z", "level": "INFO", "message": "Retrieved 22 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T22:29:37.716913Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:29:37] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:29:37.812679Z", "level": "INFO", "message": "Queried 22 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.877722Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:37.946405Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.013663Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.075138Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.131947Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.187078Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.241578Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.301670Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.362194Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.418289Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.496531Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.557758Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.616380Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.675002Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.732129Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.790968Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.851380Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.911352Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:38.964963Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:39.028700Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:39.085940Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:39.141755Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:29:39.141856Z", "level": "INFO", "message": "Retrieved 22 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T22:29:39.142125Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:29:39] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:29:50.428761Z", "level": "INFO", "message": " * Detected change in '/Users/bbassett/simple/backend/services/cloud_service.py', reloading", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:29:52.535668Z", "level": "INFO", "message": " * Restarting with stat", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:29:53.177724Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:29:53.177784Z", "level": "INFO", "message": "Logging configured successfully", "module": "logger", "function": "setup_logging", "line": 66}
{"timestamp": "2025-08-24T22:29:53.445945Z", "level": "INFO", "message": "CloudService initialized successfully", "module": "cloud_service", "function": "__init__", "line": 44}
{"timestamp": "2025-08-24T22:29:53.483393Z", "level": "WARNING", "message": " * Debugger is active!", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:29:53.497945Z", "level": "INFO", "message": " * Debugger PIN: 145-862-669", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:15.137709Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:15] \"OPTIONS /api/stories HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:15.149238Z", "level": "INFO", "message": "Creating new story: tes", "module": "story_service", "function": "create_story", "line": 25}
{"timestamp": "2025-08-24T22:32:15.622283Z", "level": "INFO", "message": "Document saved to Firestore: stories/29fc8d03-b904-49a6-8fd1-0ea05125cc63", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:32:15.622527Z", "level": "INFO", "message": "Story created with ID: 29fc8d03-b904-49a6-8fd1-0ea05125cc63", "module": "story_service", "function": "create_story", "line": 41}
{"timestamp": "2025-08-24T22:32:15.623002Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:15] \"\u001b[35m\u001b[1mPOST /api/stories HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:15.631031Z", "level": "INFO", "message": "Generating video for story 29fc8d03-b904-49a6-8fd1-0ea05125cc63 with prompt: a boy and his dog", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:32:15.631237Z", "level": "INFO", "message": "Generating video for story 29fc8d03-b904-49a6-8fd1-0ea05125cc63 with prompt: a boy and his dog", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:32:15.631399Z", "level": "INFO", "message": "Generating video segment d2753543-b624-4d24-a996-9c118cff5aae for story 29fc8d03-b904-49a6-8fd1-0ea05125cc63", "module": "video_service", "function": "generate_video_segment", "line": 39}
{"timestamp": "2025-08-24T22:32:15.714583Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/29fc8d03-b904-49a6-8fd1-0ea05125cc63", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:15.716038Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T22:32:15.909251Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:15.909706Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Story 29fc8d03-b904-49a6-8fd1-0ea05125cc63, Sequence #1", "module": "video_service", "function": "generate_video_segment", "line": 53}
{"timestamp": "2025-08-24T22:32:15.909921Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: use_previous_frame=False", "module": "video_service", "function": "generate_video_segment", "line": 54}
{"timestamp": "2025-08-24T22:32:15.910099Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Found 0 existing segments", "module": "video_service", "function": "generate_video_segment", "line": 55}
{"timestamp": "2025-08-24T22:32:15.911369Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:32:16.029832Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:16.041965Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191a1940>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:16.042144Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:16.060046Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x119116d50>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:16.060342Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:16.060657Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:16.060704Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:16.060810Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:16.060849Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.603980Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:32:17 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.605400Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:32:17.605818Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.606623Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.606850Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.606936Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.609435Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:32:17.609788Z", "level": "WARNING", "message": "Gemini returned empty enhancement; retrying once", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 389}
{"timestamp": "2025-08-24T22:32:17.609990Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:32:17.611514Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.611980Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.612085Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.612332Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:17.612427Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:18.921647Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:32:18 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:18.922262Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:32:18.922458Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:18.923040Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:18.923322Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:18.923447Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:18.924667Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:32:18.924945Z", "level": "INFO", "message": "\ud83c\udfac PROMPT: Final enhanced prompt: 'a boy and his dog'", "module": "video_service", "function": "generate_video_segment", "line": 121}
{"timestamp": "2025-08-24T22:32:19.009926Z", "level": "INFO", "message": "Document saved to Firestore: segments/d2753543-b624-4d24-a996-9c118cff5aae", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:32:19.010201Z", "level": "INFO", "message": "Starting video generation with model: veo-3.0-fast-generate-001", "module": "cloud_service", "function": "generate_videos", "line": 251}
{"timestamp": "2025-08-24T22:32:19.010782Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.010954Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.010986Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.011053Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.011081Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.399319Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:32:19 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.400808Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:predictLongRunning \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:32:19.401062Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.401569Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.401702Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.401792Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:19.402369Z", "level": "INFO", "message": "Video generation operation started: projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001/operations/c4617939-b73a-4a6f-a100-d8cc5554577b", "module": "cloud_service", "function": "generate_videos", "line": 260}
{"timestamp": "2025-08-24T22:32:19.475706Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/d2753543-b624-4d24-a996-9c118cff5aae", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:19.677505Z", "level": "INFO", "message": "Document saved to Firestore: operations/fb48a352-44af-4ba5-9a1b-5269c6120534", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:32:19.678289Z", "level": "INFO", "message": "Video generation started for segment d2753543-b624-4d24-a996-9c118cff5aae", "module": "video_service", "function": "_start_video_generation", "line": 204}
{"timestamp": "2025-08-24T22:32:19.679414Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:19] \"\u001b[35m\u001b[1mPOST /api/stories/29fc8d03-b904-49a6-8fd1-0ea05125cc63/generate HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:19.766969Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/29fc8d03-b904-49a6-8fd1-0ea05125cc63", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:19.825047Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:19.825359Z", "level": "INFO", "message": "Retrieved story 29fc8d03-b904-49a6-8fd1-0ea05125cc63 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:32:19.825769Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:19] \"GET /api/stories/29fc8d03-b904-49a6-8fd1-0ea05125cc63 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:19.879519Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/29fc8d03-b904-49a6-8fd1-0ea05125cc63", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:19.967041Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:19.967377Z", "level": "INFO", "message": "Retrieved story 29fc8d03-b904-49a6-8fd1-0ea05125cc63 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:32:19.968399Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:19] \"GET /api/stories/29fc8d03-b904-49a6-8fd1-0ea05125cc63 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:23.337390Z", "level": "INFO", "message": "Queried 23 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.408107Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.471326Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.530440Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.599020Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.662307Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.717872Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.779792Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.844591Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.907980Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:23.969156Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.026211Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.085482Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.143716Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.200819Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.257436Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.319357Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.382373Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.443353Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.507496Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.570964Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.636608Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.695169Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.753523Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.753795Z", "level": "INFO", "message": "Retrieved 23 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T22:32:24.754461Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:24] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:24.825082Z", "level": "INFO", "message": "Queried 23 documents from stories", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.890316Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:24.947920Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.009355Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.069728Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.126078Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.181668Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.276335Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.331376Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.389525Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.446985Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.509893Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.576922Z", "level": "INFO", "message": "Queried 3 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.635741Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.697108Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.751936Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.813300Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.873416Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.930509Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:25.987276Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:26.039716Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:26.105549Z", "level": "INFO", "message": "Queried 6 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:26.162583Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:26.217763Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:26.217866Z", "level": "INFO", "message": "Retrieved 23 stories for user anonymous", "module": "story_service", "function": "list_stories", "line": 102}
{"timestamp": "2025-08-24T22:32:26.218186Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:26] \"GET /api/stories?user_id=anonymous HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:34.744444Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/fb48a352-44af-4ba5-9a1b-5269c6120534", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:34.745827Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.746258Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.746447Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.758242Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x119117250>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.758538Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.777721Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191a8770>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.777894Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.778086Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.778128Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.778207Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:34.778247Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:35.218944Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:32:35 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:35.219959Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:32:35.220348Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:35.221604Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:35.221889Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:35.222051Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:35.346677Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/d2753543-b624-4d24-a996-9c118cff5aae", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:35.347041Z", "level": "INFO", "message": "Document updated in Firestore: segments/d2753543-b624-4d24-a996-9c118cff5aae", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T22:32:35.348333Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:35] \"GET /api/generation-status/fb48a352-44af-4ba5-9a1b-5269c6120534 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:39.746147Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:39] \"OPTIONS /api/stories HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:39.748105Z", "level": "INFO", "message": "Creating new story: test", "module": "story_service", "function": "create_story", "line": 25}
{"timestamp": "2025-08-24T22:32:39.808725Z", "level": "INFO", "message": "Document saved to Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:32:39.808860Z", "level": "INFO", "message": "Story created with ID: 22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "story_service", "function": "create_story", "line": 41}
{"timestamp": "2025-08-24T22:32:39.809136Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:39] \"\u001b[35m\u001b[1mPOST /api/stories HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:39.813732Z", "level": "INFO", "message": "Generating video for story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with prompt: a man and his dog", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:32:39.813785Z", "level": "INFO", "message": "Generating video for story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with prompt: a man and his dog", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:32:39.813848Z", "level": "INFO", "message": "Generating video segment 67c3be5f-b38a-4891-81aa-b50f229f3080 for story 22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "video_service", "function": "generate_video_segment", "line": 39}
{"timestamp": "2025-08-24T22:32:39.884297Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:39.939392Z", "level": "INFO", "message": "Queried 0 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:39.939752Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Story 22692213-d5eb-4ba9-a575-d5bd75e0f05d, Sequence #1", "module": "video_service", "function": "generate_video_segment", "line": 53}
{"timestamp": "2025-08-24T22:32:39.939853Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: use_previous_frame=False", "module": "video_service", "function": "generate_video_segment", "line": 54}
{"timestamp": "2025-08-24T22:32:39.939912Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Found 0 existing segments", "module": "video_service", "function": "generate_video_segment", "line": 55}
{"timestamp": "2025-08-24T22:32:39.940065Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:32:39.941608Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:39.942116Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:39.942380Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:39.942784Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:39.943035Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.291655Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:32:41 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.291860Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:32:41.291925Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.293439Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.293573Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.293657Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.294012Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:32:41.294077Z", "level": "WARNING", "message": "Gemini returned empty enhancement; retrying once", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 389}
{"timestamp": "2025-08-24T22:32:41.294128Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:32:41.294583Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.294835Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.294884Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.294960Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:41.294987Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.634825Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:32:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.635229Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:32:42.635364Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.635958Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.636033Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.636080Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.636625Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:32:42.636715Z", "level": "INFO", "message": "\ud83c\udfac PROMPT: Final enhanced prompt: 'a man and his dog'", "module": "video_service", "function": "generate_video_segment", "line": 121}
{"timestamp": "2025-08-24T22:32:42.696664Z", "level": "INFO", "message": "Document saved to Firestore: segments/67c3be5f-b38a-4891-81aa-b50f229f3080", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:32:42.696841Z", "level": "INFO", "message": "Starting video generation with model: veo-3.0-fast-generate-001", "module": "cloud_service", "function": "generate_videos", "line": 251}
{"timestamp": "2025-08-24T22:32:42.697411Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.697655Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.697701Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.697782Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.697819Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.870945Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:32:42 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.871275Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:predictLongRunning \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:32:42.871378Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.873342Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.873409Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.873447Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:42.873762Z", "level": "INFO", "message": "Video generation operation started: projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001/operations/d4dc6324-4455-44c4-beec-4ea16e8cc526", "module": "cloud_service", "function": "generate_videos", "line": 260}
{"timestamp": "2025-08-24T22:32:42.966008Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/67c3be5f-b38a-4891-81aa-b50f229f3080", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:43.036744Z", "level": "INFO", "message": "Document saved to Firestore: operations/18a4254f-36ce-4518-9da1-fb0cdc46d962", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:32:43.037041Z", "level": "INFO", "message": "Video generation started for segment 67c3be5f-b38a-4891-81aa-b50f229f3080", "module": "video_service", "function": "_start_video_generation", "line": 204}
{"timestamp": "2025-08-24T22:32:43.038061Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:43] \"\u001b[35m\u001b[1mPOST /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d/generate HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:43.121920Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:43.180159Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:43.180370Z", "level": "INFO", "message": "Retrieved story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:32:43.180957Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:43] \"GET /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:43.243612Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:43.306788Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:32:43.307062Z", "level": "INFO", "message": "Retrieved story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:32:43.307509Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:43] \"GET /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:32:58.109676Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/18a4254f-36ce-4518-9da1-fb0cdc46d962", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:32:58.111510Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.112430Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.112623Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.125207Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191a9810>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.125489Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.143563Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191d1010>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.143831Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.144343Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.144490Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.144654Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.144714Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.567312Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:32:58 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.567522Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:32:58.567588Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.567787Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.567823Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.567850Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:32:58.568221Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:32:58] \"GET /api/generation-status/18a4254f-36ce-4518-9da1-fb0cdc46d962 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:33:13.108439Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/18a4254f-36ce-4518-9da1-fb0cdc46d962", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:33:13.109704Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.110004Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.110148Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.121764Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x119196ad0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.121951Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.141435Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191979b0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.141628Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.141880Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.141940Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.142232Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.142332Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.274089Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:33:13 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.274580Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:33:13.274701Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.274935Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.274981Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.275017Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:13.275433Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:33:13] \"GET /api/generation-status/18a4254f-36ce-4518-9da1-fb0cdc46d962 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:33:28.120362Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/18a4254f-36ce-4518-9da1-fb0cdc46d962", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:33:28.121395Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.121940Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.122114Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.133213Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191cb650>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.133458Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.152326Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191cb750>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.152488Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.152677Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.152714Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.152884Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.153023Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.534398Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:33:28 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.534675Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:33:28.534770Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.536065Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.536128Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.536160Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:28.536627Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:33:28] \"GET /api/generation-status/18a4254f-36ce-4518-9da1-fb0cdc46d962 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:33:43.112605Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/18a4254f-36ce-4518-9da1-fb0cdc46d962", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:33:43.114285Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.114833Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.115087Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.129856Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191f8e60>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.130265Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.147875Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x1191f8f50>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.148104Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.148355Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.148410Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.148509Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.148695Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.310780Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:33:43 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.311074Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-fast-generate-001:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:33:43.311173Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.311471Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.311526Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.311574Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:33:43.725843Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/67c3be5f-b38a-4891-81aa-b50f229f3080", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:33:43.726120Z", "level": "INFO", "message": "Document updated in Firestore: segments/67c3be5f-b38a-4891-81aa-b50f229f3080", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T22:33:43.726582Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:33:43] \"GET /api/generation-status/18a4254f-36ce-4518-9da1-fb0cdc46d962 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:33:43.792169Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/29fc8d03-b904-49a6-8fd1-0ea05125cc63", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:33:43.869736Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:33:43.870018Z", "level": "INFO", "message": "Retrieved story 29fc8d03-b904-49a6-8fd1-0ea05125cc63 with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:33:43.870819Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:33:43] \"GET /api/stories/29fc8d03-b904-49a6-8fd1-0ea05125cc63 HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:33:48.259210Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:33:48] \"\u001b[33mGET /manifest.json HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:33:48.290449Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:33:48.363862Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:33:48.363979Z", "level": "INFO", "message": "Retrieved story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:33:48.364194Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:33:48] \"GET /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:33:48.420366Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:33:48.502018Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:33:48.502249Z", "level": "INFO", "message": "Retrieved story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with 1 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:33:48.502692Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:33:48] \"GET /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:33:51.507615Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:33:51] \"\u001b[33mGET /favicon.ico HTTP/1.1\u001b[0m\" 404 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:43:17.506885Z", "level": "INFO", "message": "Generating video for story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with prompt: the dog runs to chase a squirrel.", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:43:17.507284Z", "level": "INFO", "message": "Generating video for story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with prompt: the dog runs to chase a squirrel.", "module": "app", "function": "generate_video_segment", "line": 128}
{"timestamp": "2025-08-24T22:43:17.507455Z", "level": "INFO", "message": "Generating video segment 92446216-2161-486f-b48f-1af385d25eed for story 22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "video_service", "function": "generate_video_segment", "line": 39}
{"timestamp": "2025-08-24T22:43:17.831851Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:43:17.927410Z", "level": "INFO", "message": "Queried 1 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:43:17.927792Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Story 22692213-d5eb-4ba9-a575-d5bd75e0f05d, Sequence #2", "module": "video_service", "function": "generate_video_segment", "line": 53}
{"timestamp": "2025-08-24T22:43:17.927890Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: use_previous_frame=True", "module": "video_service", "function": "generate_video_segment", "line": 54}
{"timestamp": "2025-08-24T22:43:17.927960Z", "level": "INFO", "message": "\ud83c\udfac SEGMENT GENERATION: Found 1 existing segments", "module": "video_service", "function": "generate_video_segment", "line": 55}
{"timestamp": "2025-08-24T22:43:17.928049Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Found 1 previous segments", "module": "video_service", "function": "generate_video_segment", "line": 92}
{"timestamp": "2025-08-24T22:43:17.928087Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Using segment #1 as reference", "module": "video_service", "function": "generate_video_segment", "line": 93}
{"timestamp": "2025-08-24T22:43:17.928161Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Previous prompt was: 'a man and his dog'", "module": "video_service", "function": "generate_video_segment", "line": 94}
{"timestamp": "2025-08-24T22:43:17.928200Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Previous video URL: https://storage.googleapis.com/video-story-platform-storage/videos/67c3be5f-b38a-4891-81aa-b50f229f3080/17333665392308056821/sample_0.mp4", "module": "video_service", "function": "generate_video_segment", "line": 95}
{"timestamp": "2025-08-24T22:43:17.928248Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: Attempting frame extraction from previous video...", "module": "video_service", "function": "generate_video_segment", "line": 98}
{"timestamp": "2025-08-24T22:43:17.928542Z", "level": "INFO", "message": "\ud83c\udfac FRAME EXTRACTION: Attempting to extract last frame from: https://storage.googleapis.com/video-story-platform-storage/videos/67c3be5f-b38a-4891-81aa-b50f229f3080/17333665392308056821/sample_0.mp4", "module": "video_service", "function": "_extract_last_frame_as_image", "line": 335}
{"timestamp": "2025-08-24T22:43:18.393515Z", "level": "INFO", "message": "\ud83c\udfac FRAME EXTRACTION: Downloading video from: https://storage.googleapis.com/video-story-platform-storage/videos/67c3be5f-b38a-4891-81aa-b50f229f3080/17333665392308056821/sample_0.mp4", "module": "video_service", "function": "_extract_last_frame_as_image", "line": 356}
{"timestamp": "2025-08-24T22:43:19.525208Z", "level": "INFO", "message": "\ud83c\udfac FRAME EXTRACTION: \u2705 Successfully extracted last frame as image", "module": "video_service", "function": "_extract_last_frame_as_image", "line": 393}
{"timestamp": "2025-08-24T22:43:19.526937Z", "level": "INFO", "message": "\ud83c\udfac CONTINUITY: \u2705 Frame extraction successful - using image + contextualized prompt", "module": "video_service", "function": "generate_video_segment", "line": 103}
{"timestamp": "2025-08-24T22:43:19.527079Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:43:19.527802Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.527932Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.527970Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.560592Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a423070>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.560699Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.580076Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a423230>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.580186Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.580347Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.580380Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.580438Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:19.580468Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.900839Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:43:20 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.901223Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:43:20.901357Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.901581Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.901647Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.901690Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.902303Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:43:20.902358Z", "level": "WARNING", "message": "Gemini returned empty enhancement; retrying once", "module": "cloud_service", "function": "generate_enhanced_prompt", "line": 389}
{"timestamp": "2025-08-24T22:43:20.902404Z", "level": "INFO", "message": "AFC is enabled with max remote calls: 10.", "module": "models", "function": "generate_content", "line": 6418}
{"timestamp": "2025-08-24T22:43:20.903008Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.903214Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.903253Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.903320Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:20.903347Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.215608Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:43:22 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.217871Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/gemini-2.5-flash:generateContent \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:43:22.218177Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.218556Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.218679Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.218733Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.219272Z", "level": "INFO", "message": "AFC remote call 1 is done.", "module": "models", "function": "generate_content", "line": 6429}
{"timestamp": "2025-08-24T22:43:22.219367Z", "level": "INFO", "message": "\ud83c\udfac PROMPT: Final enhanced prompt: 'This scene continues from the previous scene. Previous prompt: a man and his dog. the dog runs to chase a squirrel.'", "module": "video_service", "function": "generate_video_segment", "line": 121}
{"timestamp": "2025-08-24T22:43:22.340419Z", "level": "INFO", "message": "Document saved to Firestore: segments/92446216-2161-486f-b48f-1af385d25eed", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:43:22.340803Z", "level": "INFO", "message": "Starting video generation with model: veo-3.0-generate-preview", "module": "cloud_service", "function": "generate_videos", "line": 251}
{"timestamp": "2025-08-24T22:43:22.352578Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.353030Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.353104Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.706111Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:22.706343Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:23.201843Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:43:23 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:23.202721Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:predictLongRunning \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:43:23.202973Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:23.203568Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:23.203631Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:23.203672Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:23.204390Z", "level": "INFO", "message": "Video generation operation started: projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview/operations/84ed51d4-b8a7-4b82-950f-ff19a3dca974", "module": "cloud_service", "function": "generate_videos", "line": 260}
{"timestamp": "2025-08-24T22:43:23.274920Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/92446216-2161-486f-b48f-1af385d25eed", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:43:23.480832Z", "level": "INFO", "message": "Document saved to Firestore: operations/eae29ac6-b7b2-4d07-b533-3bd18895e41b", "module": "cloud_service", "function": "save_document", "line": 174}
{"timestamp": "2025-08-24T22:43:23.481181Z", "level": "INFO", "message": "Video generation started for segment 92446216-2161-486f-b48f-1af385d25eed", "module": "video_service", "function": "_start_video_generation", "line": 204}
{"timestamp": "2025-08-24T22:43:23.486036Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:43:23] \"\u001b[35m\u001b[1mPOST /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d/generate HTTP/1.1\u001b[0m\" 201 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:43:23.576825Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:43:23.577111Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T22:43:23.760968Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:43:23.761078Z", "level": "INFO", "message": "Retrieved story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:43:23.761339Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:43:23] \"GET /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:43:38.572583Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/eae29ac6-b7b2-4d07-b533-3bd18895e41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:43:38.574221Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.574633Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.575075Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.585754Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x156efe820>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.585935Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.606135Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a3ed3d0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.606424Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.607238Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.607385Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.607548Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.607693Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.965620Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:43:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.966460Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:43:38.966830Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.967732Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.967991Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.968125Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:38.969201Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:43:38] \"GET /api/generation-status/eae29ac6-b7b2-4d07-b533-3bd18895e41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:43:53.564274Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/eae29ac6-b7b2-4d07-b533-3bd18895e41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:43:53.564851Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.565127Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.565199Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.575291Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a3efad0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.575476Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.593452Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x156f0be30>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.593725Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.594043Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.594116Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.594278Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.594338Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.927814Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:43:53 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.928038Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:43:53.928107Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.928327Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.928375Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.928406Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:43:53.928785Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:43:53] \"GET /api/generation-status/eae29ac6-b7b2-4d07-b533-3bd18895e41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:44:08.546548Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/eae29ac6-b7b2-4d07-b533-3bd18895e41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:44:08.547165Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.547402Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.547481Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.559302Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x156faa2b0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.559436Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.577438Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x156f02170>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.577563Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.577705Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.577737Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.577803Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.577833Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.906465Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:44:08 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.906782Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:44:08.906882Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.907080Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.907137Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.907213Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:08.907749Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:44:08] \"GET /api/generation-status/eae29ac6-b7b2-4d07-b533-3bd18895e41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:44:23.579668Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/eae29ac6-b7b2-4d07-b533-3bd18895e41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:44:23.580520Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.580860Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.580975Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.590554Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a4ee3f0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.590806Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.608445Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x11a4e9880>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.608659Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.608952Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.609025Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.609153Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.609210Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.982046Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:44:24 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.982502Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:44:23.982733Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.983083Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.983176Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.983282Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:23.984233Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:44:23] \"GET /api/generation-status/eae29ac6-b7b2-4d07-b533-3bd18895e41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:44:38.570407Z", "level": "INFO", "message": "Document retrieved from Firestore: operations/eae29ac6-b7b2-4d07-b533-3bd18895e41b", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:44:38.572670Z", "level": "DEBUG", "message": "close.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.573036Z", "level": "DEBUG", "message": "close.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.573145Z", "level": "DEBUG", "message": "connect_tcp.started host='us-central1-aiplatform.googleapis.com' port=443 local_address=None timeout=None socket_options=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.585529Z", "level": "DEBUG", "message": "connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x156f70ad0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.585754Z", "level": "DEBUG", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x118a497f0> server_hostname='us-central1-aiplatform.googleapis.com' timeout=None", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.604511Z", "level": "DEBUG", "message": "start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x156f70ed0>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.604789Z", "level": "DEBUG", "message": "send_request_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.605088Z", "level": "DEBUG", "message": "send_request_headers.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.605142Z", "level": "DEBUG", "message": "send_request_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.605240Z", "level": "DEBUG", "message": "send_request_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.605275Z", "level": "DEBUG", "message": "receive_response_headers.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.943025Z", "level": "DEBUG", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Type', b'application/json; charset=UTF-8'), (b'Vary', b'Origin'), (b'Vary', b'X-Origin'), (b'Vary', b'Referer'), (b'Content-Encoding', b'gzip'), (b'Date', b'Sun, 24 Aug 2025 22:44:38 GMT'), (b'Server', b'scaffolding on HTTPServer2'), (b'X-XSS-Protection', b'0'), (b'X-Frame-Options', b'SAMEORIGIN'), (b'X-Content-Type-Options', b'nosniff'), (b'Alt-Svc', b'h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000'), (b'Transfer-Encoding', b'chunked')])", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.943357Z", "level": "INFO", "message": "HTTP Request: POST https://us-central1-aiplatform.googleapis.com/v1beta1/projects/tubi-gemini-sandbox/locations/us-central1/publishers/google/models/veo-3.0-generate-preview:fetchPredictOperation \"HTTP/1.1 200 OK\"", "module": "_client", "function": "_send_single_request", "line": 1025}
{"timestamp": "2025-08-24T22:44:38.943467Z", "level": "DEBUG", "message": "receive_response_body.started request=<Request [b'POST']>", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.943773Z", "level": "DEBUG", "message": "receive_response_body.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.943840Z", "level": "DEBUG", "message": "response_closed.started", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:38.943884Z", "level": "DEBUG", "message": "response_closed.complete", "module": "_trace", "function": "trace", "line": 47}
{"timestamp": "2025-08-24T22:44:39.470965Z", "level": "INFO", "message": "Document retrieved from Firestore: segments/92446216-2161-486f-b48f-1af385d25eed", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:44:39.471399Z", "level": "INFO", "message": "Document updated in Firestore: segments/92446216-2161-486f-b48f-1af385d25eed", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T22:44:39.472272Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:44:39] \"GET /api/generation-status/eae29ac6-b7b2-4d07-b533-3bd18895e41b HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:44:39.551653Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:44:39.623514Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:44:39.623608Z", "level": "INFO", "message": "Retrieved story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:44:39.623859Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:44:39] \"GET /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:45:07.785313Z", "level": "INFO", "message": "Stitching story 22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "app", "function": "stitch_story", "line": 148}
{"timestamp": "2025-08-24T22:45:07.785527Z", "level": "INFO", "message": "Stitching story 22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "app", "function": "stitch_story", "line": 148}
{"timestamp": "2025-08-24T22:45:07.785634Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Starting stitching for story 22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "video_service", "function": "stitch_story_videos", "line": 415}
{"timestamp": "2025-08-24T22:45:08.541899Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/venv/lib/python3.13/site-packages/google/cloud/firestore_v1/base_collection.py:304: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  return query.where(field_path, op_string, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T22:45:08.542642Z", "level": "WARNING", "message": "/Users/bbassett/simple/backend/services/cloud_service.py:232: UserWarning: Detected filter using positional arguments. Prefer using the 'filter' keyword argument instead.\n  query = query.where(field, operator, value)\n", "module": "warnings", "function": "_showwarnmsg", "line": 110}
{"timestamp": "2025-08-24T22:45:08.622018Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:45:08.622111Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Found 2 completed segments", "module": "video_service", "function": "stitch_story_videos", "line": 435}
{"timestamp": "2025-08-24T22:45:08.622344Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Downloading segment #1 from https://storage.googleapis.com/video-story-platform-storage/videos/67c3be5f-b38a-4891-81aa-b50f229f3080/17333665392308056821/sample_0.mp4", "module": "video_service", "function": "stitch_story_videos", "line": 456}
{"timestamp": "2025-08-24T22:45:09.135375Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Downloading segment #2 from https://storage.googleapis.com/video-story-platform-storage/videos/92446216-2161-486f-b48f-1af385d25eed/2238793936711646200/sample_0.mp4", "module": "video_service", "function": "stitch_story_videos", "line": 456}
{"timestamp": "2025-08-24T22:45:09.735195Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Loading clips into MoviePy", "module": "video_service", "function": "stitch_story_videos", "line": 473}
{"timestamp": "2025-08-24T22:45:10.901570Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Concatenating clips (compose mode)", "module": "video_service", "function": "stitch_story_videos", "line": 484}
{"timestamp": "2025-08-24T22:45:10.910209Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Writing final video to /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_j2bylwsm/stitched_final.mp4", "module": "video_service", "function": "stitch_story_videos", "line": 494}
MoviePy - Building video /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_j2bylwsm/stitched_final.mp4.
MoviePy - Writing audio in /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_j2bylwsm/temp-audio.m4a
chunk:   0%|          | 0/353 [00:00<?, ?it/s, now=None]chunk:  64%|██████▍   | 227/353 [00:00<00:00, 2251.82it/s, now=None]                                                                    MoviePy - Done.
MoviePy - Writing video /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_j2bylwsm/stitched_final.mp4

frame_index:   0%|          | 0/384 [00:00<?, ?it/s, now=None]frame_index:   2%|▏         | 7/384 [00:00<00:06, 58.63it/s, now=None]frame_index:   3%|▎         | 13/384 [00:00<00:06, 54.03it/s, now=None]frame_index:   5%|▍         | 19/384 [00:00<00:07, 49.29it/s, now=None]frame_index:   6%|▋         | 24/384 [00:00<00:07, 48.02it/s, now=None]frame_index:   8%|▊         | 30/384 [00:00<00:07, 49.97it/s, now=None]frame_index:   9%|▉         | 36/384 [00:00<00:07, 49.46it/s, now=None]frame_index:  11%|█         | 42/384 [00:00<00:06, 49.75it/s, now=None]frame_index:  12%|█▏        | 47/384 [00:00<00:06, 49.10it/s, now=None]frame_index:  14%|█▎        | 52/384 [00:01<00:07, 47.07it/s, now=None]frame_index:  15%|█▍        | 57/384 [00:01<00:07, 46.57it/s, now=None]frame_index:  16%|█▌        | 62/384 [00:01<00:06, 46.42it/s, now=None]frame_index:  17%|█▋        | 67/384 [00:01<00:06, 47.11it/s, now=None]frame_index:  19%|█▉        | 72/384 [00:01<00:06, 46.99it/s, now=None]frame_index:  20%|██        | 77/384 [00:01<00:06, 46.47it/s, now=None]frame_index:  21%|██▏       | 82/384 [00:01<00:06, 47.15it/s, now=None]frame_index:  23%|██▎       | 87/384 [00:01<00:06, 47.09it/s, now=None]frame_index:  24%|██▍       | 92/384 [00:01<00:06, 41.90it/s, now=None]frame_index:  25%|██▌       | 97/384 [00:02<00:06, 41.74it/s, now=None]frame_index:  27%|██▋       | 102/384 [00:02<00:06, 43.57it/s, now=None]frame_index:  28%|██▊       | 107/384 [00:02<00:06, 44.68it/s, now=None]frame_index:  29%|██▉       | 112/384 [00:02<00:06, 44.68it/s, now=None]frame_index:  30%|███       | 117/384 [00:02<00:05, 45.88it/s, now=None]frame_index:  32%|███▏      | 122/384 [00:02<00:05, 46.61it/s, now=None]frame_index:  33%|███▎      | 127/384 [00:02<00:05, 46.24it/s, now=None]frame_index:  34%|███▍      | 132/384 [00:02<00:05, 44.82it/s, now=None]frame_index:  36%|███▌      | 137/384 [00:02<00:05, 43.46it/s, now=None]frame_index:  37%|███▋      | 142/384 [00:03<00:05, 44.64it/s, now=None]frame_index:  38%|███▊      | 147/384 [00:03<00:05, 45.75it/s, now=None]frame_index:  40%|███▉      | 152/384 [00:03<00:05, 45.91it/s, now=None]frame_index:  41%|████      | 157/384 [00:03<00:04, 46.54it/s, now=None]frame_index:  42%|████▏     | 162/384 [00:03<00:04, 47.46it/s, now=None]frame_index:  43%|████▎     | 167/384 [00:03<00:04, 47.49it/s, now=None]frame_index:  45%|████▍     | 172/384 [00:03<00:04, 47.44it/s, now=None]frame_index:  46%|████▌     | 177/384 [00:03<00:04, 47.37it/s, now=None]frame_index:  47%|████▋     | 182/384 [00:03<00:04, 47.88it/s, now=None]frame_index:  49%|████▊     | 187/384 [00:04<00:04, 47.57it/s, now=None]frame_index:  50%|█████     | 192/384 [00:04<00:04, 47.00it/s, now=None]frame_index:  51%|█████▏    | 197/384 [00:04<00:04, 45.89it/s, now=None]frame_index:  53%|█████▎    | 202/384 [00:04<00:03, 46.83it/s, now=None]frame_index:  54%|█████▍    | 207/384 [00:04<00:03, 47.65it/s, now=None]frame_index:  55%|█████▌    | 212/384 [00:04<00:03, 48.02it/s, now=None]frame_index:  57%|█████▋    | 217/384 [00:04<00:03, 47.23it/s, now=None]frame_index:  58%|█████▊    | 222/384 [00:04<00:03, 47.42it/s, now=None]frame_index:  59%|█████▉    | 227/384 [00:04<00:03, 47.57it/s, now=None]frame_index:  60%|██████    | 232/384 [00:04<00:03, 47.62it/s, now=None]frame_index:  62%|██████▏   | 237/384 [00:05<00:03, 48.20it/s, now=None]frame_index:  63%|██████▎   | 242/384 [00:05<00:02, 48.32it/s, now=None]frame_index:  64%|██████▍   | 247/384 [00:05<00:02, 48.13it/s, now=None]frame_index:  66%|██████▌   | 253/384 [00:05<00:02, 48.66it/s, now=None]frame_index:  67%|██████▋   | 258/384 [00:05<00:02, 48.70it/s, now=None]frame_index:  68%|██████▊   | 263/384 [00:05<00:02, 48.65it/s, now=None]frame_index:  70%|██████▉   | 268/384 [00:05<00:02, 47.86it/s, now=None]frame_index:  71%|███████   | 273/384 [00:05<00:02, 47.64it/s, now=None]frame_index:  72%|███████▏  | 278/384 [00:05<00:02, 47.13it/s, now=None]frame_index:  74%|███████▎  | 283/384 [00:06<00:02, 47.78it/s, now=None]frame_index:  75%|███████▌  | 288/384 [00:06<00:02, 47.43it/s, now=None]frame_index:  76%|███████▋  | 293/384 [00:06<00:01, 47.21it/s, now=None]frame_index:  78%|███████▊  | 298/384 [00:06<00:01, 46.43it/s, now=None]frame_index:  79%|███████▉  | 303/384 [00:06<00:01, 45.97it/s, now=None]frame_index:  80%|████████  | 308/384 [00:06<00:01, 46.38it/s, now=None]frame_index:  82%|████████▏ | 313/384 [00:06<00:01, 46.57it/s, now=None]frame_index:  83%|████████▎ | 318/384 [00:06<00:01, 45.10it/s, now=None]frame_index:  84%|████████▍ | 323/384 [00:06<00:01, 46.06it/s, now=None]frame_index:  85%|████████▌ | 328/384 [00:06<00:01, 46.11it/s, now=None]frame_index:  87%|████████▋ | 333/384 [00:07<00:01, 46.30it/s, now=None]frame_index:  88%|████████▊ | 338/384 [00:07<00:00, 46.62it/s, now=None]frame_index:  89%|████████▉ | 343/384 [00:07<00:00, 46.83it/s, now=None]frame_index:  91%|█████████ | 348/384 [00:07<00:00, 46.98it/s, now=None]frame_index:  92%|█████████▏| 353/384 [00:07<00:00, 47.06it/s, now=None]frame_index:  93%|█████████▎| 358/384 [00:07<00:00, 47.80it/s, now=None]frame_index:  95%|█████████▍| 363/384 [00:07<00:00, 46.91it/s, now=None]frame_index:  96%|█████████▌| 368/384 [00:07<00:00, 44.48it/s, now=None]frame_index:  97%|█████████▋| 373/384 [00:07<00:00, 43.69it/s, now=None]frame_index:  98%|█████████▊| 378/384 [00:08<00:00, 43.40it/s, now=None]frame_index: 100%|█████████▉| 383/384 [00:08<00:00, 44.58it/s, now=None]                                                                        MoviePy - Done !
MoviePy - video ready /var/folders/rq/jg9jypm53f7g_zg4kv96vvj80000gp/T/stitch_j2bylwsm/stitched_final.mp4
{"timestamp": "2025-08-24T22:45:21.009198Z", "level": "INFO", "message": "File uploaded to GCS: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d/final/stitched_20250824T224520.mp4", "module": "cloud_service", "function": "upload_file_to_gcs", "line": 114}
{"timestamp": "2025-08-24T22:45:21.009420Z", "level": "INFO", "message": "\ud83c\udfac STITCH: Uploaded final video to https://storage.googleapis.com/video-story-platform-storage/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d/final/stitched_20250824T224520.mp4", "module": "video_service", "function": "stitch_story_videos", "line": 514}
{"timestamp": "2025-08-24T22:45:21.156542Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:45:21.156767Z", "level": "INFO", "message": "Document updated in Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "update_document", "line": 217}
{"timestamp": "2025-08-24T22:45:21.172840Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:45:21] \"POST /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d/stitch HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
{"timestamp": "2025-08-24T22:45:21.233793Z", "level": "INFO", "message": "Document retrieved from Firestore: stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d", "module": "cloud_service", "function": "get_document", "line": 200}
{"timestamp": "2025-08-24T22:45:21.301003Z", "level": "INFO", "message": "Queried 2 documents from segments", "module": "cloud_service", "function": "query_documents", "line": 241}
{"timestamp": "2025-08-24T22:45:21.301359Z", "level": "INFO", "message": "Retrieved story 22692213-d5eb-4ba9-a575-d5bd75e0f05d with 2 segments", "module": "story_service", "function": "get_story", "line": 69}
{"timestamp": "2025-08-24T22:45:21.302032Z", "level": "INFO", "message": "127.0.0.1 - - [24/Aug/2025 15:45:21] \"GET /api/stories/22692213-d5eb-4ba9-a575-d5bd75e0f05d HTTP/1.1\" 200 -", "module": "_internal", "function": "_log", "line": 97}
