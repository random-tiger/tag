{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Play,Pause,Volume2,VolumeX,Maximize2,Download,Share2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VideoPlayer=_ref=>{let{src,poster,className='',showControls=true,autoPlay=false,muted=false,onLoadStart,onLoadedData,onError}=_ref;const videoRef=useRef(null);const[isPlaying,setIsPlaying]=useState(false);const[isMuted,setIsMuted]=useState(muted);const[currentTime,setCurrentTime]=useState(0);const[duration,setDuration]=useState(0);const[isControlsVisible,setIsControlsVisible]=useState(true);const[isLoading,setIsLoading]=useState(true);const[hasError,setHasError]=useState(false);const controlsTimeoutRef=useRef(null);useEffect(()=>{const video=videoRef.current;if(!video)return;const handleLoadStart=()=>{setIsLoading(true);onLoadStart===null||onLoadStart===void 0?void 0:onLoadStart();};const handleLoadedData=()=>{setIsLoading(false);setDuration(video.duration);onLoadedData===null||onLoadedData===void 0?void 0:onLoadedData();};const handleTimeUpdate=()=>{setCurrentTime(video.currentTime);};const handlePlay=()=>setIsPlaying(true);const handlePause=()=>setIsPlaying(false);const handleError=()=>{setIsLoading(false);setHasError(true);onError===null||onError===void 0?void 0:onError();};video.addEventListener('loadstart',handleLoadStart);video.addEventListener('loadeddata',handleLoadedData);video.addEventListener('timeupdate',handleTimeUpdate);video.addEventListener('play',handlePlay);video.addEventListener('pause',handlePause);video.addEventListener('error',handleError);return()=>{video.removeEventListener('loadstart',handleLoadStart);video.removeEventListener('loadeddata',handleLoadedData);video.removeEventListener('timeupdate',handleTimeUpdate);video.removeEventListener('play',handlePlay);video.removeEventListener('pause',handlePause);video.removeEventListener('error',handleError);};},[onLoadStart,onLoadedData,onError]);const togglePlay=()=>{const video=videoRef.current;if(!video)return;if(isPlaying){video.pause();}else{video.play();}};const toggleMute=()=>{const video=videoRef.current;if(!video)return;video.muted=!isMuted;setIsMuted(!isMuted);};const handleProgressClick=e=>{const video=videoRef.current;if(!video||!duration)return;const rect=e.currentTarget.getBoundingClientRect();const clickX=e.clientX-rect.left;const newTime=clickX/rect.width*duration;video.currentTime=newTime;setCurrentTime(newTime);};const handleFullscreen=()=>{const video=videoRef.current;if(!video)return;if(video.requestFullscreen){video.requestFullscreen();}else if(video.webkitRequestFullscreen){video.webkitRequestFullscreen();}};const handleDownload=async()=>{if(!src)return;try{const response=await fetch(src);const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"video-segment-\".concat(Date.now(),\".mp4\");document.body.appendChild(a);a.click();document.body.removeChild(a);window.URL.revokeObjectURL(url);}catch(error){console.error('Download failed:',error);}};const handleShare=async()=>{if(!src)return;if(navigator.share){try{await navigator.share({title:'Video Story Segment',url:src});}catch(error){// User cancelled sharing\n}}else{// Fallback - copy to clipboard\nnavigator.clipboard.writeText(src);}};const showControlsTemporarily=()=>{setIsControlsVisible(true);if(controlsTimeoutRef.current){clearTimeout(controlsTimeoutRef.current);}controlsTimeoutRef.current=setTimeout(()=>{if(isPlaying){setIsControlsVisible(false);}},3000);};const formatTime=time=>{const minutes=Math.floor(time/60);const seconds=Math.floor(time%60);return\"\".concat(minutes,\":\").concat(seconds.toString().padStart(2,'0'));};const progressPercentage=duration>0?currentTime/duration*100:0;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative group rounded-xl overflow-hidden bg-black \".concat(className),onMouseMove:showControlsTemporarily,onMouseEnter:()=>setIsControlsVisible(true),onMouseLeave:()=>!isPlaying&&setIsControlsVisible(true),children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,src:src,poster:poster,autoPlay:autoPlay,muted:isMuted,className:\"w-full h-full object-cover\",onClick:togglePlay}),/*#__PURE__*/_jsx(AnimatePresence,{children:isLoading&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"absolute inset-0 flex items-center justify-center bg-black/50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cosmic-spinner\"})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:hasError&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"absolute inset-0 flex items-center justify-center bg-black/80\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-cosmic-error text-4xl mb-2\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-medium\",children:\"Failed to load video\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-sm mt-1\",children:\"Please try again later\"})]})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:!isPlaying&&!isLoading&&!hasError&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.5},className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.1},whileTap:{scale:0.9},onClick:togglePlay,className:\"w-16 h-16 rounded-full bg-cosmic-accent/90 backdrop-blur-sm flex items-center justify-center text-black hover:bg-cosmic-accent transition-colors\",children:/*#__PURE__*/_jsx(Play,{className:\"w-6 h-6 ml-1\"})})})}),showControls&&/*#__PURE__*/_jsx(AnimatePresence,{children:isControlsVisible&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cosmic-progress mb-4 cursor-pointer\",onClick:handleProgressClick,children:/*#__PURE__*/_jsx(motion.div,{className:\"cosmic-progress-bar\",initial:{width:0},animate:{width:\"\".concat(progressPercentage,\"%\")},transition:{duration:0.1}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:togglePlay,className:\"text-white hover:text-cosmic-accent transition-colors\",children:isPlaying?/*#__PURE__*/_jsx(Pause,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Play,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleMute,className:\"text-white hover:text-cosmic-accent transition-colors\",children:isMuted?/*#__PURE__*/_jsx(VolumeX,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Volume2,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white/80 text-sm font-mono\",children:[formatTime(currentTime),\" / \",formatTime(duration)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleShare,className:\"text-white hover:text-cosmic-accent transition-colors\",title:\"Share\",children:/*#__PURE__*/_jsx(Share2,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDownload,className:\"text-white hover:text-cosmic-accent transition-colors\",title:\"Download\",children:/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFullscreen,className:\"text-white hover:text-cosmic-accent transition-colors\",title:\"Fullscreen\",children:/*#__PURE__*/_jsx(Maximize2,{className:\"w-4 h-4\"})})]})]})]})})]});};export default VideoPlayer;","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","AnimatePresence","Play","Pause","Volume2","VolumeX","Maximize2","Download","Share2","jsx","_jsx","jsxs","_jsxs","VideoPlayer","_ref","src","poster","className","showControls","autoPlay","muted","onLoadStart","onLoadedData","onError","videoRef","isPlaying","setIsPlaying","isMuted","setIsMuted","currentTime","setCurrentTime","duration","setDuration","isControlsVisible","setIsControlsVisible","isLoading","setIsLoading","hasError","setHasError","controlsTimeoutRef","video","current","handleLoadStart","handleLoadedData","handleTimeUpdate","handlePlay","handlePause","handleError","addEventListener","removeEventListener","togglePlay","pause","play","toggleMute","handleProgressClick","e","rect","currentTarget","getBoundingClientRect","clickX","clientX","left","newTime","width","handleFullscreen","requestFullscreen","webkitRequestFullscreen","handleDownload","response","fetch","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","concat","Date","now","body","appendChild","click","removeChild","revokeObjectURL","error","console","handleShare","navigator","share","title","clipboard","writeText","showControlsTemporarily","clearTimeout","setTimeout","formatTime","time","minutes","Math","floor","seconds","toString","padStart","progressPercentage","onMouseMove","onMouseEnter","onMouseLeave","children","ref","onClick","div","initial","opacity","animate","exit","scale","button","whileHover","whileTap","y","transition"],"sources":["/Users/bbassett/simple/frontend/src/components/VideoPlayer.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Play, Pause, Volume2, VolumeX, Maximize2, Download, Share2 } from 'lucide-react';\n\nconst VideoPlayer = ({ \n  src, \n  poster, \n  className = '',\n  showControls = true,\n  autoPlay = false,\n  muted = false,\n  onLoadStart,\n  onLoadedData,\n  onError \n}) => {\n  const videoRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isMuted, setIsMuted] = useState(muted);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [isControlsVisible, setIsControlsVisible] = useState(true);\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  \n  const controlsTimeoutRef = useRef(null);\n  \n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n    \n    const handleLoadStart = () => {\n      setIsLoading(true);\n      onLoadStart?.();\n    };\n    \n    const handleLoadedData = () => {\n      setIsLoading(false);\n      setDuration(video.duration);\n      onLoadedData?.();\n    };\n    \n    const handleTimeUpdate = () => {\n      setCurrentTime(video.currentTime);\n    };\n    \n    const handlePlay = () => setIsPlaying(true);\n    const handlePause = () => setIsPlaying(false);\n    \n    const handleError = () => {\n      setIsLoading(false);\n      setHasError(true);\n      onError?.();\n    };\n    \n    video.addEventListener('loadstart', handleLoadStart);\n    video.addEventListener('loadeddata', handleLoadedData);\n    video.addEventListener('timeupdate', handleTimeUpdate);\n    video.addEventListener('play', handlePlay);\n    video.addEventListener('pause', handlePause);\n    video.addEventListener('error', handleError);\n    \n    return () => {\n      video.removeEventListener('loadstart', handleLoadStart);\n      video.removeEventListener('loadeddata', handleLoadedData);\n      video.removeEventListener('timeupdate', handleTimeUpdate);\n      video.removeEventListener('play', handlePlay);\n      video.removeEventListener('pause', handlePause);\n      video.removeEventListener('error', handleError);\n    };\n  }, [onLoadStart, onLoadedData, onError]);\n  \n  const togglePlay = () => {\n    const video = videoRef.current;\n    if (!video) return;\n    \n    if (isPlaying) {\n      video.pause();\n    } else {\n      video.play();\n    }\n  };\n  \n  const toggleMute = () => {\n    const video = videoRef.current;\n    if (!video) return;\n    \n    video.muted = !isMuted;\n    setIsMuted(!isMuted);\n  };\n  \n  const handleProgressClick = (e) => {\n    const video = videoRef.current;\n    if (!video || !duration) return;\n    \n    const rect = e.currentTarget.getBoundingClientRect();\n    const clickX = e.clientX - rect.left;\n    const newTime = (clickX / rect.width) * duration;\n    \n    video.currentTime = newTime;\n    setCurrentTime(newTime);\n  };\n  \n  const handleFullscreen = () => {\n    const video = videoRef.current;\n    if (!video) return;\n    \n    if (video.requestFullscreen) {\n      video.requestFullscreen();\n    } else if (video.webkitRequestFullscreen) {\n      video.webkitRequestFullscreen();\n    }\n  };\n  \n  const handleDownload = async () => {\n    if (!src) return;\n    \n    try {\n      const response = await fetch(src);\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      \n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `video-segment-${Date.now()}.mp4`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      \n      window.URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error('Download failed:', error);\n    }\n  };\n  \n  const handleShare = async () => {\n    if (!src) return;\n    \n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: 'Video Story Segment',\n          url: src\n        });\n      } catch (error) {\n        // User cancelled sharing\n      }\n    } else {\n      // Fallback - copy to clipboard\n      navigator.clipboard.writeText(src);\n    }\n  };\n  \n  const showControlsTemporarily = () => {\n    setIsControlsVisible(true);\n    \n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    \n    controlsTimeoutRef.current = setTimeout(() => {\n      if (isPlaying) {\n        setIsControlsVisible(false);\n      }\n    }, 3000);\n  };\n  \n  const formatTime = (time) => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n  \n  const progressPercentage = duration > 0 ? (currentTime / duration) * 100 : 0;\n  \n  return (\n    <div \n      className={`relative group rounded-xl overflow-hidden bg-black ${className}`}\n      onMouseMove={showControlsTemporarily}\n      onMouseEnter={() => setIsControlsVisible(true)}\n      onMouseLeave={() => !isPlaying && setIsControlsVisible(true)}\n    >\n      <video\n        ref={videoRef}\n        src={src}\n        poster={poster}\n        autoPlay={autoPlay}\n        muted={isMuted}\n        className=\"w-full h-full object-cover\"\n        onClick={togglePlay}\n      />\n      \n      {/* Loading overlay */}\n      <AnimatePresence>\n        {isLoading && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"absolute inset-0 flex items-center justify-center bg-black/50\"\n          >\n            <div className=\"cosmic-spinner\" />\n          </motion.div>\n        )}\n      </AnimatePresence>\n      \n      {/* Error overlay */}\n      <AnimatePresence>\n        {hasError && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"absolute inset-0 flex items-center justify-center bg-black/80\"\n          >\n            <div className=\"text-center p-6\">\n              <div className=\"text-cosmic-error text-4xl mb-2\">⚠️</div>\n              <p className=\"text-white font-medium\">Failed to load video</p>\n              <p className=\"text-white/60 text-sm mt-1\">Please try again later</p>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n      \n      {/* Play/Pause overlay */}\n      <AnimatePresence>\n        {!isPlaying && !isLoading && !hasError && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.5 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.5 }}\n            className=\"absolute inset-0 flex items-center justify-center\"\n          >\n            <motion.button\n              whileHover={{ scale: 1.1 }}\n              whileTap={{ scale: 0.9 }}\n              onClick={togglePlay}\n              className=\"w-16 h-16 rounded-full bg-cosmic-accent/90 backdrop-blur-sm flex items-center justify-center text-black hover:bg-cosmic-accent transition-colors\"\n            >\n              <Play className=\"w-6 h-6 ml-1\" />\n            </motion.button>\n          </motion.div>\n        )}\n      </AnimatePresence>\n      \n      {/* Controls */}\n      {showControls && (\n        <AnimatePresence>\n          {isControlsVisible && (\n            <motion.div\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: 20 }}\n              className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4\"\n            >\n              {/* Progress bar */}\n              <div \n                className=\"cosmic-progress mb-4 cursor-pointer\"\n                onClick={handleProgressClick}\n              >\n                <motion.div\n                  className=\"cosmic-progress-bar\"\n                  initial={{ width: 0 }}\n                  animate={{ width: `${progressPercentage}%` }}\n                  transition={{ duration: 0.1 }}\n                />\n              </div>\n              \n              {/* Control buttons */}\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-3\">\n                  <button\n                    onClick={togglePlay}\n                    className=\"text-white hover:text-cosmic-accent transition-colors\"\n                  >\n                    {isPlaying ? (\n                      <Pause className=\"w-5 h-5\" />\n                    ) : (\n                      <Play className=\"w-5 h-5\" />\n                    )}\n                  </button>\n                  \n                  <button\n                    onClick={toggleMute}\n                    className=\"text-white hover:text-cosmic-accent transition-colors\"\n                  >\n                    {isMuted ? (\n                      <VolumeX className=\"w-5 h-5\" />\n                    ) : (\n                      <Volume2 className=\"w-5 h-5\" />\n                    )}\n                  </button>\n                  \n                  <span className=\"text-white/80 text-sm font-mono\">\n                    {formatTime(currentTime)} / {formatTime(duration)}\n                  </span>\n                </div>\n                \n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    onClick={handleShare}\n                    className=\"text-white hover:text-cosmic-accent transition-colors\"\n                    title=\"Share\"\n                  >\n                    <Share2 className=\"w-4 h-4\" />\n                  </button>\n                  \n                  <button\n                    onClick={handleDownload}\n                    className=\"text-white hover:text-cosmic-accent transition-colors\"\n                    title=\"Download\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                  </button>\n                  \n                  <button\n                    onClick={handleFullscreen}\n                    className=\"text-white hover:text-cosmic-accent transition-colors\"\n                    title=\"Fullscreen\"\n                  >\n                    <Maximize2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      )}\n    </div>\n  );\n};\n\nexport default VideoPlayer;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,OAASC,IAAI,CAAEC,KAAK,CAAEC,OAAO,CAAEC,OAAO,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1F,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAUd,IAVe,CACnBC,GAAG,CACHC,MAAM,CACNC,SAAS,CAAG,EAAE,CACdC,YAAY,CAAG,IAAI,CACnBC,QAAQ,CAAG,KAAK,CAChBC,KAAK,CAAG,KAAK,CACbC,WAAW,CACXC,YAAY,CACZC,OACF,CAAC,CAAAT,IAAA,CACC,KAAM,CAAAU,QAAQ,CAAG1B,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAAC2B,SAAS,CAAEC,YAAY,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAC8B,OAAO,CAAEC,UAAU,CAAC,CAAG/B,QAAQ,CAACuB,KAAK,CAAC,CAC7C,KAAM,CAACS,WAAW,CAAEC,cAAc,CAAC,CAAGjC,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAACkC,QAAQ,CAAEC,WAAW,CAAC,CAAGnC,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACoC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGrC,QAAQ,CAAC,IAAI,CAAC,CAChE,KAAM,CAACsC,SAAS,CAAEC,YAAY,CAAC,CAAGvC,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACwC,QAAQ,CAAEC,WAAW,CAAC,CAAGzC,QAAQ,CAAC,KAAK,CAAC,CAE/C,KAAM,CAAA0C,kBAAkB,CAAGzC,MAAM,CAAC,IAAI,CAAC,CAEvCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAyC,KAAK,CAAGhB,QAAQ,CAACiB,OAAO,CAC9B,GAAI,CAACD,KAAK,CAAE,OAEZ,KAAM,CAAAE,eAAe,CAAGA,CAAA,GAAM,CAC5BN,YAAY,CAAC,IAAI,CAAC,CAClBf,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAG,CAAC,CACjB,CAAC,CAED,KAAM,CAAAsB,gBAAgB,CAAGA,CAAA,GAAM,CAC7BP,YAAY,CAAC,KAAK,CAAC,CACnBJ,WAAW,CAACQ,KAAK,CAACT,QAAQ,CAAC,CAC3BT,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAG,CAAC,CAClB,CAAC,CAED,KAAM,CAAAsB,gBAAgB,CAAGA,CAAA,GAAM,CAC7Bd,cAAc,CAACU,KAAK,CAACX,WAAW,CAAC,CACnC,CAAC,CAED,KAAM,CAAAgB,UAAU,CAAGA,CAAA,GAAMnB,YAAY,CAAC,IAAI,CAAC,CAC3C,KAAM,CAAAoB,WAAW,CAAGA,CAAA,GAAMpB,YAAY,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAqB,WAAW,CAAGA,CAAA,GAAM,CACxBX,YAAY,CAAC,KAAK,CAAC,CACnBE,WAAW,CAAC,IAAI,CAAC,CACjBf,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAG,CAAC,CACb,CAAC,CAEDiB,KAAK,CAACQ,gBAAgB,CAAC,WAAW,CAAEN,eAAe,CAAC,CACpDF,KAAK,CAACQ,gBAAgB,CAAC,YAAY,CAAEL,gBAAgB,CAAC,CACtDH,KAAK,CAACQ,gBAAgB,CAAC,YAAY,CAAEJ,gBAAgB,CAAC,CACtDJ,KAAK,CAACQ,gBAAgB,CAAC,MAAM,CAAEH,UAAU,CAAC,CAC1CL,KAAK,CAACQ,gBAAgB,CAAC,OAAO,CAAEF,WAAW,CAAC,CAC5CN,KAAK,CAACQ,gBAAgB,CAAC,OAAO,CAAED,WAAW,CAAC,CAE5C,MAAO,IAAM,CACXP,KAAK,CAACS,mBAAmB,CAAC,WAAW,CAAEP,eAAe,CAAC,CACvDF,KAAK,CAACS,mBAAmB,CAAC,YAAY,CAAEN,gBAAgB,CAAC,CACzDH,KAAK,CAACS,mBAAmB,CAAC,YAAY,CAAEL,gBAAgB,CAAC,CACzDJ,KAAK,CAACS,mBAAmB,CAAC,MAAM,CAAEJ,UAAU,CAAC,CAC7CL,KAAK,CAACS,mBAAmB,CAAC,OAAO,CAAEH,WAAW,CAAC,CAC/CN,KAAK,CAACS,mBAAmB,CAAC,OAAO,CAAEF,WAAW,CAAC,CACjD,CAAC,CACH,CAAC,CAAE,CAAC1B,WAAW,CAAEC,YAAY,CAAEC,OAAO,CAAC,CAAC,CAExC,KAAM,CAAA2B,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAV,KAAK,CAAGhB,QAAQ,CAACiB,OAAO,CAC9B,GAAI,CAACD,KAAK,CAAE,OAEZ,GAAIf,SAAS,CAAE,CACbe,KAAK,CAACW,KAAK,CAAC,CAAC,CACf,CAAC,IAAM,CACLX,KAAK,CAACY,IAAI,CAAC,CAAC,CACd,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAb,KAAK,CAAGhB,QAAQ,CAACiB,OAAO,CAC9B,GAAI,CAACD,KAAK,CAAE,OAEZA,KAAK,CAACpB,KAAK,CAAG,CAACO,OAAO,CACtBC,UAAU,CAAC,CAACD,OAAO,CAAC,CACtB,CAAC,CAED,KAAM,CAAA2B,mBAAmB,CAAIC,CAAC,EAAK,CACjC,KAAM,CAAAf,KAAK,CAAGhB,QAAQ,CAACiB,OAAO,CAC9B,GAAI,CAACD,KAAK,EAAI,CAACT,QAAQ,CAAE,OAEzB,KAAM,CAAAyB,IAAI,CAAGD,CAAC,CAACE,aAAa,CAACC,qBAAqB,CAAC,CAAC,CACpD,KAAM,CAAAC,MAAM,CAAGJ,CAAC,CAACK,OAAO,CAAGJ,IAAI,CAACK,IAAI,CACpC,KAAM,CAAAC,OAAO,CAAIH,MAAM,CAAGH,IAAI,CAACO,KAAK,CAAIhC,QAAQ,CAEhDS,KAAK,CAACX,WAAW,CAAGiC,OAAO,CAC3BhC,cAAc,CAACgC,OAAO,CAAC,CACzB,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAxB,KAAK,CAAGhB,QAAQ,CAACiB,OAAO,CAC9B,GAAI,CAACD,KAAK,CAAE,OAEZ,GAAIA,KAAK,CAACyB,iBAAiB,CAAE,CAC3BzB,KAAK,CAACyB,iBAAiB,CAAC,CAAC,CAC3B,CAAC,IAAM,IAAIzB,KAAK,CAAC0B,uBAAuB,CAAE,CACxC1B,KAAK,CAAC0B,uBAAuB,CAAC,CAAC,CACjC,CACF,CAAC,CAED,KAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CAACpD,GAAG,CAAE,OAEV,GAAI,CACF,KAAM,CAAAqD,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACtD,GAAG,CAAC,CACjC,KAAM,CAAAuD,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACE,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,GAAG,CAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAE5C,KAAM,CAAAK,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGP,GAAG,CACZI,CAAC,CAACI,QAAQ,kBAAAC,MAAA,CAAoBC,IAAI,CAACC,GAAG,CAAC,CAAC,QAAM,CAC9CN,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,CAAC,CAAC,CAC5BA,CAAC,CAACU,KAAK,CAAC,CAAC,CACTT,QAAQ,CAACO,IAAI,CAACG,WAAW,CAACX,CAAC,CAAC,CAE5BH,MAAM,CAACC,GAAG,CAACc,eAAe,CAAChB,GAAG,CAAC,CACjC,CAAE,MAAOiB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,kBAAkB,CAAEA,KAAK,CAAC,CAC1C,CACF,CAAC,CAED,KAAM,CAAAE,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CAAC3E,GAAG,CAAE,OAEV,GAAI4E,SAAS,CAACC,KAAK,CAAE,CACnB,GAAI,CACF,KAAM,CAAAD,SAAS,CAACC,KAAK,CAAC,CACpBC,KAAK,CAAE,qBAAqB,CAC5BtB,GAAG,CAAExD,GACP,CAAC,CAAC,CACJ,CAAE,MAAOyE,KAAK,CAAE,CACd;AAAA,CAEJ,CAAC,IAAM,CACL;AACAG,SAAS,CAACG,SAAS,CAACC,SAAS,CAAChF,GAAG,CAAC,CACpC,CACF,CAAC,CAED,KAAM,CAAAiF,uBAAuB,CAAGA,CAAA,GAAM,CACpC9D,oBAAoB,CAAC,IAAI,CAAC,CAE1B,GAAIK,kBAAkB,CAACE,OAAO,CAAE,CAC9BwD,YAAY,CAAC1D,kBAAkB,CAACE,OAAO,CAAC,CAC1C,CAEAF,kBAAkB,CAACE,OAAO,CAAGyD,UAAU,CAAC,IAAM,CAC5C,GAAIzE,SAAS,CAAE,CACbS,oBAAoB,CAAC,KAAK,CAAC,CAC7B,CACF,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CAED,KAAM,CAAAiE,UAAU,CAAIC,IAAI,EAAK,CAC3B,KAAM,CAAAC,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAG,EAAE,CAAC,CACrC,KAAM,CAAAI,OAAO,CAAGF,IAAI,CAACC,KAAK,CAACH,IAAI,CAAG,EAAE,CAAC,CACrC,SAAApB,MAAA,CAAUqB,OAAO,MAAArB,MAAA,CAAIwB,OAAO,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,EAC1D,CAAC,CAED,KAAM,CAAAC,kBAAkB,CAAG5E,QAAQ,CAAG,CAAC,CAAIF,WAAW,CAAGE,QAAQ,CAAI,GAAG,CAAG,CAAC,CAE5E,mBACEnB,KAAA,QACEK,SAAS,uDAAA+D,MAAA,CAAwD/D,SAAS,CAAG,CAC7E2F,WAAW,CAAEZ,uBAAwB,CACrCa,YAAY,CAAEA,CAAA,GAAM3E,oBAAoB,CAAC,IAAI,CAAE,CAC/C4E,YAAY,CAAEA,CAAA,GAAM,CAACrF,SAAS,EAAIS,oBAAoB,CAAC,IAAI,CAAE,CAAA6E,QAAA,eAE7DrG,IAAA,UACEsG,GAAG,CAAExF,QAAS,CACdT,GAAG,CAAEA,GAAI,CACTC,MAAM,CAAEA,MAAO,CACfG,QAAQ,CAAEA,QAAS,CACnBC,KAAK,CAAEO,OAAQ,CACfV,SAAS,CAAC,4BAA4B,CACtCgG,OAAO,CAAE/D,UAAW,CACrB,CAAC,cAGFxC,IAAA,CAACT,eAAe,EAAA8G,QAAA,CACb5E,SAAS,eACRzB,IAAA,CAACV,MAAM,CAACkH,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAE,CACxBC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CACxBE,IAAI,CAAE,CAAEF,OAAO,CAAE,CAAE,CAAE,CACrBnG,SAAS,CAAC,+DAA+D,CAAA8F,QAAA,cAEzErG,IAAA,QAAKO,SAAS,CAAC,gBAAgB,CAAE,CAAC,CACxB,CACb,CACc,CAAC,cAGlBP,IAAA,CAACT,eAAe,EAAA8G,QAAA,CACb1E,QAAQ,eACP3B,IAAA,CAACV,MAAM,CAACkH,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAE,CACxBC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CACxBE,IAAI,CAAE,CAAEF,OAAO,CAAE,CAAE,CAAE,CACrBnG,SAAS,CAAC,+DAA+D,CAAA8F,QAAA,cAEzEnG,KAAA,QAAKK,SAAS,CAAC,iBAAiB,CAAA8F,QAAA,eAC9BrG,IAAA,QAAKO,SAAS,CAAC,iCAAiC,CAAA8F,QAAA,CAAC,cAAE,CAAK,CAAC,cACzDrG,IAAA,MAAGO,SAAS,CAAC,wBAAwB,CAAA8F,QAAA,CAAC,sBAAoB,CAAG,CAAC,cAC9DrG,IAAA,MAAGO,SAAS,CAAC,4BAA4B,CAAA8F,QAAA,CAAC,wBAAsB,CAAG,CAAC,EACjE,CAAC,CACI,CACb,CACc,CAAC,cAGlBrG,IAAA,CAACT,eAAe,EAAA8G,QAAA,CACb,CAACtF,SAAS,EAAI,CAACU,SAAS,EAAI,CAACE,QAAQ,eACpC3B,IAAA,CAACV,MAAM,CAACkH,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEG,KAAK,CAAE,GAAI,CAAE,CACpCF,OAAO,CAAE,CAAED,OAAO,CAAE,CAAC,CAAEG,KAAK,CAAE,CAAE,CAAE,CAClCD,IAAI,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEG,KAAK,CAAE,GAAI,CAAE,CACjCtG,SAAS,CAAC,mDAAmD,CAAA8F,QAAA,cAE7DrG,IAAA,CAACV,MAAM,CAACwH,MAAM,EACZC,UAAU,CAAE,CAAEF,KAAK,CAAE,GAAI,CAAE,CAC3BG,QAAQ,CAAE,CAAEH,KAAK,CAAE,GAAI,CAAE,CACzBN,OAAO,CAAE/D,UAAW,CACpBjC,SAAS,CAAC,kJAAkJ,CAAA8F,QAAA,cAE5JrG,IAAA,CAACR,IAAI,EAACe,SAAS,CAAC,cAAc,CAAE,CAAC,CACpB,CAAC,CACN,CACb,CACc,CAAC,CAGjBC,YAAY,eACXR,IAAA,CAACT,eAAe,EAAA8G,QAAA,CACb9E,iBAAiB,eAChBrB,KAAA,CAACZ,MAAM,CAACkH,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEO,CAAC,CAAE,EAAG,CAAE,CAC/BN,OAAO,CAAE,CAAED,OAAO,CAAE,CAAC,CAAEO,CAAC,CAAE,CAAE,CAAE,CAC9BL,IAAI,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEO,CAAC,CAAE,EAAG,CAAE,CAC5B1G,SAAS,CAAC,oFAAoF,CAAA8F,QAAA,eAG9FrG,IAAA,QACEO,SAAS,CAAC,qCAAqC,CAC/CgG,OAAO,CAAE3D,mBAAoB,CAAAyD,QAAA,cAE7BrG,IAAA,CAACV,MAAM,CAACkH,GAAG,EACTjG,SAAS,CAAC,qBAAqB,CAC/BkG,OAAO,CAAE,CAAEpD,KAAK,CAAE,CAAE,CAAE,CACtBsD,OAAO,CAAE,CAAEtD,KAAK,IAAAiB,MAAA,CAAK2B,kBAAkB,KAAI,CAAE,CAC7CiB,UAAU,CAAE,CAAE7F,QAAQ,CAAE,GAAI,CAAE,CAC/B,CAAC,CACC,CAAC,cAGNnB,KAAA,QAAKK,SAAS,CAAC,mCAAmC,CAAA8F,QAAA,eAChDnG,KAAA,QAAKK,SAAS,CAAC,6BAA6B,CAAA8F,QAAA,eAC1CrG,IAAA,WACEuG,OAAO,CAAE/D,UAAW,CACpBjC,SAAS,CAAC,uDAAuD,CAAA8F,QAAA,CAEhEtF,SAAS,cACRf,IAAA,CAACP,KAAK,EAACc,SAAS,CAAC,SAAS,CAAE,CAAC,cAE7BP,IAAA,CAACR,IAAI,EAACe,SAAS,CAAC,SAAS,CAAE,CAC5B,CACK,CAAC,cAETP,IAAA,WACEuG,OAAO,CAAE5D,UAAW,CACpBpC,SAAS,CAAC,uDAAuD,CAAA8F,QAAA,CAEhEpF,OAAO,cACNjB,IAAA,CAACL,OAAO,EAACY,SAAS,CAAC,SAAS,CAAE,CAAC,cAE/BP,IAAA,CAACN,OAAO,EAACa,SAAS,CAAC,SAAS,CAAE,CAC/B,CACK,CAAC,cAETL,KAAA,SAAMK,SAAS,CAAC,iCAAiC,CAAA8F,QAAA,EAC9CZ,UAAU,CAACtE,WAAW,CAAC,CAAC,KAAG,CAACsE,UAAU,CAACpE,QAAQ,CAAC,EAC7C,CAAC,EACJ,CAAC,cAENnB,KAAA,QAAKK,SAAS,CAAC,6BAA6B,CAAA8F,QAAA,eAC1CrG,IAAA,WACEuG,OAAO,CAAEvB,WAAY,CACrBzE,SAAS,CAAC,uDAAuD,CACjE4E,KAAK,CAAC,OAAO,CAAAkB,QAAA,cAEbrG,IAAA,CAACF,MAAM,EAACS,SAAS,CAAC,SAAS,CAAE,CAAC,CACxB,CAAC,cAETP,IAAA,WACEuG,OAAO,CAAE9C,cAAe,CACxBlD,SAAS,CAAC,uDAAuD,CACjE4E,KAAK,CAAC,UAAU,CAAAkB,QAAA,cAEhBrG,IAAA,CAACH,QAAQ,EAACU,SAAS,CAAC,SAAS,CAAE,CAAC,CAC1B,CAAC,cAETP,IAAA,WACEuG,OAAO,CAAEjD,gBAAiB,CAC1B/C,SAAS,CAAC,uDAAuD,CACjE4E,KAAK,CAAC,YAAY,CAAAkB,QAAA,cAElBrG,IAAA,CAACJ,SAAS,EAACW,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3B,CAAC,EACN,CAAC,EACH,CAAC,EACI,CACb,CACc,CAClB,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAJ,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}