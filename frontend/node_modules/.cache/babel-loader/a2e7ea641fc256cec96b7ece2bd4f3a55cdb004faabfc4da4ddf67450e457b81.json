{"ast":null,"code":"import _objectSpread from\"/Users/bbassett/simple/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useCallback}from'react';import{motion,AnimatePresence}from'framer-motion';import{useNavigate}from'react-router-dom';import{useDropzone}from'react-dropzone';import{PlusCircle,Upload,Type,Image as ImageIcon,Sparkles,ArrowRight,X}from'lucide-react';import toast from'react-hot-toast';import{useStory}from'../contexts/StoryContext';import LoadingSpinner from'../components/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StoryCreatorPage=()=>{const navigate=useNavigate();const{loading,actions}=useStory();// Story metadata\nconst[storyTitle,setStoryTitle]=useState('');const[storyDescription,setStoryDescription]=useState('');// First segment\nconst[prompt,setPrompt]=useState('');const[uploadedImage,setUploadedImage]=useState(null);const[imagePreview,setImagePreview]=useState(null);// UI state\nconst[step,setStep]=useState('metadata');// 'metadata', 'first-segment'\nconst[isCreating,setIsCreating]=useState(false);const onDrop=useCallback(acceptedFiles=>{const file=acceptedFiles[0];if(file){setUploadedImage(file);// Create preview\nconst reader=new FileReader();reader.onload=e=>{setImagePreview(e.target.result);};reader.readAsDataURL(file);}},[]);const{getRootProps,getInputProps,isDragActive}=useDropzone({onDrop,accept:{'image/*':['.jpeg','.jpg','.png','.webp']},maxSize:10*1024*1024,// 10MB\nmultiple:false});const handleCreateStory=async()=>{if(!storyTitle.trim()){toast.error('Please enter a story title');return;}try{setIsCreating(true);// Create the story\nconst story=await actions.createStory(storyTitle,storyDescription);// If we have content for the first segment, generate it\nif(prompt.trim()||uploadedImage){await actions.generateVideoSegment(story.id,prompt||'Create an opening scene',uploadedImage,false);}// Navigate to the story view\nnavigate(\"/story/\".concat(story.id));}catch(error){console.error('Error creating story:',error);}finally{setIsCreating(false);}};const removeImage=()=>{setUploadedImage(null);setImagePreview(null);};const storyTemplates=[{title:'Space Adventure',description:'Journey through the cosmos',prompt:'An astronaut floating in space, looking at a distant galaxy with colorful nebulae',gradient:'from-cosmic-primary to-cosmic-magenta'},{title:'Fantasy Quest',description:'Magical realms and creatures',prompt:'A mystical forest with glowing trees and magical creatures, ethereal lighting',gradient:'from-cosmic-secondary to-cosmic-violet'},{title:'Urban Story',description:'City life and modern tales',prompt:'A bustling city street at golden hour, with people walking and warm lighting',gradient:'from-cosmic-bright to-cosmic-medium'}];if(loading||isCreating){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen pt-16 flex items-center justify-center\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"large\",message:isCreating?\"Creating your story...\":\"Loading...\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen pt-16\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(motion.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:4,repeat:Infinity},className:\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-hero-gradient mb-6 shadow-cosmic\",children:/*#__PURE__*/_jsx(Sparkles,{className:\"w-8 h-8 text-white\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl md:text-5xl font-tubi font-bold text-white mb-4\",children:\"Create Your Story\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-white/70 max-w-2xl mx-auto\",children:\"Start building your video narrative. Every great story begins with a single frame.\"})]}),step==='metadata'&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:\"glass-effect rounded-2xl p-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-white mb-6 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Type,{className:\"w-6 h-6 text-cosmic-accent\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Story Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white font-medium mb-2\",children:\"Story Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:storyTitle,onChange:e=>setStoryTitle(e.target.value),placeholder:\"Enter an engaging title for your story...\",className:\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-cosmic-accent transition-colors\",maxLength:100}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white/40 text-sm mt-1\",children:[storyTitle.length,\"/100 characters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white font-medium mb-2\",children:\"Description (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:storyDescription,onChange:e=>setStoryDescription(e.target.value),placeholder:\"Describe your story concept, themes, or vision...\",className:\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-cosmic-accent transition-colors resize-none\",rows:4,maxLength:500}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white/40 text-sm mt-1\",children:[storyDescription.length,\"/500 characters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white font-medium mb-4\",children:\"Quick Start Templates\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:storyTemplates.map((template,index)=>/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:0.98},onClick:()=>{setStoryTitle(template.title);setStoryDescription(template.description);setPrompt(template.prompt);},className:\"glass-effect rounded-xl p-4 text-left hover:shadow-cosmic transition-all\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-24 bg-gradient-to-br \".concat(template.gradient,\" rounded-lg mb-3 opacity-60\")}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-bold mb-1\",children:template.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-sm\",children:template.description})]},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end pt-4\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setStep('first-segment'),disabled:!storyTitle.trim(),className:\"cosmic-button bg-cosmic-accent text-black font-bold py-3 px-6 rounded-pill flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Continue\"}),/*#__PURE__*/_jsx(ArrowRight,{className:\"w-5 h-5\"})]})})]})]},\"metadata\"),step==='first-segment'&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setStep('metadata'),className:\"text-white/60 hover:text-white flex items-center space-x-2 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowRight,{className:\"w-4 h-4 rotate-180\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Back to Story Details\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"glass-effect rounded-2xl p-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-white mb-6 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(PlusCircle,{className:\"w-6 h-6 text-cosmic-accent\"}),/*#__PURE__*/_jsx(\"span\",{children:\"First Scene\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white font-medium mb-2\",children:\"Scene Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:prompt,onChange:e=>setPrompt(e.target.value),placeholder:\"Describe your opening scene in detail: setting, characters, mood, camera angles...\",className:\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-cosmic-accent transition-colors resize-none\",rows:6,maxLength:1000}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white/40 text-sm mt-1\",children:[prompt.length,\"/1000 characters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white font-medium mb-2\",children:\"Starting Image (Optional)\"}),imagePreview?/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Upload preview\",className:\"w-full h-48 object-cover rounded-xl\"}),/*#__PURE__*/_jsx(\"button\",{onClick:removeImage,className:\"absolute top-2 right-2 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}):/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({},getRootProps()),{},{className:\"file-upload-area w-full h-48 border-2 border-dashed rounded-xl flex flex-col items-center justify-center cursor-pointer transition-all \".concat(isDragActive?'drag-over':'border-white/20 hover:border-cosmic-accent/50'),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(Upload,{className:\"w-8 h-8 text-white/40 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/60 text-center\",children:isDragActive?'Drop your image here':/*#__PURE__*/_jsxs(_Fragment,{children:[\"Drag & drop an image, or \",/*#__PURE__*/_jsx(\"span\",{className:\"text-cosmic-accent\",children:\"click to browse\"})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/40 text-sm mt-1\",children:\"PNG, JPG up to 10MB\"})]}))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 justify-between pt-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateStory,className:\"glass-effect text-white font-medium py-3 px-6 rounded-pill hover:bg-white/10 transition-colors\",children:\"Create Empty Story\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreateStory,disabled:!prompt.trim()&&!uploadedImage,className:\"cosmic-button bg-cosmic-accent text-black font-bold py-3 px-8 rounded-pill flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Create & Generate First Scene\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/40 text-sm text-center mt-4\",children:\"You can always add more scenes after creating your story\"})]})]},\"first-segment\")]})})});};export default StoryCreatorPage;","map":{"version":3,"names":["React","useState","useCallback","motion","AnimatePresence","useNavigate","useDropzone","PlusCircle","Upload","Type","Image","ImageIcon","Sparkles","ArrowRight","X","toast","useStory","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StoryCreatorPage","navigate","loading","actions","storyTitle","setStoryTitle","storyDescription","setStoryDescription","prompt","setPrompt","uploadedImage","setUploadedImage","imagePreview","setImagePreview","step","setStep","isCreating","setIsCreating","onDrop","acceptedFiles","file","reader","FileReader","onload","e","target","result","readAsDataURL","getRootProps","getInputProps","isDragActive","accept","maxSize","multiple","handleCreateStory","trim","error","story","createStory","generateVideoSegment","id","concat","console","removeImage","storyTemplates","title","description","gradient","className","children","size","message","div","initial","opacity","y","animate","transition","duration","rotate","repeat","Infinity","x","exit","type","value","onChange","placeholder","maxLength","length","rows","map","template","index","button","whileHover","scale","whileTap","onClick","disabled","src","alt","_objectSpread"],"sources":["/Users/bbassett/simple/frontend/src/pages/StoryCreatorPage.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useNavigate } from 'react-router-dom';\nimport { useDropzone } from 'react-dropzone';\nimport { PlusCircle, Upload, Type, Image as ImageIcon, Sparkles, ArrowRight, X } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nimport { useStory } from '../contexts/StoryContext';\nimport LoadingSpinner from '../components/LoadingSpinner';\n\nconst StoryCreatorPage = () => {\n  const navigate = useNavigate();\n  const { loading, actions } = useStory();\n  \n  // Story metadata\n  const [storyTitle, setStoryTitle] = useState('');\n  const [storyDescription, setStoryDescription] = useState('');\n  \n  // First segment\n  const [prompt, setPrompt] = useState('');\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  \n  // UI state\n  const [step, setStep] = useState('metadata'); // 'metadata', 'first-segment'\n  const [isCreating, setIsCreating] = useState(false);\n  \n  const onDrop = useCallback((acceptedFiles) => {\n    const file = acceptedFiles[0];\n    if (file) {\n      setUploadedImage(file);\n      \n      // Create preview\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setImagePreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  }, []);\n  \n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png', '.webp']\n    },\n    maxSize: 10 * 1024 * 1024, // 10MB\n    multiple: false\n  });\n  \n  const handleCreateStory = async () => {\n    if (!storyTitle.trim()) {\n      toast.error('Please enter a story title');\n      return;\n    }\n    \n    try {\n      setIsCreating(true);\n      \n      // Create the story\n      const story = await actions.createStory(storyTitle, storyDescription);\n      \n      // If we have content for the first segment, generate it\n      if (prompt.trim() || uploadedImage) {\n        await actions.generateVideoSegment(\n          story.id,\n          prompt || 'Create an opening scene',\n          uploadedImage,\n          false\n        );\n      }\n      \n      // Navigate to the story view\n      navigate(`/story/${story.id}`);\n      \n    } catch (error) {\n      console.error('Error creating story:', error);\n    } finally {\n      setIsCreating(false);\n    }\n  };\n  \n  const removeImage = () => {\n    setUploadedImage(null);\n    setImagePreview(null);\n  };\n  \n  const storyTemplates = [\n    {\n      title: 'Space Adventure',\n      description: 'Journey through the cosmos',\n      prompt: 'An astronaut floating in space, looking at a distant galaxy with colorful nebulae',\n      gradient: 'from-cosmic-primary to-cosmic-magenta'\n    },\n    {\n      title: 'Fantasy Quest',\n      description: 'Magical realms and creatures',\n      prompt: 'A mystical forest with glowing trees and magical creatures, ethereal lighting',\n      gradient: 'from-cosmic-secondary to-cosmic-violet'\n    },\n    {\n      title: 'Urban Story',\n      description: 'City life and modern tales',\n      prompt: 'A bustling city street at golden hour, with people walking and warm lighting',\n      gradient: 'from-cosmic-bright to-cosmic-medium'\n    }\n  ];\n  \n  if (loading || isCreating) {\n    return (\n      <div className=\"min-h-screen pt-16 flex items-center justify-center\">\n        <LoadingSpinner \n          size=\"large\" \n          message={isCreating ? \"Creating your story...\" : \"Loading...\"} \n        />\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"min-h-screen pt-16\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          {/* Header */}\n          <div className=\"text-center mb-12\">\n            <motion.div\n              animate={{ rotate: [0, 5, -5, 0] }}\n              transition={{ duration: 4, repeat: Infinity }}\n              className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-hero-gradient mb-6 shadow-cosmic\"\n            >\n              <Sparkles className=\"w-8 h-8 text-white\" />\n            </motion.div>\n            \n            <h1 className=\"text-4xl md:text-5xl font-tubi font-bold text-white mb-4\">\n              Create Your Story\n            </h1>\n            <p className=\"text-xl text-white/70 max-w-2xl mx-auto\">\n              Start building your video narrative. Every great story begins with a single frame.\n            </p>\n          </div>\n          \n          {step === 'metadata' && (\n            <motion.div\n              key=\"metadata\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -20 }}\n              className=\"glass-effect rounded-2xl p-8\"\n            >\n              <h2 className=\"text-2xl font-bold text-white mb-6 flex items-center space-x-2\">\n                <Type className=\"w-6 h-6 text-cosmic-accent\" />\n                <span>Story Details</span>\n              </h2>\n              \n              <div className=\"space-y-6\">\n                {/* Story Title */}\n                <div>\n                  <label className=\"block text-white font-medium mb-2\">\n                    Story Title *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={storyTitle}\n                    onChange={(e) => setStoryTitle(e.target.value)}\n                    placeholder=\"Enter an engaging title for your story...\"\n                    className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-cosmic-accent transition-colors\"\n                    maxLength={100}\n                  />\n                  <div className=\"text-white/40 text-sm mt-1\">\n                    {storyTitle.length}/100 characters\n                  </div>\n                </div>\n                \n                {/* Story Description */}\n                <div>\n                  <label className=\"block text-white font-medium mb-2\">\n                    Description (Optional)\n                  </label>\n                  <textarea\n                    value={storyDescription}\n                    onChange={(e) => setStoryDescription(e.target.value)}\n                    placeholder=\"Describe your story concept, themes, or vision...\"\n                    className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-cosmic-accent transition-colors resize-none\"\n                    rows={4}\n                    maxLength={500}\n                  />\n                  <div className=\"text-white/40 text-sm mt-1\">\n                    {storyDescription.length}/500 characters\n                  </div>\n                </div>\n                \n                {/* Story Templates */}\n                <div>\n                  <label className=\"block text-white font-medium mb-4\">\n                    Quick Start Templates\n                  </label>\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                    {storyTemplates.map((template, index) => (\n                      <motion.button\n                        key={index}\n                        whileHover={{ scale: 1.02 }}\n                        whileTap={{ scale: 0.98 }}\n                        onClick={() => {\n                          setStoryTitle(template.title);\n                          setStoryDescription(template.description);\n                          setPrompt(template.prompt);\n                        }}\n                        className=\"glass-effect rounded-xl p-4 text-left hover:shadow-cosmic transition-all\"\n                      >\n                        <div className={`h-24 bg-gradient-to-br ${template.gradient} rounded-lg mb-3 opacity-60`} />\n                        <h3 className=\"text-white font-bold mb-1\">{template.title}</h3>\n                        <p className=\"text-white/60 text-sm\">{template.description}</p>\n                      </motion.button>\n                    ))}\n                  </div>\n                </div>\n                \n                {/* Next Button */}\n                <div className=\"flex justify-end pt-4\">\n                  <button\n                    onClick={() => setStep('first-segment')}\n                    disabled={!storyTitle.trim()}\n                    className=\"cosmic-button bg-cosmic-accent text-black font-bold py-3 px-6 rounded-pill flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <span>Continue</span>\n                    <ArrowRight className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            </motion.div>\n          )}\n          \n          {step === 'first-segment' && (\n            <motion.div\n              key=\"first-segment\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: -20 }}\n              className=\"space-y-6\"\n            >\n              {/* Back Button */}\n              <button\n                onClick={() => setStep('metadata')}\n                className=\"text-white/60 hover:text-white flex items-center space-x-2 transition-colors\"\n              >\n                <ArrowRight className=\"w-4 h-4 rotate-180\" />\n                <span>Back to Story Details</span>\n              </button>\n              \n              <div className=\"glass-effect rounded-2xl p-8\">\n                <h2 className=\"text-2xl font-bold text-white mb-6 flex items-center space-x-2\">\n                  <PlusCircle className=\"w-6 h-6 text-cosmic-accent\" />\n                  <span>First Scene</span>\n                </h2>\n                \n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                  {/* Text Prompt */}\n                  <div>\n                    <label className=\"block text-white font-medium mb-2\">\n                      Scene Description\n                    </label>\n                    <textarea\n                      value={prompt}\n                      onChange={(e) => setPrompt(e.target.value)}\n                      placeholder=\"Describe your opening scene in detail: setting, characters, mood, camera angles...\"\n                      className=\"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-cosmic-accent transition-colors resize-none\"\n                      rows={6}\n                      maxLength={1000}\n                    />\n                    <div className=\"text-white/40 text-sm mt-1\">\n                      {prompt.length}/1000 characters\n                    </div>\n                  </div>\n                  \n                  {/* Image Upload */}\n                  <div>\n                    <label className=\"block text-white font-medium mb-2\">\n                      Starting Image (Optional)\n                    </label>\n                    \n                    {imagePreview ? (\n                      <div className=\"relative\">\n                        <img\n                          src={imagePreview}\n                          alt=\"Upload preview\"\n                          className=\"w-full h-48 object-cover rounded-xl\"\n                        />\n                        <button\n                          onClick={removeImage}\n                          className=\"absolute top-2 right-2 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors\"\n                        >\n                          <X className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    ) : (\n                      <div\n                        {...getRootProps()}\n                        className={`file-upload-area w-full h-48 border-2 border-dashed rounded-xl flex flex-col items-center justify-center cursor-pointer transition-all ${\n                          isDragActive ? 'drag-over' : 'border-white/20 hover:border-cosmic-accent/50'\n                        }`}\n                      >\n                        <input {...getInputProps()} />\n                        <Upload className=\"w-8 h-8 text-white/40 mb-2\" />\n                        <p className=\"text-white/60 text-center\">\n                          {isDragActive ? (\n                            'Drop your image here'\n                          ) : (\n                            <>\n                              Drag & drop an image, or <span className=\"text-cosmic-accent\">click to browse</span>\n                            </>\n                          )}\n                        </p>\n                        <p className=\"text-white/40 text-sm mt-1\">\n                          PNG, JPG up to 10MB\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                {/* Action Buttons */}\n                <div className=\"flex flex-col sm:flex-row gap-4 justify-between pt-8\">\n                  <button\n                    onClick={handleCreateStory}\n                    className=\"glass-effect text-white font-medium py-3 px-6 rounded-pill hover:bg-white/10 transition-colors\"\n                  >\n                    Create Empty Story\n                  </button>\n                  \n                  <button\n                    onClick={handleCreateStory}\n                    disabled={!prompt.trim() && !uploadedImage}\n                    className=\"cosmic-button bg-cosmic-accent text-black font-bold py-3 px-8 rounded-pill flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <Sparkles className=\"w-5 h-5\" />\n                    <span>Create & Generate First Scene</span>\n                  </button>\n                </div>\n                \n                <p className=\"text-white/40 text-sm text-center mt-4\">\n                  You can always add more scenes after creating your story\n                </p>\n              </div>\n            </motion.div>\n          )}\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default StoryCreatorPage;\n"],"mappings":"oHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACpD,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,WAAW,KAAQ,gBAAgB,CAC5C,OAASC,UAAU,CAAEC,MAAM,CAAEC,IAAI,CAAEC,KAAK,GAAI,CAAAC,SAAS,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,CAAC,KAAQ,cAAc,CACpG,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAEnC,OAASC,QAAQ,KAAQ,0BAA0B,CACnD,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1D,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEqB,OAAO,CAAEC,OAAQ,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAEvC;AACA,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC6B,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CAE5D;AACA,KAAM,CAAC+B,MAAM,CAAEC,SAAS,CAAC,CAAGhC,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACiC,aAAa,CAAEC,gBAAgB,CAAC,CAAGlC,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACmC,YAAY,CAAEC,eAAe,CAAC,CAAGpC,QAAQ,CAAC,IAAI,CAAC,CAEtD;AACA,KAAM,CAACqC,IAAI,CAAEC,OAAO,CAAC,CAAGtC,QAAQ,CAAC,UAAU,CAAC,CAAE;AAC9C,KAAM,CAACuC,UAAU,CAAEC,aAAa,CAAC,CAAGxC,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAAyC,MAAM,CAAGxC,WAAW,CAAEyC,aAAa,EAAK,CAC5C,KAAM,CAAAC,IAAI,CAAGD,aAAa,CAAC,CAAC,CAAC,CAC7B,GAAIC,IAAI,CAAE,CACRT,gBAAgB,CAACS,IAAI,CAAC,CAEtB;AACA,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,CAAC,EAAK,CACrBX,eAAe,CAACW,CAAC,CAACC,MAAM,CAACC,MAAM,CAAC,CAClC,CAAC,CACDL,MAAM,CAACM,aAAa,CAACP,IAAI,CAAC,CAC5B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAEQ,YAAY,CAAEC,aAAa,CAAEC,YAAa,CAAC,CAAGhD,WAAW,CAAC,CAChEoC,MAAM,CACNa,MAAM,CAAE,CACN,SAAS,CAAE,CAAC,OAAO,CAAE,MAAM,CAAE,MAAM,CAAE,OAAO,CAC9C,CAAC,CACDC,OAAO,CAAE,EAAE,CAAG,IAAI,CAAG,IAAI,CAAE;AAC3BC,QAAQ,CAAE,KACZ,CAAC,CAAC,CAEF,KAAM,CAAAC,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CAAC9B,UAAU,CAAC+B,IAAI,CAAC,CAAC,CAAE,CACtB5C,KAAK,CAAC6C,KAAK,CAAC,4BAA4B,CAAC,CACzC,OACF,CAEA,GAAI,CACFnB,aAAa,CAAC,IAAI,CAAC,CAEnB;AACA,KAAM,CAAAoB,KAAK,CAAG,KAAM,CAAAlC,OAAO,CAACmC,WAAW,CAAClC,UAAU,CAAEE,gBAAgB,CAAC,CAErE;AACA,GAAIE,MAAM,CAAC2B,IAAI,CAAC,CAAC,EAAIzB,aAAa,CAAE,CAClC,KAAM,CAAAP,OAAO,CAACoC,oBAAoB,CAChCF,KAAK,CAACG,EAAE,CACRhC,MAAM,EAAI,yBAAyB,CACnCE,aAAa,CACb,KACF,CAAC,CACH,CAEA;AACAT,QAAQ,WAAAwC,MAAA,CAAWJ,KAAK,CAACG,EAAE,CAAE,CAAC,CAEhC,CAAE,MAAOJ,KAAK,CAAE,CACdM,OAAO,CAACN,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CAAC,OAAS,CACRnB,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAA0B,WAAW,CAAGA,CAAA,GAAM,CACxBhC,gBAAgB,CAAC,IAAI,CAAC,CACtBE,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAED,KAAM,CAAA+B,cAAc,CAAG,CACrB,CACEC,KAAK,CAAE,iBAAiB,CACxBC,WAAW,CAAE,4BAA4B,CACzCtC,MAAM,CAAE,mFAAmF,CAC3FuC,QAAQ,CAAE,uCACZ,CAAC,CACD,CACEF,KAAK,CAAE,eAAe,CACtBC,WAAW,CAAE,8BAA8B,CAC3CtC,MAAM,CAAE,+EAA+E,CACvFuC,QAAQ,CAAE,wCACZ,CAAC,CACD,CACEF,KAAK,CAAE,aAAa,CACpBC,WAAW,CAAE,4BAA4B,CACzCtC,MAAM,CAAE,8EAA8E,CACtFuC,QAAQ,CAAE,qCACZ,CAAC,CACF,CAED,GAAI7C,OAAO,EAAIc,UAAU,CAAE,CACzB,mBACErB,IAAA,QAAKqD,SAAS,CAAC,qDAAqD,CAAAC,QAAA,cAClEtD,IAAA,CAACF,cAAc,EACbyD,IAAI,CAAC,OAAO,CACZC,OAAO,CAAEnC,UAAU,CAAG,wBAAwB,CAAG,YAAa,CAC/D,CAAC,CACC,CAAC,CAEV,CAEA,mBACErB,IAAA,QAAKqD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjCtD,IAAA,QAAKqD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,cAC3DpD,KAAA,CAAClB,MAAM,CAACyE,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAAT,QAAA,eAG9BpD,KAAA,QAAKmD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCtD,IAAA,CAAChB,MAAM,CAACyE,GAAG,EACTI,OAAO,CAAE,CAAEG,MAAM,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CAAE,CACnCF,UAAU,CAAE,CAAEC,QAAQ,CAAE,CAAC,CAAEE,MAAM,CAAEC,QAAS,CAAE,CAC9Cb,SAAS,CAAC,oGAAoG,CAAAC,QAAA,cAE9GtD,IAAA,CAACP,QAAQ,EAAC4D,SAAS,CAAC,oBAAoB,CAAE,CAAC,CACjC,CAAC,cAEbrD,IAAA,OAAIqD,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CAAC,mBAEzE,CAAI,CAAC,cACLtD,IAAA,MAAGqD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,oFAEvD,CAAG,CAAC,EACD,CAAC,CAELnC,IAAI,GAAK,UAAU,eAClBjB,KAAA,CAAClB,MAAM,CAACyE,GAAG,EAETC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEQ,CAAC,CAAE,EAAG,CAAE,CAC/BN,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEQ,CAAC,CAAE,CAAE,CAAE,CAC9BC,IAAI,CAAE,CAAET,OAAO,CAAE,CAAC,CAAEQ,CAAC,CAAE,CAAC,EAAG,CAAE,CAC7Bd,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAExCpD,KAAA,OAAImD,SAAS,CAAC,gEAAgE,CAAAC,QAAA,eAC5EtD,IAAA,CAACV,IAAI,EAAC+D,SAAS,CAAC,4BAA4B,CAAE,CAAC,cAC/CrD,IAAA,SAAAsD,QAAA,CAAM,eAAa,CAAM,CAAC,EACxB,CAAC,cAELpD,KAAA,QAAKmD,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBpD,KAAA,QAAAoD,QAAA,eACEtD,IAAA,UAAOqD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,eAErD,CAAO,CAAC,cACRtD,IAAA,UACEqE,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE7D,UAAW,CAClB8D,QAAQ,CAAG1C,CAAC,EAAKnB,aAAa,CAACmB,CAAC,CAACC,MAAM,CAACwC,KAAK,CAAE,CAC/CE,WAAW,CAAC,2CAA2C,CACvDnB,SAAS,CAAC,gKAAgK,CAC1KoB,SAAS,CAAE,GAAI,CAChB,CAAC,cACFvE,KAAA,QAAKmD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACxC7C,UAAU,CAACiE,MAAM,CAAC,iBACrB,EAAK,CAAC,EACH,CAAC,cAGNxE,KAAA,QAAAoD,QAAA,eACEtD,IAAA,UAAOqD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,wBAErD,CAAO,CAAC,cACRtD,IAAA,aACEsE,KAAK,CAAE3D,gBAAiB,CACxB4D,QAAQ,CAAG1C,CAAC,EAAKjB,mBAAmB,CAACiB,CAAC,CAACC,MAAM,CAACwC,KAAK,CAAE,CACrDE,WAAW,CAAC,mDAAmD,CAC/DnB,SAAS,CAAC,4KAA4K,CACtLsB,IAAI,CAAE,CAAE,CACRF,SAAS,CAAE,GAAI,CAChB,CAAC,cACFvE,KAAA,QAAKmD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACxC3C,gBAAgB,CAAC+D,MAAM,CAAC,iBAC3B,EAAK,CAAC,EACH,CAAC,cAGNxE,KAAA,QAAAoD,QAAA,eACEtD,IAAA,UAAOqD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,uBAErD,CAAO,CAAC,cACRtD,IAAA,QAAKqD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CACnDL,cAAc,CAAC2B,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,gBAClC5E,KAAA,CAAClB,MAAM,CAAC+F,MAAM,EAEZC,UAAU,CAAE,CAAEC,KAAK,CAAE,IAAK,CAAE,CAC5BC,QAAQ,CAAE,CAAED,KAAK,CAAE,IAAK,CAAE,CAC1BE,OAAO,CAAEA,CAAA,GAAM,CACbzE,aAAa,CAACmE,QAAQ,CAAC3B,KAAK,CAAC,CAC7BtC,mBAAmB,CAACiE,QAAQ,CAAC1B,WAAW,CAAC,CACzCrC,SAAS,CAAC+D,QAAQ,CAAChE,MAAM,CAAC,CAC5B,CAAE,CACFwC,SAAS,CAAC,0EAA0E,CAAAC,QAAA,eAEpFtD,IAAA,QAAKqD,SAAS,2BAAAP,MAAA,CAA4B+B,QAAQ,CAACzB,QAAQ,+BAA8B,CAAE,CAAC,cAC5FpD,IAAA,OAAIqD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CAAEuB,QAAQ,CAAC3B,KAAK,CAAK,CAAC,cAC/DlD,IAAA,MAAGqD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAEuB,QAAQ,CAAC1B,WAAW,CAAI,CAAC,GAZ1D2B,KAaQ,CAChB,CAAC,CACC,CAAC,EACH,CAAC,cAGN9E,IAAA,QAAKqD,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCpD,KAAA,WACEiF,OAAO,CAAEA,CAAA,GAAM/D,OAAO,CAAC,eAAe,CAAE,CACxCgE,QAAQ,CAAE,CAAC3E,UAAU,CAAC+B,IAAI,CAAC,CAAE,CAC7Ba,SAAS,CAAC,wJAAwJ,CAAAC,QAAA,eAElKtD,IAAA,SAAAsD,QAAA,CAAM,UAAQ,CAAM,CAAC,cACrBtD,IAAA,CAACN,UAAU,EAAC2D,SAAS,CAAC,SAAS,CAAE,CAAC,EAC5B,CAAC,CACN,CAAC,EACH,CAAC,GArFF,UAsFM,CACb,CAEAlC,IAAI,GAAK,eAAe,eACvBjB,KAAA,CAAClB,MAAM,CAACyE,GAAG,EAETC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEQ,CAAC,CAAE,EAAG,CAAE,CAC/BN,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEQ,CAAC,CAAE,CAAE,CAAE,CAC9BC,IAAI,CAAE,CAAET,OAAO,CAAE,CAAC,CAAEQ,CAAC,CAAE,CAAC,EAAG,CAAE,CAC7Bd,SAAS,CAAC,WAAW,CAAAC,QAAA,eAGrBpD,KAAA,WACEiF,OAAO,CAAEA,CAAA,GAAM/D,OAAO,CAAC,UAAU,CAAE,CACnCiC,SAAS,CAAC,8EAA8E,CAAAC,QAAA,eAExFtD,IAAA,CAACN,UAAU,EAAC2D,SAAS,CAAC,oBAAoB,CAAE,CAAC,cAC7CrD,IAAA,SAAAsD,QAAA,CAAM,uBAAqB,CAAM,CAAC,EAC5B,CAAC,cAETpD,KAAA,QAAKmD,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CpD,KAAA,OAAImD,SAAS,CAAC,gEAAgE,CAAAC,QAAA,eAC5EtD,IAAA,CAACZ,UAAU,EAACiE,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACrDrD,IAAA,SAAAsD,QAAA,CAAM,aAAW,CAAM,CAAC,EACtB,CAAC,cAELpD,KAAA,QAAKmD,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDpD,KAAA,QAAAoD,QAAA,eACEtD,IAAA,UAAOqD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,mBAErD,CAAO,CAAC,cACRtD,IAAA,aACEsE,KAAK,CAAEzD,MAAO,CACd0D,QAAQ,CAAG1C,CAAC,EAAKf,SAAS,CAACe,CAAC,CAACC,MAAM,CAACwC,KAAK,CAAE,CAC3CE,WAAW,CAAC,oFAAoF,CAChGnB,SAAS,CAAC,4KAA4K,CACtLsB,IAAI,CAAE,CAAE,CACRF,SAAS,CAAE,IAAK,CACjB,CAAC,cACFvE,KAAA,QAAKmD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACxCzC,MAAM,CAAC6D,MAAM,CAAC,kBACjB,EAAK,CAAC,EACH,CAAC,cAGNxE,KAAA,QAAAoD,QAAA,eACEtD,IAAA,UAAOqD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,2BAErD,CAAO,CAAC,CAEPrC,YAAY,cACXf,KAAA,QAAKmD,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBtD,IAAA,QACEqF,GAAG,CAAEpE,YAAa,CAClBqE,GAAG,CAAC,gBAAgB,CACpBjC,SAAS,CAAC,qCAAqC,CAChD,CAAC,cACFrD,IAAA,WACEmF,OAAO,CAAEnC,WAAY,CACrBK,SAAS,CAAC,yIAAyI,CAAAC,QAAA,cAEnJtD,IAAA,CAACL,CAAC,EAAC0D,SAAS,CAAC,SAAS,CAAE,CAAC,CACnB,CAAC,EACN,CAAC,cAENnD,KAAA,OAAAqF,aAAA,CAAAA,aAAA,IACMtD,YAAY,CAAC,CAAC,MAClBoB,SAAS,2IAAAP,MAAA,CACPX,YAAY,CAAG,WAAW,CAAG,+CAA+C,CAC3E,CAAAmB,QAAA,eAEHtD,IAAA,SAAAuF,aAAA,IAAWrD,aAAa,CAAC,CAAC,CAAG,CAAC,cAC9BlC,IAAA,CAACX,MAAM,EAACgE,SAAS,CAAC,4BAA4B,CAAE,CAAC,cACjDrD,IAAA,MAAGqD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,CACrCnB,YAAY,CACX,sBAAsB,cAEtBjC,KAAA,CAAAE,SAAA,EAAAkD,QAAA,EAAE,2BACyB,cAAAtD,IAAA,SAAMqD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,iBAAe,CAAM,CAAC,EACpF,CACH,CACA,CAAC,cACJtD,IAAA,MAAGqD,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,qBAE1C,CAAG,CAAC,GACD,CACN,EACE,CAAC,EACH,CAAC,cAGNpD,KAAA,QAAKmD,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnEtD,IAAA,WACEmF,OAAO,CAAE5C,iBAAkB,CAC3Bc,SAAS,CAAC,gGAAgG,CAAAC,QAAA,CAC3G,oBAED,CAAQ,CAAC,cAETpD,KAAA,WACEiF,OAAO,CAAE5C,iBAAkB,CAC3B6C,QAAQ,CAAE,CAACvE,MAAM,CAAC2B,IAAI,CAAC,CAAC,EAAI,CAACzB,aAAc,CAC3CsC,SAAS,CAAC,wJAAwJ,CAAAC,QAAA,eAElKtD,IAAA,CAACP,QAAQ,EAAC4D,SAAS,CAAC,SAAS,CAAE,CAAC,cAChCrD,IAAA,SAAAsD,QAAA,CAAM,+BAA6B,CAAM,CAAC,EACpC,CAAC,EACN,CAAC,cAENtD,IAAA,MAAGqD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,0DAEtD,CAAG,CAAC,EACD,CAAC,GA5GF,eA6GM,CACb,EACS,CAAC,CACV,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjD,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}